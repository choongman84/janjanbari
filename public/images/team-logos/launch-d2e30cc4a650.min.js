// For license information, see `https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/launch-d2e30cc4a650.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2024-11-11T09:54:52Z",turbineBuildDate:"2024-08-22T17:32:44Z",turbineVersion:"28.0.0"},environment:{id:"EN828857bdeb4f447986bde49fd878004d",stage:"production"},dataElements:{"dataLayer:siteSearch:siteSearchResultsNumber":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("siteSearch")&&e.siteSearch.hasOwnProperty("siteSearchResultsNumber")?e.siteSearch.siteSearchResultsNumber:null}}},"dataLayer:orderInfo:coupon":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("coupon")?e.orderInfo.coupon:""}}},"dataLayer:filter:filterSection":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterSection")?e.filter.filterSection:""}}},"dataLayer:videoTracking:videoName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoName")?e.videoTracking.videoName:""}}},"dataLayer:webReferrer:previousPagePath":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");if(RMTagManager&&RMTagManager.hasOwnProperty("dataLayer")&&RMTagManager.dataLayer.hasOwnProperty("getUrlInfo")){if(e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("previousPageURL")&&""!=e.webPageDetails.previousPageURL)return RMTagManager.dataLayer.getUrlInfo(e.webPageDetails.previousPageURL).pagePath;if(e.hasOwnProperty("webReferrer")&&e.webReferrer.hasOwnProperty("previousPageURL")&&""!=e.webReferrer.previousPageURL)return RMTagManager.dataLayer.getUrlInfo(e.webReferrer.previousPageURL).pagePath}var t=/^(\w+):\/\/([^\/]+)([^\?]+)/.exec(document.referrer);return null!=t?t[3]:""}}},"dataLayer:photoTracking:photoAdvanceType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("photoTracking")&&e.photoTracking.hasOwnProperty("photoAdvanceType")?e.photoTracking.photoAdvanceType:""}}},"oneTrust:applies":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!0}}},"dataLayer:videoTracking:videoLocation":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoLocation")?e.videoTracking.videoLocation:""}}},"dataLayer:webPageDetails:pageTitle":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageTitle")&&""!=e.webPageDetails.pageTitle?e.webPageDetails.pageTitle:document.title}}},"facebook:accountID":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"619152566483368"}},"dataLayer:webPageDetails:country":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");if(e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("country")){var t=e.webPageDetails.country.toLowerCase(),a=e.webPageDetails.hasOwnProperty("pageLang")?e.webPageDetails.pageLang:"",n={es:"es",en:"en",de:"de",fr:"fr",pt:"pt",ja:"jp",ar:"ae",zh:"cn",id:"id",hi:"in"};return""==t&&n.hasOwnProperty(a)?n[a]:t}return""}}},"dataLayer:webInteraction:interactionElementEventName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webInteraction")&&e.webInteraction.hasOwnProperty("interactionElementEventName")?e.webInteraction.interactionElementEventName:""}}},"datalayer:logout:logoutAction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("logout")&&e.logout.hasOwnProperty("logoutAction")?e.logout.logoutAction:""}}},"dataLayer:webReferrer:referrer":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webReferrer")&&e.webReferrer.hasOwnProperty("referrer")&&""!=e.webReferrer.referrer?e.webReferrer.referrer:document.referrer}}},"dataLayer:photoTracking:photoProgress":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("photoTracking")&&e.photoTracking.hasOwnProperty("photoProgress")?e.photoTracking.photoProgress:""}}},"dataLayer:register:registerLoyalType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("register")&&e.register.hasOwnProperty("registerLoyalType")?e.register.registerLoyalType:""}}},"dataLayer:webPageDetails:pageMoment":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageMoment")&&""!=e.webPageDetails.pageMoment?e.webPageDetails.pageMoment:""}}},"dataLayer:formTracking:formLocation":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formLocation")?e.formTracking.formLocation:""}}},"dataLayer:formTracking:moduloType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("moduloType")?e.formTracking.moduloType:""}}},"data.__adobe.target":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={__adobe:{target:{}}};try{1==_satellite.getVar("Madridistas_click_premium-8-carousel_unetecomopremium")&&(e.__adobe.target["profile.clickUneteComoPremium"]="true")}catch(e){}return e}}},"dataLayer:webPageDetails:currency":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("currency")?e.webPageDetails.currency:""}}},"dataLayer:orderInfo:tax":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("tax")?e.orderInfo.tax:""}}},"dataLayer:filter:filterMoment":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterMoment")?e.filter.filterMoment:""}}},"dataLayer:siteSearch:siteSearchTerm":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("siteSearch")&&e.siteSearch.hasOwnProperty("siteSearchTerm")?e.siteSearch.siteSearchTerm:""}}},"dataLayer:user:userLoginStatus":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userLoginStatus")?e.user.userLoginStatus:""}}},"dataLayer:videoTracking:videoMetatags":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoMetatags")?e.videoTracking.videoMetatags:[]}}},"aep:xdm:linkEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"linkClick",match:{team:"%dataLayer:webPageDetails:team%",matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{URL:"%dataLayer:linkClick:linkURL%",name:"linkClick",type:"%dataLayer:linkClick:linkType%",region:"%dataLayer:linkClick:linkPosition%",linkClicks:{id:"%dataLayer:linkClick:linkID%",value:1},_realmadrid:{link:{url:"%dataLayer:linkClick:linkURL%",name:"%dataLayer:linkClick:linkName%",path:"%dataLayer:linkClick:linkPath%"},moduleType:"%dataLayer:webInteraction:moduleType%",buttonTracking:{buttonName:"%dataLayer:buttonClick:buttonName%"},interactionElementType:"%dataLayer:webInteraction:interactionElementType%",interactionElementTitle:"%dataLayer:webInteraction:interactionElementTitle%",interactionElementEventName:"%dataLayer:webInteraction:interactionElementEventName%"}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",viewName:"%dataLayer:webPageDetails:pagePath%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",canonicalURL:"%dataLayer:webPageDetails:canonicalURL%",metatags_list:"%dataLayer:webPageDetails:metatagsList%",brandedContent:"%dataLayer:webPageDetails:brandedContent%",canonicalURLValid:"%dataLayer:webPageDetails:canonicalURLValid%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{_realmadrid:{funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"}}},eventType:"web.webinteraction.linkClicks",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"DE - test1":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"test1"}},"dataLayer:webPageDetails:pageAnchor":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");if(e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageAnchor")&&""!=e.webPageDetails.pageAnchor)return e.webPageDetails.pageAnchor;var t=document.location.href;return-1!=t.indexOf("#")?t.substr(t.indexOf("#")+1).replace(/[\?].*?$/g,""):""}}},"dataLayer:webInteraction:interactionElementType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webInteraction")&&e.webInteraction.hasOwnProperty("interactionElementType")?e.webInteraction.interactionElementType:""}}},"dataLayer:login:loginAction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("login")&&e.login.hasOwnProperty("loginAction")?e.login.loginAction:""}}},"dataLayer:campaign:campaignSource":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("campaignSource")?e.campaign.campaignSource:_satellite.getVar("queryParam:utm_source")}}},"oneTrust:loaded":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof OneTrust}}},"queryParam:utm_content":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("utm_content"):""}}},"dataLayer:webInteraction:moduleType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webInteraction")&&e.webInteraction.hasOwnProperty("moduleType")?e.webInteraction.moduleType:""}}},"dataLayer:filter:filterErrorMessage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterErrorMessage")?e.filter.filterErrorMessage:""}}},"dataLayer:funnelInfo:funnelSeat":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("funnelInfo")&&e.funnelInfo.hasOwnProperty("funnelSeat")?e.funnelInfo.funnelSeat:""}}},"dataLayer:user:userLoyaltyStatus":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userLoyaltyStatus")?e.user.userLoyaltyStatus:""}}},"datalayer:logout:logoutErrorMessage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("logout")&&e.logout.hasOwnProperty("logoutErrorMessage")?e.logout.logoutErrorMessage:""}}},"dataLayer:login:loginMethod":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("login")&&e.login.hasOwnProperty("loginMethod")?e.login.loginMethod:""}}},"dataLayer:buttonClick:buttonName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("buttonClick")&&e.buttonClick.hasOwnProperty("buttonName")?e.buttonClick.buttonName:""}}},"dataLayer:webPageDetails:team":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("team")?e.webPageDetails.team:""}}},"queryParam:intcid":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("itm_campaign"):""}}},"aep:xdm:videoPlayEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"videoPlay",match:{team:"%dataLayer:webPageDetails:team%",matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"videoPlay",type:"other",_realmadrid:{moduleType:"%dataLayer:linkClick:moduleType%",eventCounter:{videoPlay:1},videoTracking:{videoID:"%dataLayer:videoTracking:videoID%",videoDate:"%dataLayer:videoTracking:videoDate%",videoLang:"%dataLayer:videoTracking:videoLang%",videoName:"%dataLayer:videoTracking:videoName%",videoType:"%dataLayer:videoTracking:videoType%",videoPlayer:"%dataLayer:videoTracking:videoPlayer%",videoTimeTotal:"%dataLayer:videoTracking:videoTimeTotal%"}}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",mediaLang:"%dataLayer:webPageDetails:mediaLang%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",pageAnchor:"%dataLayer:webPageDetails:pageAnchor%",canonicalURL:"%dataLayer:webPageDetails:canonicalURL%",metatags_list:"%dataLayer:webPageDetails:metatagsList%",brandedContent:"%dataLayer:webPageDetails:brandedContent%",canonicalURLValid:"%dataLayer:webPageDetails:canonicalURLValid%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},eventType:"web.webInteraction.videoTracking.videoPlay",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"gtm:accountID":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"GTM-WJF7H22"}},"dataLayer:linkClick:linkID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkClick")&&e.linkClick.hasOwnProperty("linkID")?e.linkClick.linkID:""}}},"dataLayer:orderInfo:paymentType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("paymentType")?e.orderInfo.paymentType:""}}},"dataLayer:socialNetwork:socialNetworkAction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("socialNetwork")&&e.socialNetwork.hasOwnProperty("socialNetworkAction")?e.socialNetwork.socialNetworkAction:""}}},"queryParam:utm_campaign":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("utm_campaign"):""}}},"aep:xdm:buttonEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"buttonClick",match:{team:"%dataLayer:webPageDetails:team%",matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"buttonClick",type:"other",_realmadrid:{eventCounter:{buttonClick:1},buttonTracking:{buttonName:"%dataLayer:buttonClick:buttonName%"}}},webPageDetails:{URL:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",mediaLang:"%dataLayer:webPageDetails:mediaLang%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",pageAnchor:"%dataLayer:webPageDetails:pageAnchor%",canonicalURL:"%dataLayer:webPageDetails:canonicalURL%",metatags_list:"%dataLayer:webPageDetails:metatagsList%",brandedContent:"%dataLayer:webPageDetails:brandedContent%",canonicalURLValid:"%dataLayer:webPageDetails:canonicalURLValid%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{_realmadrid:{funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"}}},eventType:"web.webInteraction.buttonClick",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:webPageDetails:pageID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageID")&&""!=e.webPageDetails.pageID?e.webPageDetails.pageID:""}}},"dataLayer:scrollTracking:scrollPercentage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state"),t=null;if(e.hasOwnProperty("scrollTracking")&&e.scrollTracking.hasOwnProperty("scrollPercentage"))try{t=parseInt(e.scrollTracking.scrollPercentage)}catch(e){t=null}return t}}},"dataLayer:productListItems":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("productListItems")&&"object"==typeof e.productListItems?e.productListItems:[]}}},"dataLayer:scrollTracking:scrollModule":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("scrollTracking")&&e.scrollTracking.hasOwnProperty("scrollModule")?e.scrollTracking.scrollModule:""}}},"dataLayer:orderInfo:promotionValue":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");if(e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("promotionValue"))return e.orderInfo.promotionValue}}},"document.location.pathname":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return document.location.pathname}}},"dataLayer:webPageDetails:newsName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsName")?"undefined"!=typeof RMTagManager&&void 0!==RMTagManager.utils&&"function"==typeof RMTagManager.utils.formatDataLayerParam?RMTagManager.utils.formatDataLayerParam(e.webPageDetails.newsName):e.webPageDetails.newsName:""}}},"cookie:usuario":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"usuario"}},"dataLayer:webPageDetails:advantageName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("advantageName")?e.webPageDetails.advantageName:""}}},"dataLayer:user:userLifetimeValue":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userLifetimeValue")?e.user.userLifetimeValue:null}}},"dataLayer:filter:moduleType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("moduleType")?e.filter.moduleType:""}}},"dataLayer:webPageDetails:newsAuthor":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsAuthor")?e.webPageDetails.newsAuthor:""}}},"dataLayer:webPageDetails:pageLevel1":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLevel1")&&""!=e.webPageDetails.pageLevel1?e.webPageDetails.pageLevel1:""}}},"dataLayer:orderInfo:priceTotal":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("priceTotal")?parseFloat(e.orderInfo.priceTotal):0}}},"dataLayer:state":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:""}},"dataLayer:webPageDetails:newsCategory":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsCategory")?e.webPageDetails.newsCategory:""}}},"dataLayer:formTracking:formSubmitAction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formSubmitAction")?e.formTracking.formSubmitAction:""}}},event_merge_id:{modulePath:"adobe-alloy/dist/lib/dataElements/eventMergeId/index.js",settings:{cacheId:"080f9927-9db0-4f16-8dcb-ec2bc4c9eea2"}},"dataLayer:user:userCategory":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userCategory")?e.user.userCategory:""}}},"dataLayer:orderInfo:shippingMethod":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("shippingMethod")?e.orderInfo.shippingMethod:""}}},"dataLayer:videoTracking:videoLang":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoLang")?e.videoTracking.videoLang:""}}},"identityMap - testEmail":{modulePath:"adobe-alloy/dist/lib/dataElements/identityMap/index.js",settings:{Email:[{id:"%testEmail%",primary:!1,authenticatedState:"authenticated"}],IdPID:[{id:"%testEmail%",primary:!1,authenticatedState:"authenticated"}]}},"dataLayer:formTracking:formType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formType")?e.formTracking.formType:""}}},"dataLayer:siteSearch:searchAction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("siteSearch")&&e.siteSearch.hasOwnProperty("searchAction")?e.siteSearch.searchAction:""}}},"dataLayer:filter:filterAction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterAction")?e.filter.filterAction:""}}},"dataLayer:orderInfo:promotionName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("promotionName")?e.orderInfo.promotionName:""}}},"dataLayer:webPageDetails:userAgent":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("userAgent")?e.webPageDetails.userAgent:navigator&&navigator.userAgent?navigator.userAgent:""}}},"dataLayer:webPageDetails:pageSection":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageSection")&&""!=e.webPageDetails.pageSection?e.webPageDetails.pageSection:"no-section"}}},"dataLayer:photoTracking:photoAuthor":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{
source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("photoTracking")&&e.photoTracking.hasOwnProperty("photoAuthor")?e.photoTracking.photoAuthor:""}}},"dataLayer:filter:filterType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterType")?e.filter.filterType:""}}},"dataLayer:videoTracking:videoDate":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoDate")?e.videoTracking.videoDate:""}}},"dataLayer:user:userType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userType")?e.user.userType:""}}},"dataLayer:photoTracking:photoID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("photoTracking")&&e.photoTracking.hasOwnProperty("photoID")?e.photoTracking.photoID:""}}},"queryParam:adb_idp":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("adb_idp"):""}}},"dataLayer:formTracking:formSubmitError":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formSubmitError")?e.formTracking.formSubmitError:""}}},"dataLayer:formTracking:formId":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formId")?e.formTracking.formId:""}}},"dataLayer:webInteraction:interactionElementTitle":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webInteraction")&&e.webInteraction.hasOwnProperty("interactionElementTitle")?e.webInteraction.interactionElementTitle:""}}},"dataLayer:linkClick:linkType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkClick")&&e.linkClick.hasOwnProperty("linkType")&&""!==e.linkClick.linkType?e.linkClick.linkType:"other"}}},"dataLayer:user:adsBlockedStatus":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("adsBlockedStatus")?e.user.adsBlockedStatus:""}}},"dataLayer:webPageDetails:canonicalURL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("canonicalURL")?e.webPageDetails.canonicalURL:""}}},"queryParam:workflow":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("workflow"):""}}},"dataLayer:campaign:campaignContent":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("campaignContent")?e.campaign.campaignContent:_satellite.getVar("queryParam:utm_content")}}},"dataLayer:linkClick:linkPath":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkClick")&&e.linkClick.hasOwnProperty("linkPath")?e.linkClick.linkPath:""}}},"dataLayer:user:userGender":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userGender")?e.user.userGender:""}}},"dataLayer:webPageDetails:matchTitle":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("matchTitle")?e.webPageDetails.matchTitle:""}}},"dataLayer:webPageDetails:pageTopDomain":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageTopDomain")&&""!=e.webPageDetails.pageTopDomain?e.webPageDetails.pageTopDomain:location.host.substr(location.host.lastIndexOf("."))}}},"aep:trackingServer":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="edge.adobedc.net";return-1!=location.host.indexOf("realmadrid.com")&&(e="dc.realmadrid.com"),e}}},"dataLayer:linkClick:linkPosition":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkPosition")&&e.linkClick.hasOwnProperty("linkPosition")?e.linkClick.linkPosition:""}}},"dataLayer:webPageDetails:tmsVersion":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("tmsVersion")&&""!=e.webPageDetails.tmsVersion?e.webPageDetails.tmsVersion:RMTagManager.version}}},"outbrain:accountID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"es-ES"==_satellite.getVar("dataLayer:webPageDetails:pageLang")?"006fbd1661fd41f03f7320b724df6abef0":"006995018bf0187c6d1409c62defc0cc27"}}},"dataLayer:webPageDetails:pageURL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageURL")&&""!=e.webPageDetails.pageURL?e.webPageDetails.pageURL:location.href}}},"dataLayer:orderInfo:purchaseID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("purchaseID")?e.orderInfo.purchaseID:""}}},"dataLayer:formTracking:formMetatags":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formMetatags")?e.formTracking.formMetatags:[]}}},"dataLayer:formTracking:formErrorFieldsDetail":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formErrorFieldsDetail")?"object"==typeof e.formTracking.formErrorFieldsDetail?JSON.stringify(e.formTracking.formErrorFieldsDetail):e.formTracking.formErrorFieldsDetail:""}}},"dataLayer:webPageDetails:newsDate":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");if(e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsDate")){var t=e.webPageDetails.newsDate;if(!/^([\d]{4})\-([\d]{2})\-([\d]{2})$/.exec(t)){var a=/^([\d]{2})\/([\d]{2})\/([\d]{4})$/.exec(t);t=a?a[3]+"-"+a[2]+"-"+a[1]:null}return t}return null}}},"dataLayer:webPageDetails:playerName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("playerName")&&""!=e.webPageDetails.playerName?e.webPageDetails.playerName:""}}},"dataLayer:webPageDetails:pageLevel3":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLevel3")&&""!=e.webPageDetails.pageLevel3?e.webPageDetails.pageLevel3:""}}},"dataLayer:videoTracking:videoTimeTotal":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state"),t=null;if(e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoTimeTotal"))try{t=parseInt(e.videoTracking.videoTimeTotal)}catch(e){t=null}return t}}},"dataLayer:linkClick:linkURL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkClick")&&e.linkClick.hasOwnProperty("linkURL")?e.linkClick.linkURL:""}}},"dataLayer:webPageDetails:pageLoadType":{forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLoadType")&&""!=e.webPageDetails.pageLoadType?e.webPageDetails.pageLoadType:"not_set"}}},"dataLayer:webPageDetails:mediaLang":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("mediaLang")?e.webPageDetails.mediaLang:null!=_satellite.getVar("dataLayer:webPageDetails:pageLang")?"es"==_satellite.getVar("dataLayer:webPageDetails:pageLang")?"es":"en":""}}},"dataLayer:campaign:campaignID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("campaignID")?e.campaign.campaignID:_satellite.getVar("queryParam:utm_campaign")}}},"dataLayer:linkClick:linkName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkClick")&&e.linkClick.hasOwnProperty("linkName")?e.linkClick.linkName:""}}},"dataLayer:videoTracking:videoPlayerObject":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoPlayerObject")?e.videoTracking.videoPlayerObject:""}}},"dataLayer:webPageDetails:newsTitle":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsTitle")?e.webPageDetails.newsTitle:""}}},"queryParam:utm_source":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("utm_source"):""}}},"dataLayer:webReferrer:previousName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webReferrer")&&e.webReferrer.hasOwnProperty("previousName")&&""!=e.webReferrer.previousName?e.webReferrer.previousName:""}}},"dataLayer:webReferrer:previousPageURL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("previousPageURL")&&""!=e.webPageDetails.previousPageURL?e.webPageDetails.previousPageURL:e.hasOwnProperty("webReferrer")&&e.webReferrer.hasOwnProperty("previousPageURL")&&""!=e.webReferrer.previousPageURL?e.webReferrer.previousPageURL:document.referrer}}},"dataLayer:videoTracking:videoID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoID")?e.videoTracking.videoID:""}}},"dataLayer:videoTracking:videoPlayer":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoPlayer")?e.videoTracking.videoPlayer:""}}},"queryParam:adb_emh":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("adb_emh"):""}}},"aep:xdm:videoCompleteEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"videoComplete",match:{team:"%dataLayer:webPageDetails:team%",matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"videoComplete",type:"other",_realmadrid:{eventCounter:{videoComplete:1},videoTracking:{videoID:"%dataLayer:videoTracking:videoID%",videoDate:"%dataLayer:videoTracking:videoDate%",videoLang:"%dataLayer:videoTracking:videoLang%",videoName:"%dataLayer:videoTracking:videoName%",videoType:"%dataLayer:videoTracking:videoType%",videoPlayer:"%dataLayer:videoTracking:videoPlayer%",videoTimeTotal:"%dataLayer:videoTracking:videoTimeTotal%"}}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",mediaLang:"%dataLayer:webPageDetails:mediaLang%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",pageAnchor:"%dataLayer:webPageDetails:pageAnchor%",canonicalURL:"%dataLayer:webPageDetails:canonicalURL%",metatags_list:"%dataLayer:webPageDetails:metatagsList%",brandedContent:"%dataLayer:webPageDetails:brandedContent%",canonicalURLValid:"%dataLayer:webPageDetails:canonicalURLValid%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},eventType:"web.webInteraction.videoTracking.videoComplete",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:webPageDetails:pagePath":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pagePath")&&""!=e.webPageDetails.pagePath?e.webPageDetails.pagePath:location.pathname}}},"dataLayer:scrollTracking:scrollType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("scrollTracking")&&e.scrollTracking.hasOwnProperty("scrollType")?e.scrollTracking.scrollType:""}}},"aep:xdm:videoPauseEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"videoPause",match:{team:"%dataLayer:webPageDetails:team%",matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"videoPause",type:"other",_realmadrid:{moduleType:"%dataLayer:linkClick:moduleType%",eventCounter:{videoPause:1},videoTracking:{videoID:"%dataLayer:videoTracking:videoID%",videoDate:"%dataLayer:videoTracking:videoDate%",videoName:"%dataLayer:videoTracking:videoName%",videoType:"%dataLayer:videoTracking:videoType%",videoPlayer:"%dataLayer:videoTracking:videoPlayer%",videoTimeLapse:"%dataLayer:videoTracking:videoTimeLapse%",videoTimeTotal:"%dataLayer:videoTracking:videoTimeTotal%"}}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",mediaLang:"%dataLayer:webPageDetails:mediaLang%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",pageAnchor:"%dataLayer:webPageDetails:pageAnchor%",canonicalURL:"%dataLayer:webPageDetails:canonicalURL%",metatags_list:"%dataLayer:webPageDetails:metatagsList%",brandedContent:"%dataLayer:webPageDetails:brandedContent%",canonicalURLValid:"%dataLayer:webPageDetails:canonicalURLValid%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},eventType:"web.webInteraction.videoTracking.videoPause",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:webPageDetails:canonicalURLValid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("canonicalURLValid")?e.webPageDetails.canonicalURLValid:""}}},"dataLayer:webPageDetails:pageMetatags":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageMetatags")&&"object"==typeof e.webPageDetails.pageMetatags?e.webPageDetails.pageMetatags:[]}}},"aep:xdm:formSubmitEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"formSubmit",match:{team:"%dataLayer:webPageDetails:team%",matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"formSubmit",type:"other",_realmadrid:{moduleType:"%dataLayer:linkClick:moduleType%",eventCounter:{formSubmit:1},formTracking:{formName:"%dataLayer:formTracking:formName%",formSubmitAction:"%dataLayer:formTracking:formSubmitAction%"}}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",mediaLang:"%dataLayer:webPageDetails:mediaLang%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",pageAnchor:"%dataLayer:webPageDetails:pageAnchor%",canonicalURL:"%dataLayer:webPageDetails:canonicalURL%",metatags_list:"%dataLayer:webPageDetails:metatagsList%",brandedContent:"%dataLayer:webPageDetails:brandedContent%",canonicalURLValid:"%dataLayer:webPageDetails:canonicalURLValid%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},eventType:"web.webInteraction.formTracking.formSubmit",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:funnelInfo:funnelPlace":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("funnelInfo")&&e.funnelInfo.hasOwnProperty("funnelPlace")?e.funnelInfo.funnelPlace:""}}},"dataLayer:identification:idpID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("identification")&&e.identification.hasOwnProperty("idpID")?e.identification.idpID:""}}},"dataLayer:campaign:intCampaign":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("intCampaign")?e.campaign.intCampaign:_satellite.getVar("queryParam:intcid")}}},"dataLayer:webPageDetails:pageLevel5":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLevel5")&&""!=e.webPageDetails.pageLevel5?e.webPageDetails.pageLevel5:""}}},"dataLayer:campaign:campaignMedium":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("campaignMedium")?e.campaign.campaignMedium:_satellite.getVar("queryParam:utm_medium")}}},"dataLayer:user:userOneTrustPreferences":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userOneTrustPreferences")?e.user.userOneTrustPreferences:"undefined"!=typeof RMTagManager&&void 0!==RMTagManager.dataLayer&&"function"==typeof RMTagManager.dataLayer.getUserOneTrustPreferences?RMTagManager.dataLayer.getUserOneTrustPreferences():""}}},"dataLayer:webPageDetails:pageName":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageName")&&""!=e.webPageDetails.pageName?e.webPageDetails.pageName:location.host+location.pathname}}},testEmail:{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"test@test.com"}},"dataLayer:funnelInfo:funnelType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("funnelInfo")&&e.funnelInfo.hasOwnProperty("funnelType")?e.funnelInfo.funnelType:""}}},"queryParam:utm_term":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("utm_term"):""}}},"dataLayer:webPageDetails:matchTournament":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("matchTournament")?e.webPageDetails.matchTournament:""}}},"dataLayer:videoTracking:videoTemplate":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoTemplate")?e.videoTracking.videoTemplate:""}}},"dataLayer:webPageDetails:pageDomain":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageDomain")&&""!=e.webPageDetails.pageDomain?e.webPageDetails.pageDomain:location.host}}},"dataLayer:login:loginErrorMessage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("login")&&e.login.hasOwnProperty("loginErrorMessage")?e.login.loginErrorMessage:""}}},"dataLayer:webPageDetails:pageLevel4":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLevel4")&&""!=e.webPageDetails.pageLevel4?e.webPageDetails.pageLevel4:""}}},"dataLayer:webPageDetails:pageTemplate":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageTemplate")&&""!=e.webPageDetails.pageTemplate?e.webPageDetails.pageTemplate:""}}},"aep:xdm:test":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},match:{team:"%dataLayer:webPageDetails:team%",matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},campaign:{id:"%dataLayer:campaign:campaignID%",term:"%dataLayer:campaign:campaignTerm%",medium:"%dataLayer:campaign:campaignMedium%",source:"%dataLayer:campaign:campaignSource%",content:"%dataLayer:campaign:campaignContent%",intCampaign:"%dataLayer:campaign:intCampaign%"},identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",mediaLang:"%dataLayer:webPageDetails:mediaLang%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",pageAnchor:"%dataLayer:webPageDetails:pageAnchor%",canonicalURL:"%dataLayer:webPageDetails:canonicalURL%",metatags_list:"%dataLayer:webPageDetails:metatagsList%",
brandedContent:"%dataLayer:webPageDetails:brandedContent%",canonicalURLValid:"%dataLayer:webPageDetails:canonicalURLValid%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{_realmadrid:{funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"}}},eventType:"web.webpagedetails.test",marketing:{campaignName:"%dataLayer:campaign:campaignID%",trackingCode:"%dataLayer:campaign:cid%",campaignGroup:"%dataLayer:campaign:campaignSource%"},_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%",correlationIdpID:"%queryParam:adb_idp%",correlationHashedEmail:"%queryParam:adb_emh%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:formTracking:formTemplate":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formTemplate")?e.formTracking.formTemplate:""}}},"dataLayer:webPageDetails:cms":{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("cms")&&""!=e.webPageDetails.cms?e.webPageDetails.cms:"aem"}}},"dataLayer:webPageDetails:pageType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageType")&&""!=e.webPageDetails.pageType?e.webPageDetails.pageType:""}}},"dataLayer:formTracking:formName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formName")?e.formTracking.formName:""}}},"dataLayer:orderInfo:shippingAmount":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("shippingAmount")?parseFloat(e.orderInfo.shippingAmount):0}}},"dataLayer:webPageDetails:pageChannel":{defaultValue:"web",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageChannel")&&""!=e.webPageDetails.pageChannel?e.webPageDetails.pageChannel:"web"}}},"dataLayer:filter:filterKeyword":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterKeyword")?e.filter.filterKeyword:""}}},getEventID:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return RMTagManager.dataLayer.getEventID()}}},"aep:xdm:pageViews":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},match:{team:"%dataLayer:webPageDetails:team%",matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},campaign:{id:"%dataLayer:campaign:campaignID%",term:"%dataLayer:campaign:campaignTerm%",medium:"%dataLayer:campaign:campaignMedium%",source:"%dataLayer:campaign:campaignSource%",content:"%dataLayer:campaign:campaignContent%",intCampaign:"%dataLayer:campaign:intCampaign%"},identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",viewName:"%dataLayer:webPageDetails:viewName%",pageViews:{id:"%dataLayer:webPageDetails:pageName%",value:1},_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",mediaLang:"%dataLayer:webPageDetails:mediaLang%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",pageAnchor:"%dataLayer:webPageDetails:pageAnchor%",canonicalURL:"%dataLayer:webPageDetails:canonicalURL%",metatags_list:"%dataLayer:webPageDetails:metatagsList%",brandedContent:"%dataLayer:webPageDetails:brandedContent%",canonicalURLValid:"%dataLayer:webPageDetails:canonicalURLValid%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{_realmadrid:{funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"}}},eventType:"web.webpagedetails.pageViews",marketing:{campaignName:"%dataLayer:campaign:campaignID%",trackingCode:"%dataLayer:campaign:cid%",campaignGroup:"%dataLayer:campaign:campaignSource%"},_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%",correlationIdpID:"%queryParam:adb_idp%",correlationHashedEmail:"%queryParam:adb_emh%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:login:loginErrorFields":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("login")&&e.login.hasOwnProperty("loginErrorFields")?e.login.loginErrorFields:[]}}},"dataLayer:socialNetwork:socialNetworkErrorMessage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("socialNetwork")&&e.socialNetwork.hasOwnProperty("socialNetworkErrorMessage")?e.socialNetwork.socialNetworkErrorMessage:""}}},"dataLayer:webPageDetails:pageLang":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLang")&&""!=e.webPageDetails.pageLang?e.webPageDetails.pageLang:document.documentElement.lang?document.documentElement.lang:""}}},"dataLayer:videoTracking:videoTimeLapse":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state"),t=null;if(e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoTimeLapse"))try{t=parseInt(e.videoTracking.videoTimeLapse)}catch(e){t=null}return t}}},"aep:xdm:videoProgressEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"videoProgress",match:{team:"%dataLayer:webPageDetails:team%",matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"videoProgress",type:"other",_realmadrid:{moduleType:"%dataLayer:linkClick:moduleType%",eventCounter:{videoProgress:1},videoTracking:{videoID:"%dataLayer:videoTracking:videoID%",videoDate:"%dataLayer:videoTracking:videoDate%",videoName:"%dataLayer:videoTracking:videoName%",videoType:"%dataLayer:videoTracking:videoType%",videoPlayer:"%dataLayer:videoTracking:videoPlayer%",videoTimeLapse:"%dataLayer:videoTracking:videoTimeLapse%",videoTimeTotal:"%dataLayer:videoTracking:videoTimeTotal%",videoTimePercentage:"%dataLayer:videoTracking:videoTimePercentage%"}}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",mediaLang:"%dataLayer:webPageDetails:mediaLang%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",pageAnchor:"%dataLayer:webPageDetails:pageAnchor%",canonicalURL:"%dataLayer:webPageDetails:canonicalURL%",metatags_list:"%dataLayer:webPageDetails:metatagsList%",brandedContent:"%dataLayer:webPageDetails:brandedContent%",canonicalURLValid:"%dataLayer:webPageDetails:canonicalURLValid%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},eventType:"web.webInteraction.videoTracking.videoProgress",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:videoTracking:videoTimePercentage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state"),t=null;if(e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoTimePercentage"))try{t=parseInt(e.videoTracking.videoTimePercentage)}catch(e){t=null}return t}}},"setConsent value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{collect:{val:"y"},metadata:{time:(new Date).toISOString()}}}}},"queryParam:utm_medium":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("utm_medium"):""}}},"dataLayer:campaign:cid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");if(e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("cid"))return e.campaign.cid;var t=";",a=_satellite.getVar("dataLayer:campaign:campaignID"),n=_satellite.getVar("dataLayer:campaign:campaignSource"),r=_satellite.getVar("dataLayer:campaign:campaignMedium"),o=_satellite.getVar("dataLayer:campaign:campaignTerm"),i=_satellite.getVar("dataLayer:campaign:campaignContent");return""==a&&""==n&&""==r&&""==o&&""==i?"":_satellite.getVar("dataLayer:campaign:campaignID")+t+_satellite.getVar("dataLayer:campaign:campaignSource")+t+_satellite.getVar("dataLayer:campaign:campaignMedium")+t+_satellite.getVar("dataLayer:campaign:campaignTerm")+t+_satellite.getVar("dataLayer:campaign:campaignContent")}}},"document.location.hash":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return document.location.hash}}},"dataLayer:webPageDetails:brandedContent":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("brandedContent")?e.webPageDetails.brandedContent:""}}},"dataLayer:webPageDetails:pageLevel2":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLevel2")&&""!=e.webPageDetails.pageLevel2?e.webPageDetails.pageLevel2:""}}},"dataLayer:siteSearch:siteSearchMethod":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("siteSearch")&&e.siteSearch.hasOwnProperty("siteSearchMethod")?e.siteSearch.siteSearchMethod:""}}},"aep:setConsent":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{collect:{val:"y"},metadata:{time:(new Date).toISOString()}}}}},"dataLayer:siteSearch:searchErrorMessage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("siteSearch")&&e.siteSearch.hasOwnProperty("searchErrorMessage")?e.siteSearch.searchErrorMessage:""}}},"dataLayer:orderInfo:promotionID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("promotionID")?e.orderInfo.promotionID:""}}},"dataLayer:linkClick:moduleType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkClick")&&e.linkClick.hasOwnProperty("moduleType")?e.linkClick.moduleType:""}}},"dataLayer:webPageDetails:newsType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsType")?e.webPageDetails.newsType:""}}},"dataLayer:webPageDetails:viewName":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("viewName")&&""!=e.webPageDetails.viewName?e.webPageDetails.viewName:location.pathname}}},"dataLayer:socialNetwork:socialNetworkPlatform":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("socialNetwork")&&e.socialNetwork.hasOwnProperty("socialNetworkPlatform")?e.socialNetwork.socialNetworkPlatform:""}}},"dataLayer:webPageDetails:metatagsList":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("metatagsList")&&"string"==typeof e.webPageDetails.metatagsList?e.webPageDetails.metatagsList:_satellite.getVar("dataLayer:webPageDetails:pageMetatags").toString()}}},"dataLayer:videoTracking:videoType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoType")?e.videoTracking.videoType:""}}},"dataLayer:user:userAge":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userAge")?e.user.userAge:null}}},"dataLayer:campaign:campaignTerm":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("campaignTerm")?e.campaign.campaignTerm:_satellite.getVar("queryParam:utm_term")}}},"dataLayer:webPageDetails:newsUrl":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsUrl")?e.webPageDetails.newsUrl:""}}},"dataLayer:filter:filterCategory":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterCategory")?e.filter.filterCategory:""}}}},extensions:{"gcoe-adobe-client-data-layer":{displayName:"Adobe Client Data Layer",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP6e4c031a8b7640d7ac3fab013fa28b17/",settings:{dataLayerName:"adobeDataLayer",injectLibrary:!0},modules:{"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js":{name:"datalayer-computed-state",displayName:"Data Layer Computed State",script:function(e,t,a){"use strict";e.exports=function(e){if(null!=e){var t=n();if(void 0!==t)return""!==e.path?t.getState(e.path):t.getState()}};var n=a("../util/getDataLayer")}},"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js":{name:"datalayer-push",displayName:"Data Pushed",script:function(e,t,a){"use strict";e.exports=function(e,t){if(null!=e){var a=e.method,r=e.eventKey,o=e.scope,i=n(),s=function(e){var a={message:e,beforeState:{},afterState:{},fullState:i.getState()};t(a)},c={};void 0!==o&&(c.scope=o),"allData"===a?i.push((function(e){e.addEventListener("adobeDataLayer:change",s,c)})):"allEvents"===a?i.push((function(e){e.addEventListener("adobeDataLayer:event",s,c)})):"specificEvent"===a&&""!==r&&i.push((function(e){e.addEventListener(r,s,c)}))}};var n=a("../util/getDataLayer")}},"gcoe-adobe-client-data-layer/src/lib/main.js":{script:function(e,t,a,n){var r=n.getExtensionSettings(),o=r.dataLayerName,i=r.injectLibrary;if(window.adobeDataLayer=window.adobeDataLayer||[],"object"!=typeof window.adobeDataLayer&&(n.logger.log("Initializing adobeDataLayer to [] as it isn't an object yet."),window.adobeDataLayer=[]),"adobeDataLayer"!==o&&("object"==typeof window[o]?(n.logger.log('Using "'+o+'" instead of "adobeDataLayer" as data layer name.'),window.adobeDataLayer.push((function(e){for(var t=0;t<window[o].length;t++)e.push(window[o][t]);window[o]=e}))):n.logger.warn('Could not use "'+o+'" instead of "adobeDataLayer", because the object does not exist!')),i&&void 0===window.adobeDataLayer.getState){function s(e,t){return u(e)||l(e,t)||g(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return a}}function u(e){if(Array.isArray(e))return e}function d(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=g(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw r}}}}function g(e,t){if(e){if("string"==typeof e)return f(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.logger.log("Initializing adobeDataLayer as it wasn't found during the initialization."),function e(t,n,r){function o(s,c){if(!n[s]){if(!t[s]){var l="function"==typeof a&&a;if(!c&&l)return l(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};t[s][0].call(d.exports,(function(e){return o(t[s][1][e]||e)}),d,d.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof a&&a,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,a){(function(e){(function(){function n(e,t){for(var a=-1,n=null==e?0:e.length,r=0,o=[];++a<n;){var i=e[a];t(i,a,e)&&(o[r++]=i)}return o}function r(e,t){for(var a=-1,n=null==e?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}function o(e,t){for(var a=-1,n=t.length,r=e.length;++a<n;)e[r+a]=t[a];return e}function i(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(t(e[a],a,e))return!0;return!1}function s(e,t,a){var n=e.length;for(a+=-1;++a<n;)if(t(e[a],a,e))return a;return-1}function c(e){return e!=e}function l(e){return function(t){return e(t)}}function u(e){var t=-1,a=Array(e.size);return e.forEach((function(e,n){a[++t]=[n,e]})),a}function d(e){var t=Object;return function(a){return e(t(a))}}function g(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=e})),a}function f(){}function m(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function y(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function v(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function h(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new v;++t<a;)this.add(e[t])}function b(e){this.size=(this.__data__=new y(e)).size}function w(e,t){var a,n=ha(e),r=!n&&va(e),o=!n&&!r&&ba(e),i=!n&&!r&&!o&&La(e);if(n=n||r||o||i){r=e.length;for(var s=String,c=-1,l=Array(r);++c<r;)l[c]=s(c);r=l}else r=[];for(a in s=r.length,e)!t&&!bt.call(e,a)||n&&("length"==a||o&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||te(a,s))||r.push(a);return r}function P(e,t,a){(a===Fe||fe(e[t],a))&&(a!==Fe||t in e)||T(e,t,a)}function L(e,t,a){var n=e[t];bt.call(e,t)&&fe(n,a)&&(a!==Fe||t in e)||T(e,t,a)}function D(e,t){for(var a=e.length;a--;)if(fe(e[a][0],t))return a;return-1}function T(e,t,a){"__proto__"==t&&xt?xt(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function E(e,t,a,n,r,o){var i,s=1&t,c=2&t,l=4&t;if(a&&(i=r?a(e,n,r,o):a(e)),i!==Fe)return i;if(!he(e))return e;if(n=ha(e)){if(i=function(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&bt.call(e,"index")&&(a.index=e.index,a.input=e.input),a}(e),!s)return B(e,i)}else{var u=ia(e),d="[object Function]"==u||"[object GeneratorFunction]"==u;if(ba(e))return U(e,s);if("[object Object]"==u||"[object Arguments]"==u||d&&!r){if(i=c||d?{}:Z(e),!s)return c?function(e,t){return z(e,oa(e),t)}(e,function(e,t){return e&&z(t,_e(t),e)}(i,e)):function(e,t){return z(e,ra(e),t)}(e,function(e,t){return e&&z(t,Oe(t),e)}(i,e))}else{if(!tt[u])return r?e:{};i=function(e,t,a){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return F(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return t=a?F(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return q(e,a);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return(t=new e.constructor(e.source,Qe.exec(e))).lastIndex=e.lastIndex,t;case"[object Symbol]":return Yt?Object(Yt.call(e)):{}}}(e,u,s)}}if(r=(o=o||new b).get(e))return r;if(o.set(e,i),Pa(e))return e.forEach((function(n){i.add(E(n,t,a,n,e,o))})),i;if(wa(e))return e.forEach((function(n,r){i.set(r,E(n,t,a,r,e,o))})),i;c=l?c?Q:J:c?_e:Oe;var g=n?Fe:c(e);return function(e,t){for(var a=-1,n=null==e?0:e.length;++a<n&&!1!==t(e[a],a,e););}(g||e,(function(n,r){g&&(n=e[r=n]),L(i,r,E(n,t,a,r,e,o))})),i}function C(e,t){for(var a=0,n=(t=V(t,e)).length;null!=e&&a<n;)e=e[ie(t[a++])];return a&&a==n?e:Fe}function k(e,t,a){return t=t(e),ha(e)?t:o(t,a(e))}function S(e){if(null==e)e=e===Fe?"[object Undefined]":"[object Null]";else if(Rt&&Rt in Object(e)){var t=bt.call(e,Rt),a=e[Rt];try{e[Rt]=Fe;var n=!0}catch(e){}var r=Pt.call(e);n&&(t?e[Rt]=a:delete e[Rt]),e=r}else e=Pt.call(e);return e}function I(e,t){return null!=e&&bt.call(e,t)}function O(e,t){return null!=e&&t in Object(e)}function _(e){return be(e)&&"[object Arguments]"==S(e)}function j(e,t,a,n,r){if(e===t)t=!0;else if(null==e||null==t||!be(e)&&!be(t))t=e!=e&&t!=t;else e:{var o,i,s=ha(e),c=ha(t),l="[object Object]"==(o="[object Arguments]"==(o=s?"[object Array]":ia(e))?"[object Object]":o);if(c="[object Object]"==(i="[object Arguments]"==(i=c?"[object Array]":ia(t))?"[object Object]":i),(i=o==i)&&ba(e)){if(!ba(t)){t=!1;break e}l=!(s=!0)}if(i&&!l)r=r||new b,t=s||La(e)?W(e,t,a,n,j,r):function(e,t,a,n,r,o,i){switch(a){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!o(new Ct(e),new Ct(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return fe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=u;case"[object Set]":if(s=s||g,e.size!=t.size&&!(1&n))break;return(a=i.get(e))?a==t:(n|=2,i.set(e,t),t=W(s(e),s(t),n,r,o,i),i.delete(e),t);case"[object Symbol]":if(Yt)return Yt.call(e)==Yt.call(t)}return!1}(e,t,o,a,n,j,r);else{if(!(1&a)&&(s=l&&bt.call(e,"__wrapped__"),o=c&&bt.call(t,"__wrapped__"),s||o)){t=j(e=s?e.value():e,t=o?t.value():t,a,n,r=r||new b);break e}if(i)t:if(r=r||new b,s=1&a,o=J(e),c=o.length,i=J(t).length,c==i||s){for(l=c;l--;){var d=o[l];if(!(s?d in t:bt.call(t,d))){t=!1;break t}}if((i=r.get(e))&&r.get(t))t=i==t;else{i=!0,r.set(e,t),r.set(t,e);for(var f=s;++l<c;){var p=e[d=o[l]],m=t[d];if(n)var y=s?n(m,p,d,t,e,r):n(p,m,d,e,t,r);if(y===Fe?p!==m&&!j(p,m,a,n,r):!y){i=!1;break}f=f||"constructor"==d}i&&!f&&(a=e.constructor)!=(n=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof a&&a instanceof a&&"function"==typeof n&&n instanceof n)&&(i=!1),r.delete(e),r.delete(t),t=i}}else t=!1;else t=!1}}return t}function R(e){return"function"==typeof e?e:null==e?xe:"object"==p(e)?ha(e)?function(e,t){return ae(e)&&t==t&&!he(t)?re(ie(e),t):function(a){var n=Se(a,e);return n===Fe&&n===t?Ie(a,e):j(t,n,3)}}(e[0],e[1]):function(e){var t=function(e){for(var t=Oe(e),a=t.length;a--;){var n=t[a],r=e[n];t[a]=[n,r,r==r&&!he(r)]}return t}(e);return 1==t.length&&t[0][2]?re(t[0][0],t[0][1]):function(a){return a===e||function(e,t){var a=t.length,n=a;if(null==e)return!n;for(e=Object(e);a--;)if((r=t[a])[2]?r[1]!==e[r[0]]:!(r[0]in e))return!1;for(;++a<n;){var r,o=(r=t[a])[0],i=e[o],s=r[1];if(r[2]){if(i===Fe&&!(o in e))return!1}else if(r=new b,void 0!==Fe||!j(s,i,3,void 0,r))return!1}return!0}(a,t)}}(e):Ae(e)}function x(e){if(!ne(e))return Mt(e);var t,a=[];for(t in Object(e))bt.call(e,t)&&"constructor"!=t&&a.push(t);return a}function N(e,t,a,n,r){e!==t&&aa(t,(function(o,i){if(he(o)){var s=r=r||new b,c="__proto__"==i?Fe:e[i],l="__proto__"==i?Fe:t[i];if(p=s.get(l))P(e,i,p);else{var u=(p=n?n(c,l,i+"",e,t,s):Fe)===Fe;if(u){var d=ha(l),g=!d&&ba(l),f=!d&&!g&&La(l),p=l;d||g||f?p=ha(c)?c:me(c)?B(c):g?U(l,!(u=!1)):f?q(l,!(u=!1)):[]:we(l)||va(l)?va(p=c)?p=Ce(c):(!he(c)||a&&ye(c))&&(p=Z(l)):u=!1}u&&(s.set(l,p),N(p,l,a,n,s),s.delete(l)),P(e,i,p)}}else(s=n?n("__proto__"==i?Fe:e[i],o,i+"",e,t,r):Fe)===Fe&&(s=o),P(e,i,s)}),_e)}function A(e){if("string"==typeof e)return e;if(ha(e))return r(e,A)+"";if(Le(e))return Zt?Zt.call(e):"";var t=e+"";return"0"==t&&1/e==-qe?"-0":t}function M(e,t){var a;if((t=V(t,e)).length<2)a=e;else{var n=0,r=-1,o=-1,i=(a=t).length;for(n<0&&(n=i<-n?0:i+n),(r=i<r?i:r)<0&&(r+=i),i=r<n?0:r-n>>>0,n>>>=0,r=Array(i);++o<i;)r[o]=a[o+n];a=C(e,r)}null==(e=a)||delete e[ie(ue(t))]}function V(e,t){return ha(e)?e:ae(e,t)?[e]:pa(ke(e))}function U(e,t){if(t)return e.slice();var a=e.length;return a=kt?kt(a):new e.constructor(a),e.copy(a),a}function F(e){var t=new e.constructor(e.byteLength);return new Ct(t).set(new Ct(e)),t}function q(e,t){return new e.constructor(t?F(e.buffer):e.buffer,e.byteOffset,e.length)}function B(e,t){var a=-1,n=e.length;for(t=t||Array(n);++a<n;)t[a]=e[a];return t}function z(e,t,a){var n=!a;a=a||{};for(var r=-1,o=t.length;++r<o;){var i=t[r],s=Fe;s===Fe&&(s=e[i]),n?T(a,i,s):L(a,i,s)}return a}function H(e){return function(e){return fa(oe(e,void 0,xe),e+"")}((function(t,a){var n,r=-1,o=a.length,i=1<o?a[o-1]:Fe,s=2<o?a[2]:Fe;if(i=3<e.length&&"function"==typeof i?(o--,i):Fe,n=s){n=a[0];var c=a[1];if(he(s)){var l=p(c);n=!!("number"==l?pe(s)&&te(c,s.length):"string"==l&&c in s)&&fe(s[c],n)}else n=!1}for(n&&(i=o<3?Fe:i,o=1),t=Object(t);++r<o;)(s=a[r])&&e(t,s,r,i);return t}))}function G(e){return we(e)?Fe:e}function W(e,t,a,n,r,o){var s=1&a,c=e.length;if(c!=(l=t.length)&&!(s&&c<l))return!1;if((l=o.get(e))&&o.get(t))return l==t;var l=-1,u=!0,d=2&a?new h:Fe;for(o.set(e,t),o.set(t,e);++l<c;){var g=e[l],f=t[l];if(n)var p=s?n(f,g,l,t,e,o):n(g,f,l,e,t,o);if(p!==Fe){if(p)continue;u=!1;break}if(d){if(!i(t,(function(e,t){if(!d.has(t)&&(g===e||r(g,e,a,n,o)))return d.push(t)}))){u=!1;break}}else if(g!==f&&!r(g,f,a,n,o)){u=!1;break}}return o.delete(e),o.delete(t),u}function J(e){return k(e,Oe,ra)}function Q(e){return k(e,_e,oa)}function $(e,t){var a=(a=f.iteratee||Ne)===Ne?R:a;return arguments.length?a(e,t):a}function K(e,t){var a=e.__data__,n=p(t);return("string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?a["string"==typeof t?"string":"hash"]:a.map}function X(e,t){var a=null==e?Fe:e[t];return!he(a)||wt&&wt in a||!(ye(a)?Dt:Xe).test(se(a))?Fe:a}function Y(e,t,a){for(var n=-1,r=(t=V(t,e)).length,o=!1;++n<r;){var i=ie(t[n])
;if(!(o=null!=e&&a(e,i)))break;e=e[i]}return o||++n!=r?o:!!(r=null==e?0:e.length)&&ve(r)&&te(i,r)&&(ha(e)||va(e))}function Z(e){return"function"!=typeof e.constructor||ne(e)?{}:ea(St(e))}function ee(e){return ha(e)||va(e)||!!(jt&&e&&e[jt])}function te(e,t){var a=p(e);return!!(t=null==t?9007199254740991:t)&&("number"==a||"symbol"!=a&&Ze.test(e))&&-1<e&&0==e%1&&e<t}function ae(e,t){if(ha(e))return!1;var a=p(e);return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!Le(e))||He.test(e)||!ze.test(e)||null!=t&&e in Object(t)}function ne(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||yt)}function re(e,t){return function(a){return null!=a&&a[e]===t&&(t!==Fe||e in Object(a))}}function oe(e,t,a){return t=Vt(t===Fe?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=Vt(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];for(r=-1,o=Array(t+1);++r<t;)o[r]=n[r];return o[t]=a(i),function(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}(e,this,o)}}function ie(e){if("string"==typeof e||Le(e))return e;var t=e+"";return"0"==t&&1/e==-qe?"-0":t}function se(e){if(null==e)return"";try{return ht.call(e)}catch(e){}return e+""}function ce(e,t,a){var n=null==e?0:e.length;return n?((a=null==a?0:Te(a))<0&&(a=Vt(n+a,0)),s(e,$(t,3),a)):-1}function le(e){return null!=e&&e.length?function e(t,a,n,r,i){var s=-1,c=t.length;for(n=n||ee,i=i||[];++s<c;){var l=t[s];0<a&&n(l)?1<a?e(l,a-1,n,r,i):o(i,l):r||(i[i.length]=l)}return i}(e,1):[]}function ue(e){var t=null==e?0:e.length;return t?e[t-1]:Fe}function de(e,t){function a(){var n=arguments,r=t?t.apply(this,n):n[0],o=a.cache;return o.has(r)?o.get(r):(n=e.apply(this,n),a.cache=o.set(r,n)||o,n)}if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");return a.cache=new(de.Cache||v),a}function ge(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function fe(e,t){return e===t||e!=e&&t!=t}function pe(e){return null!=e&&ve(e.length)&&!ye(e)}function me(e){return be(e)&&pe(e)}function ye(e){return!!he(e)&&("[object Function]"==(e=S(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function ve(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}function he(e){var t=p(e);return null!=e&&("object"==t||"function"==t)}function be(e){return null!=e&&"object"==p(e)}function we(e){return!(!be(e)||"[object Object]"!=S(e))&&(null===(e=St(e))||"function"==typeof(e=bt.call(e,"constructor")&&e.constructor)&&e instanceof e&&ht.call(e)==Lt)}function Pe(e){return"string"==typeof e||!ha(e)&&be(e)&&"[object String]"==S(e)}function Le(e){return"symbol"==p(e)||be(e)&&"[object Symbol]"==S(e)}function De(e){return e?(e=Ee(e))===qe||e===-qe?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Te(e){var t=(e=De(e))%1;return e==e?t?e-t:e:0}function Ee(e){if("number"==typeof e)return e;if(Le(e))return Be;if(he(e)&&(e=he(e="function"==typeof e.valueOf?e.valueOf():e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(We,"");var t=Ke.test(e);return t||Ye.test(e)?nt(e.slice(2),t?2:8):$e.test(e)?Be:+e}function Ce(e){return z(e,_e(e))}function ke(e){return null==e?"":A(e)}function Se(e,t,a){return(e=null==e?Fe:C(e,t))===Fe?a:e}function Ie(e,t){return null!=e&&Y(e,t,O)}function Oe(e){return pe(e)?w(e):x(e)}function _e(e){if(pe(e))e=w(e,!0);else if(he(e)){var t,a=ne(e),n=[];for(t in e)("constructor"!=t||!a&&bt.call(e,t))&&n.push(t);e=n}else{if(t=[],null!=e)for(a in Object(e))t.push(a);e=t}return e}function je(e){return null==e?[]:function(e,t){return r(t,(function(t){return e[t]}))}(e,Oe(e))}function Re(e){return function(){return e}}function xe(e){return e}function Ne(e){return R("function"==typeof e?e:E(e,1))}function Ae(e){return ae(e)?function(e){return function(t){return null==t?Fe:t[e]}}(ie(e)):function(e){return function(t){return C(t,e)}}(e)}function Me(){return[]}function Ve(){return!1}function Ue(){}var Fe,qe=1/0,Be=NaN,ze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,He=/^\w*$/,Ge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,We=/^\s+|\s+$/g,Je=/\\(\\)?/g,Qe=/\w*$/,$e=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,Xe=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var tt={};tt["[object Arguments]"]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object DataView]"]=tt["[object Boolean]"]=tt["[object Date]"]=tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Map]"]=tt["[object Number]"]=tt["[object Object]"]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object Symbol]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Error]"]=tt["[object Function]"]=tt["[object WeakMap]"]=!1;var at,nt=parseInt,rt="object"==p(e)&&e&&e.Object===Object&&e,ot="object"==("undefined"==typeof self?"undefined":p(self))&&self&&self.Object===Object&&self,it=rt||ot||Function("return this")(),st="object"==p(a)&&a&&!a.nodeType&&a,ct=st&&"object"==p(t)&&t&&!t.nodeType&&t,lt=ct&&ct.exports===st,ut=lt&&rt.process;e:{try{at=ut&&ut.binding&&ut.binding("util");break e}catch(l){}at=void 0}var dt,gt=at&&at.isMap,ft=at&&at.isSet,pt=at&&at.isTypedArray,mt=Array.prototype,yt=Object.prototype,vt=it["__core-js_shared__"],ht=Function.prototype.toString,bt=yt.hasOwnProperty,wt=(dt=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||""))?"Symbol(src)_1."+dt:"",Pt=yt.toString,Lt=ht.call(Object),Dt=RegExp("^"+ht.call(bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tt=lt?it.Buffer:Fe,Et=it.Symbol,Ct=it.Uint8Array,kt=Tt?Tt.a:Fe,St=d(Object.getPrototypeOf),It=Object.create,Ot=yt.propertyIsEnumerable,_t=mt.splice,jt=Et?Et.isConcatSpreadable:Fe,Rt=Et?Et.toStringTag:Fe,xt=function(){try{var e=X(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Nt=Object.getOwnPropertySymbols,At=Tt?Tt.isBuffer:Fe,Mt=d(Object.keys),Vt=Math.max,Ut=Date.now,Ft=X(it,"DataView"),qt=X(it,"Map"),Bt=X(it,"Promise"),zt=X(it,"Set"),Ht=X(it,"WeakMap"),Gt=X(Object,"create"),Wt=se(Ft),Jt=se(qt),Qt=se(Bt),$t=se(zt),Kt=se(Ht),Xt=Et?Et.prototype:Fe,Yt=Xt?Xt.valueOf:Fe,Zt=Xt?Xt.toString:Fe,ea=function(e){return he(e)?It?It(e):(Ue.prototype=e,e=new Ue,Ue.prototype=Fe,e):{}};m.prototype.clear=function(){this.__data__=Gt?Gt(null):{},this.size=0},m.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},m.prototype.get=function(e){var t=this.__data__;return Gt?"__lodash_hash_undefined__"===(e=t[e])?Fe:e:bt.call(t,e)?t[e]:Fe},m.prototype.has=function(e){var t=this.__data__;return Gt?t[e]!==Fe:bt.call(t,e)},m.prototype.set=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=Gt&&t===Fe?"__lodash_hash_undefined__":t,this},y.prototype.clear=function(){this.__data__=[],this.size=0},y.prototype.delete=function(e){var t=this.__data__;return!((e=D(t,e))<0||(e==t.length-1?t.pop():_t.call(t,e,1),--this.size,0))},y.prototype.get=function(e){var t=this.__data__;return(e=D(t,e))<0?Fe:t[e][1]},y.prototype.has=function(e){return-1<D(this.__data__,e)},y.prototype.set=function(e,t){var a=this.__data__,n=D(a,e);return n<0?(++this.size,a.push([e,t])):a[n][1]=t,this},v.prototype.clear=function(){this.size=0,this.__data__={hash:new m,map:new(qt||y),string:new m}},v.prototype.delete=function(e){return e=K(this,e).delete(e),this.size-=e?1:0,e},v.prototype.get=function(e){return K(this,e).get(e)},v.prototype.has=function(e){return K(this,e).has(e)},v.prototype.set=function(e,t){var a=K(this,e),n=a.size;return a.set(e,t),this.size+=a.size==n?0:1,this},h.prototype.add=h.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},h.prototype.has=function(e){return this.__data__.has(e)},b.prototype.clear=function(){this.__data__=new y,this.size=0},b.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},b.prototype.get=function(e){return this.__data__.get(e)},b.prototype.has=function(e){return this.__data__.has(e)},b.prototype.set=function(e,t){var a=this.__data__;if(a instanceof y){var n=a.__data__;if(!qt||n.length<199)return n.push([e,t]),this.size=++a.size,this;a=this.__data__=new v(n)}return a.set(e,t),this.size=a.size,this};var ta=function(e,t){if(null==e)return e;if(!pe(e))return function(e,t){return e&&aa(e,t,Oe)}(e,t);for(var a=e.length,n=-1,r=Object(e);++n<a&&!1!==t(r[n],n,r););return e},aa=function(e,t,a){for(var n=-1,r=Object(e),o=(a=a(e)).length;o--;){var i=a[++n];if(!1===t(r[i],i,r))break}return e},na=xt?function(e,t){return xt(e,"toString",{configurable:!0,enumerable:!1,value:Re(t),writable:!0})}:xe,ra=Nt?function(e){return null==e?[]:(e=Object(e),n(Nt(e),(function(t){return Ot.call(e,t)})))}:Me,oa=Nt?function(e){for(var t=[];e;)o(t,ra(e)),e=St(e);return t}:Me,ia=S;(Ft&&"[object DataView]"!=ia(new Ft(new ArrayBuffer(1)))||qt&&"[object Map]"!=ia(new qt)||Bt&&"[object Promise]"!=ia(Bt.resolve())||zt&&"[object Set]"!=ia(new zt)||Ht&&"[object WeakMap]"!=ia(new Ht))&&(ia=function(e){var t=S(e);if(e=(e="[object Object]"==t?e.constructor:Fe)?se(e):"")switch(e){case Wt:return"[object DataView]";case Jt:return"[object Map]";case Qt:return"[object Promise]";case $t:return"[object Set]";case Kt:return"[object WeakMap]"}return t});var sa,ca,la,ua,da,ga,fa=(ua=na,ga=da=0,function(){var e=Ut(),t=16-(e-ga);if(ga=e,0<t){if(800<=++da)return arguments[0]}else da=0;return ua.apply(Fe,arguments)}),pa=(la=(ca=de(ca=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ge,(function(e,a,n,r){t.push(n?r.replace(Je,"$1"):a||e)})),t},(function(e){return 500===la.size&&la.clear(),e}))).cache,ca),ma=(sa=ce,function(e,t,a){var n=Object(e);if(!pe(e)){var r=$(t,3);e=Oe(e),t=function(e){return r(n[e],e,n)}}return-1<(t=sa(e,t,a))?n[r?e[t]:t]:Fe});de.Cache=v;var ya,va=_(function(){return arguments}())?_:function(e){return be(e)&&bt.call(e,"callee")&&!Ot.call(e,"callee")},ha=Array.isArray,ba=At||Ve,wa=gt?l(gt):function(e){return be(e)&&"[object Map]"==ia(e)},Pa=ft?l(ft):function(e){return be(e)&&"[object Set]"==ia(e)},La=pt?l(pt):function(e){return be(e)&&ve(e.length)&&!!et[S(e)]},Da=H((function(e,t,a){N(e,t,a)})),Ta=H((function(e,t,a,n){N(e,t,a,n)})),Ea=fa(oe(ya=function(e,t){var a={};if(null==e)return a;var n=!1;t=r(t,(function(t){return t=V(t,e),n=n||1<t.length,t})),z(e,Q(e),a),n&&(a=E(a,7,G));for(var o=t.length;o--;)M(a,t[o]);return a},Fe,le),ya+"");f.constant=Re,f.flatten=le,f.iteratee=Ne,f.keys=Oe,f.keysIn=_e,f.memoize=de,f.merge=Da,f.mergeWith=Ta,f.negate=ge,f.omit=Ea,f.property=Ae,f.reject=function(e,t){return(ha(e)?n:function(e,t){var a=[];return ta(e,(function(e,n,r){t(e,n,r)&&a.push(e)})),a})(e,ge($(t,3)))},f.toPlainObject=Ce,f.values=je,f.cloneDeep=function(e){return E(e,5)},f.cloneDeepWith=function(e,t){return E(e,5,t="function"==typeof t?t:Fe)},f.eq=fe,f.find=ma,f.findIndex=ce,f.get=Se,f.has=function(e,t){return null!=e&&Y(e,t,I)},f.hasIn=Ie,f.identity=xe,f.includes=function(e,t,a,n){if(e=pe(e)?e:je(e),a=a&&!n?Te(a):0,n=e.length,a<0&&(a=Vt(n+a,0)),Pe(e))e=a<=n&&-1<e.indexOf(t,a);else{if(n=!!n){if(t==t)e:{for(a-=1,n=e.length;++a<n;)if(e[a]===t){e=a;break e}e=-1}else e=s(e,c,a);n=-1<e}e=n}return e},f.isArguments=va,f.isArray=ha,f.isArrayLike=pe,f.isArrayLikeObject=me,f.isBuffer=ba,f.isEmpty=function(e){if(null==e)return!0;if(pe(e)&&(ha(e)||"string"==typeof e||"function"==typeof e.splice||ba(e)||La(e)||va(e)))return!e.length;var t=ia(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(ne(e))return!x(e).length;for(var a in e)if(bt.call(e,a))return!1;return!0},f.isEqual=function(e,t){return j(e,t)},f.isFunction=ye,f.isLength=ve,f.isMap=wa,f.isNull=function(e){return null===e},f.isObject=he,f.isObjectLike=be,f.isPlainObject=we,f.isSet=Pa,f.isString=Pe,f.isSymbol=Le,f.isTypedArray=La,f.last=ue,f.stubArray=Me,f.stubFalse=Ve,f.toFinite=De,f.toInteger=Te,f.toNumber=Ee,f.toString=ke,f.VERSION="4.17.5",ct&&((ct.exports=f)._=f,st._=f)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t){t.exports={itemType:{DATA:"data",FCTN:"fctn",EVENT:"event",LISTENER_ON:"listenerOn",LISTENER_OFF:"listenerOff"},dataLayerEvent:{CHANGE:"adobeDataLayer:change",EVENT:"adobeDataLayer:event"},listenerScope:{PAST:"past",FUTURE:"future",ALL:"all"}}},{}],3:[function(e,t){var a=e("../custom-lodash"),n=e("../version.json").version,r=a.cloneDeep,o=a.get,i=e("./item"),s=e("./listener"),c=e("./listenerManager"),l=e("./constants"),u=e("./utils/customMerge");t.exports=function(e){function t(e){v=u(v,e.data)}function a(e){function a(e){return 0===m.length||e.index>m.length-1?[]:m.slice(0,e.index).map((function(e){return i(e)}))}e.valid?{data:function(e){t(e),f.triggerListeners(e)},fctn:function(e){e.config.call(m,m)},event:function(e){e.data&&t(e),f.triggerListeners(e)},listenerOn:function(e){var t=s(e);switch(t.scope){case l.listenerScope.PAST:var n,r=d(a(e));try{for(r.s();!(n=r.n()).done;){var o=n.value;f.triggerListener(t,o)}}catch(e){r.e(e)}finally{r.f()}break;case l.listenerScope.FUTURE:f.register(t);break;case l.listenerScope.ALL:if(f.register(t)){var i,c=d(a(e));try{for(c.s();!(i=c.n()).done;){var u=i.value;f.triggerListener(t,u)}}catch(e){c.e(e)}finally{c.f()}}}},listenerOff:function(e){f.unregister(s(e))}}[e.type](e):g(e)}function g(e){var t="The following item cannot be handled by the data layer because it does not have a valid format: "+JSON.stringify(e.config);console.error(t)}var f,p=e||{},m=[],y=[],v={},h={getState:function(){return v},getDataLayer:function(){return m}};return Array.isArray(p.dataLayer)||(p.dataLayer=[]),y=p.dataLayer.splice(0,p.dataLayer.length),(m=p.dataLayer).version=n,v={},f=c(h),m.push=function(e){var t=arguments,n=arguments;if(Object.keys(t).forEach((function(e){var r=i(t[e]);switch(r.valid||(g(r),delete n[e]),r.type){case l.itemType.DATA:case l.itemType.EVENT:a(r);break;case l.itemType.FCTN:delete n[e],a(r);break;case l.itemType.LISTENER_ON:case l.itemType.LISTENER_OFF:delete n[e]}})),n[0])return Array.prototype.push.apply(this,n)},m.getState=function(e){return e?o(r(v),e):r(v)},m.addEventListener=function(e,t,n){a(i({on:e,handler:t,scope:n&&n.scope,path:n&&n.path}))},m.removeEventListener=function(e,t){a(i({off:e,handler:t}))},function(){for(var e=0;e<y.length;e++)m.push(y[e])}(),h}},{"../custom-lodash":1,"../version.json":14,"./constants":2,"./item":5,"./listener":7,"./listenerManager":8,"./utils/customMerge":10}],4:[function(e,t){var a={Manager:e("./dataLayerManager")};window.adobeDataLayer=window.adobeDataLayer||[],window.adobeDataLayer.version?console.warn("Adobe Client Data Layer v".concat(window.adobeDataLayer.version," has already been imported/initialized on this page. You may be erroneously loading it a second time.")):a.Manager({dataLayer:window.adobeDataLayer}),t.exports=a},{"./dataLayerManager":3}],5:[function(e,t){var a=e("../custom-lodash"),n=a.isPlainObject,r=a.isEmpty,o=a.omit,i=a.find,s=e("./utils/dataMatchesContraints"),c=e("./itemConstraints"),l=e("./constants");t.exports=function(e,t){var a=e,u=t,d=i(Object.keys(c),(function(e){return s(a,c[e])}))||"function"==typeof a&&l.itemType.FCTN||n(a)&&l.itemType.DATA,g=function(){var e=o(a,Object.keys(c.event));if(!r(e))return e}();return{config:a,type:d,data:g,valid:!!d,index:u}}},{"../custom-lodash":1,"./constants":2,"./itemConstraints":6,"./utils/dataMatchesContraints":11}],6:[function(e,t){t.exports={event:{event:{type:"string"},eventInfo:{optional:!0}},listenerOn:{on:{type:"string"},handler:{type:"function"},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}},listenerOff:{off:{type:"string"},handler:{type:"function",optional:!0},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}}}},{}],7:[function(e,t){var a=e("./constants");t.exports=function(e){return{event:e.config.on||e.config.off,handler:e.config.handler||null,scope:e.config.scope||e.config.on&&a.listenerScope.ALL||null,path:e.config.path||null}}},{"./constants":2}],8:[function(e,t){var a=e("../custom-lodash").cloneDeep,n=e("./constants"),r=e("./utils/listenerMatch"),o=e("./utils/indexOfListener");t.exports=function(e){function t(e,t){if(r(e,t)){var n=[a(t.config)];e.handler.apply(s.getDataLayer(),n)}}var i={},s=e,c=o.bind(null,i);return{register:function(e){var t=e.event;return Object.prototype.hasOwnProperty.call(i,t)?-1===c(e)&&(i[e.event].push(e),!0):(i[e.event]=[e],!0)},unregister:function(e){var t=e.event;if(Object.prototype.hasOwnProperty.call(i,t))if(e.handler||e.scope||e.path){var a=c(e);-1<a&&i[t].splice(a,1)}else i[t]=[]},triggerListeners:function(e){(function(e){var t=[];switch(e.type){case n.itemType.DATA:t.push(n.dataLayerEvent.CHANGE);break;case n.itemType.EVENT:t.push(n.dataLayerEvent.EVENT),e.data&&t.push(n.dataLayerEvent.CHANGE),e.config.event!==n.dataLayerEvent.CHANGE&&t.push(e.config.event)}return t})(e).forEach((function(a){if(Object.prototype.hasOwnProperty.call(i,a)){var n,r=d(i[a]);try{for(r.s();!(n=r.n()).done;)t(n.value,e)}catch(a){r.e(a)}finally{r.f()}}}))},triggerListener:function(e,a){t(e,a)}}}},{"../custom-lodash":1,"./constants":2,"./utils/indexOfListener":12,"./utils/listenerMatch":13}],9:[function(e,t){var a=e("../../custom-lodash"),n=a.has,r=a.get;t.exports=function(e,t){for(var a=t.substring(0,t.lastIndexOf("."));a;){if(n(e,a)&&null==r(e,a))return!0;a=a.substring(0,a.lastIndexOf("."))}return!1}},{"../../custom-lodash":1}],10:[function(e,t){var a=e("../../custom-lodash"),n=a.cloneDeepWith,r=a.isObject,o=a.isArray,i=a.reject,s=a.mergeWith,c=a.isNull;t.exports=function(e,t){return s(e,t,(function(e,t){if(null==t)return null})),function(e,t){return n(e,(a=1<arguments.length&&void 0!==t?t:function(e){return!e},function e(t){if(r(t)){if(o(t))return i(t,a).map((function(t){return n(t,e)}));for(var s={},c=0,l=Object.keys(t);c<l.length;c++){var u=l[c];a(t[u])||(s[u]=n(t[u],e))}return s}}));var a}(e,c)}},{"../../custom-lodash":1}],11:[function(e,t){var a=e("../../custom-lodash"),n=a.find,r=a.includes;t.exports=function(e,t){return void 0===n(Object.keys(t),(function(a){var n=t[a].type,o=a&&t[a].values,i=!t[a].optional,s=e[a],c=p(s),l=n&&c!==n,u=o&&!r(o,s);return i?!s||l||u:s&&(l||u)}))}},{"../../custom-lodash":1}],12:[function(e,t){var a=e("../../custom-lodash").isEqual;t.exports=function(e,t){var n=t.event;if(Object.prototype.hasOwnProperty.call(e,n)){var r,o=d(e[n].entries());try{for(o.s();!(r=o.n()).done;){var i=s(r.value,2),c=i[0],l=i[1];if(a(l.handler,t.handler))return c}}catch(e){o.e(e)}finally{o.f()}}return-1}},{"../../custom-lodash":1}],13:[function(e,t){function a(e,t){return!t.data||!e.path||n(t.data,e.path)||o(t.data,e.path)}var n=e("../../custom-lodash").has,r=e("../constants"),o=e("./ancestorRemoved");t.exports=function(e,t){var n=e.event,o=t.config,i=!1;return t.type===r.itemType.DATA?n===r.dataLayerEvent.CHANGE&&(i=a(e,t)):t.type===r.itemType.EVENT&&(n!==r.dataLayerEvent.EVENT&&n!==o.event||(i=a(e,t)),t.data&&n===r.dataLayerEvent.CHANGE&&(i=a(e,t))),i}},{"../../custom-lodash":1,"../constants":2,"./ancestorRemoved":9}],14:[function(e,t){t.exports={version:"2.0.2"}},{}]},{},[4])}}},"gcoe-adobe-client-data-layer/src/lib/util/getDataLayer.js":{script:function(e,t,a,n){"use strict";e.exports=function(){var e=n.getExtensionSettings();return window[e.dataLayerName]}}}}},contentsquare:{displayName:"Contentsquare",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP02f71617658247908c3e5904698d55da/",settings:{cvars:[{key:"Page Name",scope:"3",value:"%dataLayer:webPageDetails:pageName%"},{key:"Page Type",scope:"3",value:"%dataLayer:webPageDetails:pageType%"},{key:"Page Section",scope:"3",value:"%dataLayer:webPageDetails:pageSection%"},{key:"Page Level 1",scope:"3",value:"%dataLayer:webPageDetails:pageLevel1%"},{key:"Page Level 2",scope:"3",value:"%dataLayer:webPageDetails:pageLevel2%"},{key:"Page Level 3",scope:"3",value:"%dataLayer:webPageDetails:pageLevel3%"},{key:"Page Level 4",scope:"3",value:"%dataLayer:webPageDetails:pageLevel4%"},{key:"Country",scope:"3",value:"%dataLayer:webPageDetails:country%"},{key:"News Type",scope:"3",value:"%dataLayer:webPageDetails:newsType%"},{key:"User Loyalty Status",scope:"3",value:"%dataLayer:user:userLoyaltyStatus%"},{key:"Funnel Type",scope:"3",value:"%dataLayer:funnelInfo:funnelType%"},{key:"Funnel Place",scope:"3",value:"%dataLayer:funnelInfo:funnelPlace%"},{key:"Campaign ID",scope:"2",value:"%dataLayer:campaign:campaignID%"},{key:"Campaign Source",scope:"2",value:"%dataLayer:campaign:campaignSource%"},{key:"User Login Status",scope:"3",value:"%dataLayer:user:userLoginStatus%"}],project_id:"c17ba58e8c9a5",pii_selector:".rm-web-header__user",pii_attribute_object:""},modules:{"contentsquare/src/lib/actions/uxaInstallation.js":{name:"uxa-installation",displayName:"Main Tracking Tag Installation",script:function(e,t,a,n){"use strict";e.exports=function(e){if(e&&n&&"function"==typeof n.getExtensionSettings){const t=n.getExtensionSettings(),a=t.project_id,r=t.pii_selector,o=t.pii_attribute_object,i=t.cvars;let s;const c=e.setPathInput,l=e.setQueryInput,u=(document.location.search,document.location.pathname),d=document.location.hash.replace("#","?__");window._uxa=window._uxa||[],s=""!=c?c+d:u+d;try{if(""!=i&&void 0!==i){let e=!0,t="";"object"==typeof i&&null===i[0]&&(e=!1);for(let a=0;a<i.length;a++){t=a,e&&(t=a+1);const n=i[a].key,r=i[a].value,o=i[a].scope;let s;s=""===o||void 0===o?"3":"4n"===o||"4an"===o?"4":o||"3",""!=n&&void 0!==n&&""!=r&&void 0!==r&&("0"===o?_uxa.push(["setCustomVariable",t,n,r]):_uxa.push(["setCustomVariable",t,n,r,parseInt(s)]))}}let e=!1,t={};if(r&&(t.PIISelectors=[r],e=!0),o){let a=JSON.stringify(o.replaceAll("\n",""));a=a.replace(/\s/g,""),a=JSON.parse(a),a=JSON.parse(a),t.Attributes=a,e=!0}e&&_uxa.push(["setPIISelectors",t])}catch(e){}if(l&&_uxa.push(["setQuery",l]),a)if("undefined"==typeof CS_CONF){_uxa.push(["setPath",s]);const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//t.contentsquare.net/uxa/"+a+".js",document.getElementsByTagName("head")[0].appendChild(e)}else _uxa.push(["trackPageview",s])}}}}}},"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP94e8a1fa8c014ff5ab3d1579625cdc72/",settings:{instances:[{name:"alloy",edgeDomain:"%aep:trackingServer%",edgeConfigId:"602d1c8d-ea15-4207-8651-d5076975a508",onBeforeEventSend:function(e){function t(e,t){if("object"!=typeof e)return!1;for(var a=e,n=0;n<t.length;n++){var r=t[n];if(!a.hasOwnProperty(r)||void 0===a[r])return!1;a=a[r]}return!0}try{if(!t(e,["xdm","web","_realmadrid","news","newsDate"])||"string"==typeof e.xdm.web._realmadrid.news.newsDate&&null!==e.xdm.web._realmadrid.news.newsDate||delete e.xdm.web._realmadrid.news.newsDate,t(e,["xdm","web","_realmadrid","user","userAge"])&&"number"!=typeof e.xdm.web._realmadrid.user.userAge&&delete e.xdm.web._realmadrid.user.userAge,t(e,["xdm","web","_realmadrid","user","userLifeTimeValue"])&&"number"!=typeof e.xdm.web._realmadrid.user.userLifeTimeValue&&delete e.xdm.web._realmadrid.user.userLifeTimeValue,t(e,["xdm","commerce","order","priceTotal"])&&"number"!=typeof e.xdm.commerce.order.priceTotal&&delete e.xdm.commerce.order.priceTotal,t(e,["xdm","commerce","_realmadrid","tax"])&&"number"!=typeof e.xdm.commerce._realmadrid.tax&&delete e.xdm.commerce._realmadrid.tax,t(e,["xdm","commerce","_realmadrid","promotionValue"])&&"number"!=typeof e.xdm.commerce._realmadrid.promotionValue&&delete e.xdm.commerce._realmadrid.promotionValue,!t(e,["xdm","productListItems"])||"object"==typeof e.xdm.productListItems&&0!==e.xdm.productListItems.length||delete e.xdm.productListItems,t(e,["xdm","web","webInteraction","_realmadrid","videoTracking","videoTimeTotal"])&&"number"!=typeof e.xdm.web.webInteraction._realmadrid.videoTracking.videoTimeTotal&&delete e.xdm.web.webInteraction._realmadrid.videoTracking.videoTimeTotal,t(e,["xdm","web","webInteraction","_realmadrid","videoTracking","videoTimePercentage"])&&"number"!=typeof e.xdm.web.webInteraction._realmadrid.videoTracking.videoTimePercentage&&delete e.xdm.web.webInteraction._realmadrid.videoTracking.videoTimePercentage,t(e,["xdm","web","webInteraction","_realmadrid","videoTracking","videoTimeLapse"])&&"number"!=typeof e.xdm.web.webInteraction._realmadrid.videoTracking.videoTimeLapse&&delete e.xdm.web.webInteraction._realmadrid.videoTracking.videoTimeLapse,t(e,["xdm","web","webInteraction","_realmadrid","formTracking","formErrorFieldsDetail"])&&"string"!=typeof e.xdm.web.webInteraction._realmadrid.formTracking.formErrorFieldsDetail&&delete e.xdm.web.webInteraction._realmadrid.formTracking.formErrorFieldsDetail,t(e,["xdm","web","webInteraction","_realmadrid","formTracking","formSubmitError"])&&"string"!=typeof e.xdm.web.webInteraction._realmadrid.formTracking.formSubmitError&&delete e.xdm.web.webInteraction._realmadrid.formTracking.formSubmitError,t(e,["xdm","web","webReferrer","_realmadrid","previousName"])&&"string"!=typeof e.xdm.web.webReferrer._realmadrid.previousName&&delete e.xdm.web.webReferrer._realmadrid.previousName,(t(e,["xdm","commerce","order","currencyCode"])&&"string"!=typeof e.xdm.commerce.order.currencyCode||t(e,["xdm","commerce","order","currencyCode"])&&"string"==typeof e.xdm.commerce.order.currencyCode&&!/^[A-Z]{3}$/.test(e.xdm.commerce.order.currencyCode))&&delete e.xdm.commerce.order.currencyCode,t(e,["xdm","commerce","shipping","shippingAmount"])&&"number"!=typeof e.xdm.commerce.shipping.shippingAmount&&delete e.xdm.commerce.shipping.shippingAmount,t(e,["xdm","productListItems"])&&"object"==typeof e.xdm.productListItems&&e.xdm.productListItems.length>0)for(var a=0;a<e.xdm.productListItems.length;a++)t(e.xdm.productListItems[a],["priceTotal"])&&"number"!=typeof e.xdm.productListItems[a].priceTotal&&delete e.xdm.productListItems[a].priceTotal,t(e.xdm.productListItems[a],["quantity"])&&"number"!=typeof e.xdm.productListItems[a].quantity&&delete e.xdm.productListItems[a].quantity}catch(e){_satellite.logger.error("Error in Web SDK Workarounds: "+e)}},idMigrationEnabled:!1,stagingEdgeConfigId:"946a24ca-1c6a-4e98-a336-895325832f68",clickCollectionEnabled:!1,developmentEdgeConfigId:"946a24ca-1c6a-4e98-a336-895325832f68",autoCollectPropositionInteractions:{AJO:"never"}}]},modules:{"adobe-alloy/dist/lib/dataElements/xdmObject/index.js":{name:"xdm-object",displayName:"XDM object",script:function(e){"use strict";e.exports=function(e){return e.data}}},"adobe-alloy/dist/lib/dataElements/eventMergeId/index.js":{name:"event-merge-id",displayName:"Event merge ID",script:function(e,t,a){"use strict";var n=a("./createEventMergeId"),r=a("../../instanceManager/index"),o=a("../../index").eventMergeIdCache;e.exports=n({instanceManager:r,eventMergeIdCache:o})}},"adobe-alloy/dist/lib/dataElements/identityMap/index.js":{name:"identity-map",displayName:"Identity map",script:function(e,t,a,n){"use strict";var r=a("./createIdentityMap")({logger:n.logger});e.exports=function(e){return r(e)}}},"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:function(e,t,a,n){"use strict";var r,o=a("./createSendEvent"),i=a("../../instanceManager/index"),s=a("../../index").sendEventCallbackStorage,c=a("../../utils/createGetConfigOverrides");e.exports=o({instanceManager:i,sendEventCallbackStorage:s,getConfigOverrides:c(null===(r=n.environment)||void 0===r?void 0:r.stage)})}},"adobe-alloy/dist/lib/events/sendEventComplete/index.js":{name:"send-event-complete",displayName:"Send event complete",script:function(e,t,a){"use strict";var n=a("../../index").sendEventCallbackStorage,r=a("./createSendEventComplete");e.exports=r({sendEventCallbackStorage:n})}},"adobe-alloy/dist/lib/instanceManager/index.js":{script:function(e,t,a,n){"use strict";var r,o=a("../alloy"),i=o.createInstance,s=o.createEventMergeId,c=a("./createInstanceManager"),l=a("./injectWrapOnBeforeEventSend"),u=a("../utils/createGetConfigOverrides"),d=l({version:"2.27.0"});e.exports=c({turbine:n,window:window,createInstance:i,createEventMergeId:s,orgId:_satellite.company.orgId,wrapOnBeforeEventSend:d,getConfigOverrides:u(null===(r=n.environment)||void 0===r?void 0:r.stage)})}},"adobe-alloy/dist/lib/dataElements/eventMergeId/createEventMergeId.js":{script:function(e){"use strict";e.exports=function(e){var t=e.instanceManager,a=e.eventMergeIdCache;return function(e){var n=e.cacheId,r=a.getByCacheId(n);return r||(r=t.createEventMergeId().eventMergeId,a.set(n,r)),r}}}},"adobe-alloy/dist/lib/index.js":{script:function(e,t,a){"use strict";var n=a("./createEventMergeIdCache"),r=a("./createSendEventCallbackStorage"),o=a("./createMediaCollectionSessionStorage"),i=a("./createVariableStore");t.eventMergeIdCache=n(),t.sendEventCallbackStorage=r(),t.mediaCollectionSessionStorage=o(),t.variableStore=i()}},"adobe-alloy/dist/lib/alloy.js":{script:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(null==e)return{};var a,n,r=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function o(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;a[n]=e[n]}return a}function i(e,t){return l(e)||c(e,t)||v(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,o,i,s=[],c=!0,l=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=o.call(a)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(l)throw r}}return s}}function l(e){if(Array.isArray(e))return e}function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return(t=f(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function f(e){var t=p(e,"string");return"symbol"==P(t)?t:t+""}function p(e,t){if("object"!=P(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e){return b(e)||h(e)||v(e)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return w(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?w(e,t):void 0}}function h(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e){if(Array.isArray(e))return w(e)}function w(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function L(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)e[n]=a[n]}return e}function D(e,t){function a(a,n,r){if("undefined"!=typeof document){"number"==typeof(r=L({},t,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in r)r[i]&&(o+="; "+i,!0!==r[i]&&(o+="="+r[i].split(";")[0]));return document.cookie=a+"="+e.write(n,a)+o}}function n(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var a=document.cookie?document.cookie.split("; "):[],n={},r=0;r<a.length;r++){var o=a[r].split("="),i=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(n[s]=e.read(i,s),t===s)break}catch(e){}}return t?n[t]:n}}return Object.create({set:a,get:n,remove:function(e,t){a(e,"",L({},t,{expires:-1}))},withAttributes:function(e){return D(this.converter,L({},this.attributes,e))},withConverter:function(e){return D(L({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function T(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function E(){return me||(me=1,pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){for(var a={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=a.parser[t.strictMode?"strict":"loose"].exec(e),r={},o=14;o--;)r[a.key[o]]=n[o]||"";return r[a.q.name]={},r[a.key[12]].replace(a.q.parser,(function(e,t,n){t&&(r[a.q.name][t]=n)})),r}}),pe}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Da[e[t+0]]+Da[e[t+1]]+Da[e[t+2]]+Da[e[t+3]]+"-"+Da[e[t+4]]+Da[e[t+5]]+"-"+Da[e[t+6]]+Da[e[t+7]]+"-"+Da[e[t+8]]+Da[e[t+9]]+"-"+Da[e[t+10]]+Da[e[t+11]]+Da[e[t+12]]+Da[e[t+13]]+Da[e[t+14]]+Da[e[t+15]]).toLowerCase()}function k(){if(!ye){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ye=crypto.getRandomValues.bind(crypto)}return ye(Ea)}function S(e,t,a){if(Ca.randomUUID&&!t&&!e)return Ca.randomUUID();var n=(e=e||{}).random||(e.rng||k)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){a=a||0;for(var r=0;r<16;++r)t[a+r]=n[r];return t}return C(n)}function I(e){return"object"===P(e)||void 0===e}function O(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(I(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!I(a[r])&&n===String(a[r]).toLowerCase())return!0;return!1}}}function _(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(I(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!I(a[r])&&n===String(a[r]).toLowerCase())return!1;return!0}}}function j(){return{matches:function(e,t){return void 0!==e[t]&&null!==e[t]}}}function R(){return{matches:function(e,t){return void 0===e[t]||null===e[t]}}}function x(e){return"number"==typeof e}function N(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!x(n))return!1;for(var r=0;r<a.length;r+=1)if(x(a[r])&&n>a[r])return!0;return!1}}}function A(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!x(n))return!1;for(var r=0;r<a.length;r+=1)if(x(a[r])&&n>=a[r])return!0;return!1}}}function M(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!x(n))return!1;for(var r=0;r<a.length;r+=1)if(x(a[r])&&n<a[r])return!0;return!1}}}function V(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!x(n))return!1;for(var r=0;r<a.length;r+=1)if(x(a[r])&&n<=a[r])return!0;return!1}}}function U(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(I(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!I(a[r])&&-1!==n.indexOf(String(a[r]).toLowerCase()))return!0;return!1}}}function F(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(I(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!I(a[r])&&-1!==n.indexOf(String(a[r]).toLowerCase()))return!1;return!0}}}function q(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(I(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!I(a[r])&&n.startsWith(String(a[r]).toLowerCase()))return!0;return!1}}}function B(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(I(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!I(a[r])&&n.endsWith(a[r].toLowerCase()))return!0;return!1}}}function z(e){return Bs[e]}function H(e){return void 0===e}function G(e,t,a){switch(t){case Us.GREATER_THAN:return e>a;case Us.GREATER_THAN_OR_EQUAL_TO:return e>=a;case Us.LESS_THAN:return e<a;case Us.LESS_THAN_OR_EQUAL_TO:return e<=a;case Us.EQUALS:return e===a;case Us.NOT_EQUALS:return e!==a;default:return!1}}function W(e,t){for(var a=0;a<t.length;a+=1)if(!H(e[t[a]]))return e[t[a]]}function J(e,t){for(var a=Object.keys(e),n=0;n<a.length;n+=1){var r=a[n],o=t.event;if((void 0===o?{}:o)[a[n]]!==e[r])return!1}return!0}function Q(e,t,a,n){return e.reduce((function(e,r){var o=W(r,zs);if(!o)return e;var i=t.events[o];if(!i)return e;var s=W(r,Hs);if(!s)return e;var c=i[s];if(!c)return e;if(!J(r,c))return e;var l=c.count,u=void 0===l?1:l;return H(a)||H(n)||c.timestamp>=a&&c.timestamp<=n?e+u:e}),0)}function $(e,t,a,n){var r=a;return e.every((function(e){var a=W(e,zs);if(!a)return!1;var o=t.events[a];if(!o)return!1;var i=W(e,Hs);if(!i)return!1;var s=o[i];if(!J(e,s))return!1;if(null===s||H(s)||0===s.count)return!1;var c=(H(r)||s.timestamp>=r)&&(H(n)||s.timestamp<=n);return r=s.timestamp,c}))?1:0}function K(e,t){for(var a=!0,n=0;n<t.length;n+=1)a=a&&t[n].evaluate(e);return a}function X(e,t){for(var a=!1,n=0;n<t.length;n+=1)if(a=a||t[n].evaluate(e))return!0;return!1}function Y(e,t){return{version:e,rules:t}}function Z(e,t){return{execute:function(a){return e.evaluate(a)?t:[]},toString:function(){return"Rule{condition=".concat(e,", consequences=").concat(t,"}")}}}function ee(e,t){return{evaluate:function(e){return t.evaluate(e)},toString:function(){return"Condition{type=".concat(e,", definition=").concat(t,"}")}}}function te(e,t,a){return{id:e,type:t,detail:a}}function ae(e,t){return{evaluate:function(a){return Fs.AND===e?K(a,t):Fs.OR===e&&X(a,t)}}}function ne(e,t,a){return{evaluate:function(n){var r=z(t);return!!r&&r.matches(n,e,a)}}}function re(e,t,a,n,r,o){return{evaluate:function(i){return G(qs.ORDERED===o?$(e,i,n,r):Q(e,i,n,r),t,a)}}}function oe(e){return ne(e.key,e.matcher,e.values)}function ie(e){return ae(e.logic,e.conditions.map(ce))}function se(e){var t=e.events,a=e.from,n=e.to;return re(t,e.matcher,e.value,a,n,e.searchType)}function ce(e){var t=e.type,a=e.definition;if(Vs.MATCHER===t)return ee(t,oe(a));if(Vs.GROUP===t)return ee(t,ie(a));if(Vs.HISTORICAL===t)return ee(t,se(a));throw new Error("Can not parse condition")}function le(e){return te(e.id,e.type,e.detail)}function ue(e){var t=e.condition,a=e.consequences;return Z(ce(t),a.map(le))}function de(e){return Y(e.version,e.rules.map(ue))}function ge(e){var t=de(e),a=t.version,n=t.rules;return{execute:function(e){return n.map((function(t){return t.execute(e)})).filter((function(e){return e.length>0}))},getVersion:function(){return a},numRules:function(){return n.length}}}Object.defineProperty(t,"__esModule",{value:!0}),t.deepAssign=t.createInstance=t.createEventMergeId=void 0;for(var fe,pe,me,ye,ve=n(a("@adobe/reactor-query-string")),he=["datastreamId"],be=["edgeConfigOverrides"],we=["xdm","data","documentUnloading","type","mergeId","datasetId","edgeConfigOverrides"],Pe=["priority"],Le=["priority"],De=["priority"],Te=["trackingLabel","scopeType"],Ee=["standard","version"],Ce=function(e){return null==e},ke=function(e){return!Ce(e)&&!Array.isArray(e)&&"object"===P(e)},Se=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.length<2?Object.assign.apply(Object,t):t.reduce((function(e,t){return ke(t)&&Object.keys(t).forEach((function(a){var n;Array.isArray(t[a])?Array.isArray(e[a])?(n=e[a]).push.apply(n,m(t[a])):e[a]=m(t[a]):e[a]=t[a]})),e}))},Ie=D({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),Oe={get:Ie.get.bind(Ie),set:Ie.set.bind(Ie),remove:Ie.remove.bind(Ie),withConverter:Ie.withConverter.bind(Ie)},_e=function(e,t){Object.keys(t).forEach((function(a){ke(e[a])&&ke(t[a])?_e(e[a],t[a]):e[a]=t[a]}))},je=t.deepAssign=function(e){if(Ce(e))throw new TypeError('deepAssign "target" cannot be null or undefined');for(var t=Object(e),a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return n.forEach((function(e){return _e(t,Object(e))})),t},Re=function(e,t){return function(a){var n=t.split(".").reduce((function(e,t){return e[t]=e[t]||{},e[t]}),e);je(n,a)}},xe=function(){var e=[];return{add:function(t){e.push(t)},call:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return Promise.all(e.map((function(e){return e.apply(void 0,a)})))}}},Ne=function(e){var t=e.logger,a=e.cookieJar;return d(d({},a),{},{set:function(e,n,r){t.info("Setting cookie",d({name:e,value:n},r)),a.set(e,n,r)}})},Ae=function(){var e=0,t=Promise.resolve();return{addTask:function(a){e+=1;var n=function(){return a().finally((function(){e-=1}))};return t=t.then(n,n)},get length(){return e}}},Me=function(){for(var e=[],t=0;t<256;t++){for(var a=t,n=0;n<8;n++)a=1&a?3988292384^a>>>1:a>>>1;e.push(a)}return function(t,a){t=unescape(encodeURIComponent(t)),a||(a=0),a=~a;for(var n=0;n<t.length;n++){var r=255&(a^t.charCodeAt(n));a=a>>>8^e[r]}return(a=~a)>>>0}}(),Ve=function(){var e={};return e.promise=new Promise((function(t,a){e.resolve=t,e.reject=a})),e},Ue=function(e,t){return e===t},Fe=function(e,t,a){for(var n=0;n<e.length;n+=1)if(a(e[n],t))return n;return-1},qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue;return e.filter((function(a,n){return Fe(e,a,t)===n}))},Be=function(e,t){return e.appendChild(t)},ze=function(e,t){Object.keys(t).forEach((function(a){if("style"===a&&ke(t[a])){var n=t[a];Object.keys(n).forEach((function(t){e.style[t]=n[t]}))}else e[a]=t[a]}))},He=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:document).createElement(e);return Object.keys(t).forEach((function(e){r.setAttribute(e,t[e])})),ze(r,a),n.forEach((function(e){return Be(r,e)})),r},Ge="BODY",We="IFRAME",Je="IMG",Qe="DIV",$e="STYLE",Ke="SCRIPT",Xe="HEAD",Ye=function(e){var t=e.src,a=e.currentDocument,n=void 0===a?document:a;return new Promise((function(e,a){He(Je,{src:t},{onload:e,onerror:a,onabort:a},[],n)}))},Ze=function(e){return"function"==typeof e},et=function(e){return Array.isArray(e)&&e.length>0},tt=function(e){return Array.isArray(e)?e:null==e?[]:[].slice.call(e)},at=/^\s*>/,nt=function(e,t){return at.test(t)?tt(e.querySelectorAll(":scope ".concat(t))):tt(e.querySelectorAll(t))},rt=":shadow",ot=function(e){return e.split(rt)},it=function(e,t){var a=t;if(!a.startsWith(">"))return a;var n=e instanceof Element||e instanceof Document?":scope":":host";return"".concat(n," ").concat(a)},st=function(e,t){var a=ot(t);if(a.length<2)return nt(e,t);for(var n=e,r=0;r<a.length;r+=1){var o=a[r].trim();if(""===o&&n.shadowRoot)n=n.shadowRoot;else{var i=it(n,o),s=nt(n,i);if(0===s.length||!s[0]||!s[0].shadowRoot)return s;n=s[0].shadowRoot}}},ct=function(e){return-1!==e.indexOf(rt)},lt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return ct(e)?st(t,e):nt(t,e)},ut="MutationObserver",dt="requestAnimationFrame",gt={childList:!0,subtree:!0},ft="visibilityState",pt="visible",mt=100,yt=5e3,vt=function(e){return new Error("Could not find: ".concat(e))},ht=function(e){return new Promise(e)},bt=function(e){return Ze(e[ut])},wt=function(e,t,a,n,r){return ht((function(o,i){var s,c=new e[ut]((function(){var e=r(a);et(e)&&(c.disconnect(),s&&clearTimeout(s),o(e))}));s=setTimeout((function(){c.disconnect(),i(vt(a))}),n),c.observe(t,gt)}))},Pt=function(e){return e[ft]===pt},Lt=function(e,t,a,n){return ht((function(r,o){var i=function(){var a=n(t);et(a)?r(a):e[dt](i)};i(),setTimeout((function(){o(vt(t))}),a)}))},Dt=function(e,t,a){return ht((function(n,r){var o=function(){var t=a(e);et(t)?n(t):setTimeout(o,mt)};o(),setTimeout((function(){r(vt(e))}),t)}))},Tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yt,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,o=t(e);return et(o)?Promise.resolve(o):bt(n)?wt(n,r,e,a,t):Pt(r)?Lt(n,e,a,t):Dt(e,a,t)},Et=function(e,t){return t.matches?t.matches(e):t.msMatchesSelector(e)},Ct=function(e){var t=e.parentNode;return t?t.removeChild(e):null},kt={name:"Adobe Alloy"},St={style:{display:"none",width:0,height:0}},It=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.appendNode,n=void 0===a?Be:a,r=t.awaitSelector,o=void 0===r?Tt:r,s=t.createNode,c=void 0===s?He:s,l=t.fireImage,u=void 0===l?Ye:l,d=u,g=function(){return o(Ge).then((function(t){var a=i(t,1)[0];return e||(e=c(We,kt,St),n(a,e))}))},f=function(e){var t=e.src;return g().then((function(e){var a=e.contentWindow.document;return u({src:t,currentDocument:a})}))};return function(e){var t=e.hideReferrer,a=e.url;return t?f({src:a}):d({src:a})}},Ot=function(e){return ke(e)&&0===Object.keys(e).length},_t=function(e,t){return Ce(e)||!ke(e)?e:Object.keys(e).reduce((function(a,n){var r=e[n];if(ke(r)){var o=_t(r,t);return Ot(o)?a:d(d({},a),{},g({},n,o))}return t(r)?d(d({},a),{},g({},n,r)):a}),{})},jt="com.adobe.alloy.",Rt=function(e,t){return e.slice(-t)},xt="".concat(jt,"getTld"),Nt=function(e,t){for(var a="",n=e.location.hostname.toLowerCase().split("."),r=1;r<n.length&&!t.get(xt);)a=Rt(n,r+=1).join("."),t.set(xt,xt,{domain:a});return t.remove(xt,{domain:a}),a},At="kndctr",Mt=function(e){return e.replace("@","_")},Vt=function(e,t){return"".concat(At,"_").concat(Mt(e),"_").concat(t)},Ut=function(e,t){var a={};return e.forEach((function(e){var n=t(e);a[n]||(a[n]=[]),a[n].push(e)})),a},Ft="Chrome",qt="Edge",Bt="EdgeChromium",zt="Firefox",Ht="IE",Gt="Safari",Wt="Unknown",Jt=function(e){var t,a=!1;return function(){return a||(a=!0,t=e()),t}},Qt=[Ft,qt,Bt,Ht,Wt],$t=function(e){var t=e.getBrowser;return Jt((function(){return Qt.includes(t())}))},Kt="identity",Xt="consent",Yt="cluster",Zt=function(e){var t=e.orgId,a=Vt(t,Kt);return function(){return Boolean(Oe.get(a))}},ea=function(e,t){for(var a=Object.keys(e),n=0;n<a.length;n+=1){var r=a[n];if(e[r].test(t))return r}return Wt},ta=function(e){var t=e.userAgent;return Jt((function(){return ea(g(g(g(g(g(g({},qt,/Edge\/([0-9\._]+)/),Bt,/Edg\/([0-9\.]+)/),Ft,/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/),zt,/Firefox\/([0-9\.]+)(?:\s|$)/),Ht,/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/),Gt,/Version\/([0-9\._]+).*Safari/),t)}))},aa=function(e,t,a){return{getItem:function(n){try{return e[t].getItem(a+n)}catch(e){return null}},setItem:function(n,r){try{return e[t].setItem(a+n,r),!0}catch(e){return!1}},clear:function(){try{return Object.keys(e[t]).forEach((function(n){n.startsWith(a)&&e[t].removeItem(n)})),!0}catch(e){return!1}}}},na=function(e){return function(t){var a=jt+t;return{session:aa(e,"sessionStorage",a),persistent:aa(e,"localStorage",a)}}},ra=function(e,t){return e.filter((function(e){return t.includes(e)}))},oa=function(e){return"boolean"==typeof e},ia=function(e){return"number"==typeof e&&!Number.isNaN(e)},sa=function(e){var t=parseInt(e,10);return ia(t)&&e===t},ca=function(e,t){return 0===t.indexOf("".concat(At,"_").concat(Mt(e),"_"))},la=function(e){return"string"==typeof e},ua=function(e){return la(e)&&e.length>0},da=function(){},ga=T(E()),fa=function(e){var t={},a=e.split(".");switch(a.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=a[1];break;case 3:t.subdomain="www"===a[0]?"":a[0],t.domain=e,t.topLevelDomain=a[2];break;case 4:t.subdomain="www"===a[0]?"":a[0],t.domain=e,t.topLevelDomain="".concat(a[2],".").concat(a[3])}return t},pa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fa;la(e)||(e="");var a=ga(e)||{},n=a.host,r=void 0===n?"":n,o=a.path,i=void 0===o?"":o,s=a.query,c=void 0===s?"":s,l=a.anchor;return d({path:i,query:c,fragment:void 0===l?"":l},t(r))},ma=function(e){if(Ce(e)||"object"!==P(e))return null;var t=_t(e,(function(e){return!(Ce(e)||!oa(e)&&!ia(e)&&!ua(e)&&!et(e))}));return Ot(t)?null:t},ya=function(e){return e instanceof Error?e:new Error(e)},va=function(e){var t=e.error,a=e.message;try{t.message=a}catch(e){}},ha=function(e){var t=e.error,a=e.message,n=ya(t),r="".concat(a,"\nCaused by: ").concat(n.message);return va({error:n,message:r}),n},ba=function(e){return la(e)&&"true"===e.toLowerCase()},wa=function(e,t){if(ia(e)||la(e)){var a=Math.round(Number(e));if(!Number.isNaN(a))return a}return t},Pa=function(e,t,a){return"".concat(e).padStart(t,a)},La=function(e){var t=e.getFullYear(),a=Pa(e.getMonth()+1,2,"0"),n=Pa(e.getDate(),2,"0"),r=Pa(e.getHours(),2,"0"),o=Pa(e.getMinutes(),2,"0"),i=Pa(e.getSeconds(),2,"0"),s=Pa(e.getMilliseconds(),3,"0"),c=wa(e.getTimezoneOffset(),0),l=c>0?"-":"+",u=Pa(Math.floor(Math.abs(c)/60),2,"0"),d=Pa(Math.abs(c)%60,2,"0");return"".concat(t,"-").concat(a,"-").concat(n,"T").concat(r,":").concat(o,":").concat(i,".").concat(s).concat(l).concat(u,":").concat(d)},Da=[],Ta=0;Ta<256;++Ta)Da.push((Ta+256).toString(16).slice(1));var Ea=new Uint8Array(16),Ca={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},ka=function(e){return function(t,a){return null==t?t:e.call(this,t,a)}},Sa=function(e,t){return function(a,n){return t.call(this,e.call(this,a,n),n)}},Ia=function(e,t){return function(a,n){var r=this,o=[],i=[e,t].reduce((function(e,t){try{return t.call(r,e,n)}catch(t){return o.push(t),e}}),a);if(o.length)throw new Error(o.join("\n"));return i}},Oa=function(e,t,a){return Object.assign(Sa(e,t),e,a)},_a=function(e,t,a){return Object.assign(Sa(e,ka(t)),e,a)},ja=function(e,t,a){return Object.assign(Ia(ka(t),e),e,a)},Ra=function(e,t,a,n){if(!e)throw new Error("'".concat(a,"': Expected ").concat(n,", but got ").concat(JSON.stringify(t),"."))},xa=function(e,t){return Ra(oa(e),e,t,"true or false"),e},Na=function(e,t){return Ra(Ze(e),e,t,"a function"),e},Aa=function(e,t){return function(a,n){var r,o=this,i=e.find((function(e){try{return r=e.call(o,a,n),!0}catch(e){return!1}}));return Ra(i,a,n,t),r}},Ma=function(e){return function(t,a){var n=this;Ra(Array.isArray(t),t,a,"an array");var r=[],o=t.map((function(o,i){try{return e.call(n,o,"".concat(a,"[").concat(i,"]"),t)}catch(e){return void r.push(e.message)}}));if(r.length)throw new Error(r.join("\n"));return o}},Va=function(e){return function(t){return null==t?e:t}},Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This field has been deprecated";return function(t,a){var n=e;return void 0!==t&&(a&&(n="'".concat(a,"': ").concat(n)),this&&this.logger&&this.logger.warn(n)),t}},Fa=function(e){return function(t,a){return Ra(t===e,t,a,"".concat(e)),t}},qa=function(e){return function(t,a){var n=this;Ra(ke(t),t,a,"an object");var r=[],o={};if(Object.keys(t).forEach((function(i){var s=t[i],c=a?"".concat(a,".").concat(i):i;try{var l=e.call(n,s,c);void 0!==l&&(o[i]=l)}catch(e){r.push(e.message)}})),r.length)throw new Error(r.join("\n"));return o}},Ba=function(e,t){return function(a,n){return Ra(a>=t,a,n,"".concat(e," greater than or equal to ").concat(t)),a}},za=function(e,t){return function(a,n){return Ra(a<=t,a,n,"".concat(e," less than or equal to ").concat(t)),a}},Ha=function(e){return function(t,a){var n=[];if(Object.keys(t).forEach((function(t){if(!e[t]){var r=a?"".concat(a,".").concat(t):t;n.push("'".concat(r,"': Unknown field."))}})),n.length)throw new Error(n.join("\n"));return t}},Ga=function(e){return function(t,a){return ke(t)?Ra(!Ot(t),t,a,e):Ra(t.length>0,t,a,e),t}},Wa=function(e){return function(t,a){var n=this;Ra(ke(t),t,a,"an object");var r=[],o={};if(Object.keys(e).forEach((function(i){var s=t[i],c=e[i],l=a?"".concat(a,".").concat(i):i;try{var u=c.call(n,s,l);void 0!==u&&(o[i]=u)}catch(e){r.push(e.message)}})),Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty.call(o,e)||(o[e]=t[e])})),r.length)throw new Error(r.join("\n"));return o}},Ja=function(e,t,a){return function(n,o){Ra(ke(n),n,o,"an object");var i=n[e],s=n[a],c=r(n,[e,a].map(f)),l=t(i,o);if(void 0!==l){var u="The field '".concat(e,"' is deprecated. Use '").concat(a,"' instead.");if(o&&(u="'".concat(o,"': ").concat(u)),void 0!==s&&s!==l)throw new Error(u);this&&this.logger&&this.logger.warn(u)}return d(g({},a,s||l),c)}},Qa=function(){var e=[];return function(t,a){return Ra(-1===e.indexOf(t),t,a,"a unique value across instances"),e.push(t),t}},$a=function(e){for(var t=Object.create(null),a=0;a<e.length;a+=1){var n=e[a];if(n in t)return!1;t[n]=!0}return!0},Ka=function(){return function(e,t){return Ra($a(e),e,t,"array values to be unique"),e}},Xa=/^[a-z0-9.-]{1,}$/i,Ya=function(e,t){return Ra(Xa.test(e),e,t,"a valid domain"),e},Za=function(e,t){return Ra(sa(e),e,t,"an integer"),e},en=function(e,t){return Ra(ia(e),e,t,"a number"),e},tn=function(e){try{return null!==RegExp(e)}catch(e){return!1}},an=function(e,t){return Ra(tn(e),e,t,"a regular expression"),e},nn=function(e,t){if(null==e)throw new Error("'".concat(t,"' is a required option"));return e},rn=function(e,t){return Ra(la(e),e,t,"a string"),e},on=function(e){return function(t,a){return Ra(e.test(t),t,a,"does not match the ".concat(e.toString())),t}},sn=function(e){return e};sn.default=function(e){return Oa(this,Va(e))},sn.required=function(){return Oa(this,nn)},sn.deprecated=function(e){return Oa(this,Ua(e))};var cn=function(){return _a(this,Ya)},ln=function(e){return _a(this,Ba("an integer",e))},un=function(e){return _a(this,Ba("a number",e))},dn=function(e){return _a(this,za("a number",e))},gn=function(){return _a(this,Za,{minimum:ln})},fn=function(){return _a(this,Ga("a non-empty string"))},pn=function(){return _a(this,Ga("a non-empty array"))},mn=function(){return _a(this,Ga("a non-empty object"))},yn=function(){return _a(this,an)},vn=function(e){return _a(this,on(e))},hn=function(){return _a(this,Qa())},bn=function(){return _a(this,Ka())},wn=function(){return this},Pn=function(e){return _a(this,Ma(e),{nonEmpty:pn,uniqueItems:bn})},Ln=function(){return _a(this,xa)},Dn=function(){return _a(this,Na)},Tn=function(e){return _a(this,Fa(e))},En=function(){return _a(this,en,{minimum:un,maximum:dn,integer:gn,unique:hn})},Cn=function(e){return _a(this,qa(e),{nonEmpty:mn})},kn=function(e){return{noUnknownFields:function(){return _a(this,Ha(e))},nonEmpty:mn,concat:function(t){var a=d(d({},e),t.schema);return _a(this,t,kn(a))},renamed:function(e,t,a){return ja(this,Ja(e,t,a))},schema:e}},Sn=function(e){return _a(this,Wa(e),kn(e))},In=function(){return _a(this,rn,{regexp:yn,domain:cn,nonEmpty:fn,unique:hn,matches:vn})},On=function(e,t){return Oa(this,Aa(e,t))}.bind(sn),_n=wn.bind(sn),jn=Pn.bind(sn),Rn=Ln.bind(sn),xn=Dn.bind(sn),Nn=Tn.bind(sn),An=En.bind(sn),Mn=Cn.bind(sn),Vn=Sn.bind(sn),Un=In.bind(sn),Fn=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return On(t.map(Nn),"one of these values: ".concat(JSON.stringify(t)))},qn=Mn(jn(Vn({authenticatedState:Fn("ambiguous","authenticated","loggedOut"),id:Un(),namespace:Vn({code:Un()}).noUnknownFields(),primary:Rn(),xid:Un()}).noUnknownFields()).required()),Bn=Vn({}),zn="alloy_debug",Hn=function(e){var t=e.console,a=e.locationSearch,n=e.createLogger,r=e.instanceName,o=e.createNamespacedStorage,i=e.getMonitors,s=ve.default.parse(a),c=o("instance.".concat(r,".")),l=c.session.getItem("debug"),u="true"===l,d=null===l,g=function(){return u},f=function(e,t){var a=t.fromConfig;a&&!d||(u=e),a||(c.session.setItem("debug",e.toString()),d=!1)};return void 0!==s[zn]&&f(ba(s[zn]),{fromConfig:!1}),{setDebugEnabled:f,logger:n({getDebugEnabled:g,context:{instanceName:r},getMonitors:i,console:t}),createComponentLogger:function(e){return n({getDebugEnabled:g,context:{instanceName:r,componentName:e},getMonitors:i,console:t})}}},Gn=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"],Wn=function(e,t){return function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return Promise.all(e.getLifecycleCallbacks(t).map((function(e){return new Promise((function(t){t(e.apply(void 0,n))}))})))}},Jn=function(e){return function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return Promise.resolve().then((function(){return e.apply(void 0,a)}))}},Qn=function(e){return Gn.reduce((function(t,a){return t[a]=Jn(Wn(e,a)),t}),{})},$n=function(e,t){return function(){var a;try{a=e.apply(void 0,arguments)}catch(e){throw ha({error:e,message:t})}return a instanceof Promise&&(a=a.catch((function(e){throw ha({error:e,message:t})}))),a}},Kn=function(){var e={},t={},a={},n=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ra(Object.keys(t),Object.keys(a));if(n.length)throw new Error("[ComponentRegistry] Could not register ".concat(e," ")+"because it has existing command(s): ".concat(n.join(",")));Object.keys(a).forEach((function(n){var r=a[n];r.commandName=n,r.run=$n(r.run,"[".concat(e,"] An error occurred while executing the ").concat(n," command.")),t[n]=r}))},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){a[n]=a[n]||[],a[n].push($n(t[n],"[".concat(e,"] An error occurred while executing the ").concat(n," lifecycle hook.")))}))};return{register:function(t,a){var o=a.commands,i=a.lifecycle;n(t,o),r(t,i),e[t]=a},getCommand:function(e){return t[e]},getCommandNames:function(){return Object.keys(t)},getLifecycleCallbacks:function(e){return a[e]||[]},getComponentNames:function(){return Object.keys(e)}}},Xn=function(e){var t=e.logger,a=e.sendFetchRequest,n=e.sendBeaconRequest,r=e.isRequestRetryable,o=e.getRequestRetryDelay;return function(e){var i=e.requestId,s=e.url,c=e.payload,l=e.useSendBeacon,u=JSON.stringify(c),g=JSON.parse(u);t.logOnBeforeNetworkRequest({url:s,requestId:i,payload:g});var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(l?n:a)(s,u).then((function(a){var n;if(r({response:a,retriesAttempted:e})){var c=o({response:a,retriesAttempted:e});return new Promise((function(t){setTimeout((function(){t(f(e+1))}),c)}))}try{n=JSON.parse(a.body)}catch(e){}return t.logOnNetworkResponse(d(d({requestId:i,url:s,payload:g},a),{},{parsedBody:n,retriesAttempted:e})),{statusCode:a.statusCode,body:a.body,parsedBody:n,getHeader:a.getHeader}}))};return f().catch((function(e){throw t.logOnNetworkError({requestId:i,url:s,payload:g,error:e}),ha({error:e,message:"Network request failed."})}))}},Yn=function(e){var t=e.logger;return function(e){if(e){var a=e.split(";");if(a.length>=2&&a[1].length>0)try{var n=parseInt(a[1],10);if(!Number.isNaN(n))return{regionId:n}}catch(e){}t.warn('Invalid adobe edge: "'.concat(e,'"'))}return{}}},Zn="in",er="out",tr="pending",ar="general",nr="declinedConsent",rr="default",or="initial",ir="new",sr=function(e){var t=new Error(e);return t.code=nr,t.message=e,t},cr=function(e){var t=e.logger,a=[],n=function(){for(;a.length;)a.shift().resolve()},r=function(){for(;a.length;)a.shift().reject(sr("The user declined consent."))},o=function(){return Promise.resolve()},i=function(){return Promise.resolve()},s=function(){return Promise.reject(sr("No consent preferences have been set."))},c=function(){return Promise.reject(sr("The user declined consent."))},l=function(e){if(e)return Promise.reject(new Error("Consent is pending."));var t=Ve();return a.push(t),t.promise};return{in:function(e){e===rr?this.awaitConsent=o:(e===or?t.info("Loaded user consent preferences. The user previously consented."):e===ir&&this.awaitConsent!==i&&t.info("User consented."),n(),this.awaitConsent=i)},out:function(e){e===rr?(t.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=s):(e===or?t.warn("Loaded user consent preferences. The user previously declined consent."):e===ir&&this.awaitConsent!==c&&t.warn("User declined consent."),r(),this.awaitConsent=c)},pending:function(e){e===rr&&t.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=l},awaitConsent:function(){return Promise.resolve()},withConsent:function(){return this.awaitConsent(!0)},current:function(){switch(this.awaitConsent){case o:return{state:"in",wasSet:!1};case i:return{state:"in",wasSet:!0};case s:return{state:"out",wasSet:!1};case c:return{state:"out",wasSet:!0};case l:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}},lr=function(e){var t=e.generalConsentState,a=e.logger,n=function(e,n){switch(e[ar]){case Zn:t.in(n);break;case er:t.out(n);break;case tr:t.pending(n);break;default:a.warn("Unknown consent value: ".concat(e[ar]))}};return{initializeConsent:function(e,t){t[ar]?n(t,or):n(e,rr)},setConsent:function(e){n(e,ir)},suspend:function(){t.pending()},awaitConsent:function(){return t.awaitConsent()},withConsent:function(){return t.withConsent()},current:function(){return t.current()}}},ur=function(e){return e&&e._experience&&e._experience.decisioning&&et(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[]},dr=function(){var e,t,a={},n=!1,r=!1,o=!0,i=function(e){if(r)throw new Error("".concat(e," cannot be called after event is finalized."))},s={hasQuery:function(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent:function(){var n=JSON.parse(JSON.stringify(a));return e&&je(n,{xdm:e}),t&&je(n,{data:t}),n},setUserXdm:function(t){i("setUserXdm"),e=t},setUserData:function(e){i("setUserData"),t=e},mergeXdm:function(e){i("mergeXdm"),e&&je(a,{xdm:e})},mergeData:function(e){i("mergeData"),e&&je(a,{data:e})},mergeMeta:function(e){i("mergeMeta"),e&&je(a,{meta:e})},mergeQuery:function(e){i("mergeQuery"),e&&je(a,{query:e})},documentMayUnload:function(){n=!0},finalize:function(n){if(!r){var i=qe([].concat(m(ur(e)),m(ur(a.xdm))),(function(e,t){return e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope}));if(e&&this.mergeXdm(e),i.length>0&&(a.xdm._experience.decisioning.propositions=i),t&&s.mergeData(t),r=!0,n){o=!1;var c={xdm:a.xdm||{},data:a.data||{}},l=n(c);o=!1!==l,a.xdm=c.xdm||{},a.data=c.data||{},Ot(a.xdm)&&delete a.xdm,Ot(a.data)&&delete a.data}}},getDocumentMayUnload:function(){return n},isEmpty:function(){return Ot(a)&&(!e||Ot(e))&&(!t||Ot(t))},shouldSend:function(){return o},getViewName:function(){if(e&&e.web&&e.web.webPageDetails)return e.web.webPageDetails.viewName},toJSON:function(){if(!r)throw new Error("toJSON called before finalize");return a}};return s},gr="Retry-After",fr="x-adobe-edge",pr=function(e){var t=e.extractEdgeInfo;return function(e){var a=e.content,n=void 0===a?{}:a,r=e.getHeader,o=n.handle,i=void 0===o?[]:o,s=n.errors,c=void 0===s?[]:s,l=n.warnings,u=void 0===l?[]:l;return{getPayloadsByType:function(e){return i.filter((function(t){
return t.type===e})).flatMap((function(e){return e.payload}))},getErrors:function(){return c},getWarnings:function(){return u},getEdge:function(){return t(r(fr))},toJSON:function(){return n}}}},mr="configure",yr="setDebug",vr=function(e){var t,a=e.logger,n=e.configureCommand,r=e.setDebugCommand,o=e.handleError,i=e.validateCommandOptions,s=function(e,o){var s;if(e===mr){if(t)throw new Error("The library has already been configured and may only be configured once.");s=function(){return(t=n(o)).then((function(){}))}}else{if(!t)throw new Error("The library must be configured first. Please do so by executing the configure command.");s=e===yr?function(){return r(o)}:function(){return t.then((function(t){var a=t.getCommand(e);if(!a||!Ze(a.run)){var n=[mr,yr].concat(t.getCommandNames()).join(", ");throw new Error("The ".concat(e," command does not exist. List of available commands: ").concat(n,"."))}var r=i({command:a,options:o});return a.run(r)}),(function(){return a.warn("An error during configuration is preventing the ".concat(e," command from executing.")),new Promise((function(){}))}))}}return s};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){var r=s(e,t);a.logOnBeforeCommand({commandName:e,options:t}),n(r())})).catch((function(t){return o(t,"".concat(e," command"))})).catch((function(n){throw a.logOnCommandRejected({commandName:e,options:t,error:n}),n})).then((function(n){var r=ke(n)?n:{};return a.logOnCommandResolved({commandName:e,options:t,result:r}),r}))}},hr="https://adobe.ly/3sHgQHb",br=function(e){var t=e.command,a=e.options,n=t.commandName,r=t.documentationUri,o=void 0===r?hr:r,i=t.optionsValidator,s=a;if(i)try{s=i(a)}catch(e){var c="Invalid ".concat(n," command options:\n\t - ").concat(e," For command documentation see: ").concat(o);throw new Error(c)}return s},wr="https://adobe.ly/3sHh553",Pr=function(e){var t=e.combinedConfigValidator,a=e.options,n=e.logger;try{return t.noUnknownFields().required().call({logger:n},a)}catch(e){throw new Error("Resolve these configuration problems:\n\t - ".concat(e.message.split("\n").join("\n\t - "),"\nFor configuration documentation see: ").concat(wr))}},Lr=function(e,t,a){return a.reduce((function(a,n){var r=n.buildOnInstanceConfiguredExtraParams;return r&&(a=d(d({},a),r({config:e,logger:t}))),a}),{})},Dr=function(e){var t=[],a={get enabled(){return e.enabled},flush:function(){t.forEach((function(t){var a=t.method,n=t.args;return e[a].apply(e,m(n))}))}};return Object.keys(e).filter((function(t){return"function"==typeof e[t]})).forEach((function(e){a[e]=function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];t.push({method:e,args:n})}})),a},Tr=function(e){var t=e.options,a=e.componentCreators,n=e.coreConfigValidators,r=e.createConfig,o=e.logger,i=e.setDebugEnabled,s=Dr(o),c=a.map((function(e){return e.configValidators})).filter((function(e){return e})).reduce((function(e,t){return e.concat(t)}),n),l=r(Pr({combinedConfigValidator:c,options:t,logger:s}));i(l.debugEnabled,{fromConfig:!0}),s.flush();var u=Lr(l,o,a);return o.logOnInstanceConfigured(d(d({},u),{},{config:l})),l},Er=function(e){var t=e.componentCreators,a=e.lifecycle,n=e.componentRegistry,r=e.getImmediatelyAvailableTools;return t.forEach((function(e){var t,a=e.namespace,o=r(a);try{t=e(o)}catch(e){throw ha({error:e,message:"[".concat(a,"] An error occurred during component creation.")})}n.register(a,t)})),a.onComponentsRegistered({lifecycle:a}).then((function(){return n}))},Cr=function(e){return d({},e)},kr="edge.adobedc.net",Sr="adobedc.demdex.net",Ir="ee",Or=function(){return Vn({debugEnabled:Rn().default(!1),datastreamId:Un().unique().required(),edgeDomain:Un().domain().default(kr),edgeBasePath:Un().nonEmpty().default(Ir),orgId:Un().unique().required(),onBeforeEventSend:xn().default(da),edgeConfigOverrides:Bn}).renamed("edgeConfigId",Un().unique(),"datastreamId")},_r=function(e){var t=e.errorPrefix,a=e.logger;return function(e,n){var r=ya(e);if(r.code===nr)return a.warn("The ".concat(n," could not fully complete. ").concat(r.message)),{};throw va({error:r,message:"".concat(t," ").concat(r.message)}),r}},jr=function(e){var t=e.fetch;return function(e,a){return t(e,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrerPolicy:"no-referrer-when-downgrade",body:a}).then((function(e){return e.text().then((function(t){return{statusCode:e.status,getHeader:function(t){return e.headers.get(t)},body:t}}))}))}},Rr=function(e){var t=e.sendBeacon,a=e.sendFetchRequest,n=e.logger;return function(e,r){var o=new Blob([r],{type:"text/plain; charset=UTF-8"});return t(e,o)?Promise.resolve({statusCode:204,getHeader:function(){return null},body:""}):(n.info("Unable to use `sendBeacon`; falling back to `fetch`."),a(e,r))}},xr=function(e){var t=e.getDebugEnabled,a=e.console,n=e.getMonitors,r=e.context,o="[".concat(r.instanceName,"]");r.componentName&&(o+=" [".concat(r.componentName,"]"));var i=function(e,t){var a=n();if(a.length>0){var o=d(d({},r),t);a.forEach((function(t){t[e]&&t[e](o)}))}},s=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];i("onBeforeLog",{level:e,arguments:r}),t()&&a[e].apply(a,[o].concat(r))};return{get enabled(){return n().length>0||t()},logOnInstanceCreated:function(e){i("onInstanceCreated",e),s("info","Instance initialized.")},logOnInstanceConfigured:function(e){i("onInstanceConfigured",e),s("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand:function(e){i("onBeforeCommand",e),s("info","Executing ".concat(e.commandName," command. Options:"),e.options)},logOnCommandResolved:function(e){i("onCommandResolved",e),s("info","".concat(e.commandName," command resolved. Result:"),e.result)},logOnCommandRejected:function(e){i("onCommandRejected",e),s("error","".concat(e.commandName," command was rejected. Error:"),e.error)},logOnBeforeNetworkRequest:function(e){i("onBeforeNetworkRequest",e),s("info","Request ".concat(e.requestId,": Sending request."),e.payload)},logOnNetworkResponse:function(e){i("onNetworkResponse",e);var t=e.parsedBody||e.body?"response body:":"no response body.";s("info","Request ".concat(e.requestId,": Received response with status code ").concat(e.statusCode," and ").concat(t),e.parsedBody||e.body)},logOnNetworkError:function(e){i("onNetworkError",e),s("error","Request ".concat(e.requestId,": Network request failed."),e.error)},logOnContentHiding:function(e){i("onContentHiding",{status:e.status}),s(e.logLevel,e.message)},logOnContentRendering:function(e){i("onContentRendering",{status:e.status,payload:e.detail}),s(e.logLevel,e.message)},info:s.bind(null,"info"),warn:s.bind(null,"warn"),error:s.bind(null,"error")}},Nr="__view__",Ar=function(e){return function(t,a){e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(a)}},Mr=function(e){var t=e.payload,a=e.getAction,n=e.getUseSendBeacon,r=e.datastreamIdOverride,o=e.edgeSubPath,i=S(),s=!1,c=!1;return{getId:function(){return i},getPayload:function(){return t},getAction:function(){return a({isIdentityEstablished:c})},getDatastreamIdOverride:function(){return r},getUseSendBeacon:function(){return n({isIdentityEstablished:c})},getEdgeSubPath:function(){return o||""},getUseIdThirdPartyDomain:function(){return s},setUseIdThirdPartyDomain:function(){s=!0},setIsIdentityEstablished:function(){c=!0}}},Vr=function(e){var t=e.payload,a=e.datastreamIdOverride,n=function(e){var a=e.isIdentityEstablished;return t.getDocumentMayUnload()&&a};return Mr({payload:t,getAction:function(e){var t=e.isIdentityEstablished;return n({isIdentityEstablished:t})?"collect":"interact"},getUseSendBeacon:n,datastreamIdOverride:a})},Ur=function(e){var t=e.content,a=e.addIdentity,n=e.hasIdentity,r=Re(t,"meta.configOverrides");return{mergeMeta:Re(t,"meta"),mergeState:Re(t,"meta.state"),mergeQuery:Re(t,"query"),mergeConfigOverride:function(e){return r(ma(e))},addIdentity:a,hasIdentity:n,toJSON:function(){return t}}},Fr=function(e){return function(t){return void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t])}},qr=function(){var e={},t=Ur({content:e,addIdentity:Ar(e),hasIdentity:Fr(e)});return t.addEvent=function(t){e.events=e.events||[],e.events.push(t)},t.getDocumentMayUnload=function(){return(e.events||[]).some((function(e){return e.getDocumentMayUnload()}))},t},Br=function(e){var t=e.localConfigOverrides,a=e.globalConfigOverrides,n=e.payload,o={payload:n},i=t||{},s=i.datastreamId,c=r(i,he);return s&&(o.datastreamIdOverride=s),a&&!Ot(a)&&n.mergeConfigOverride(a),c&&!Ot(c)&&n.mergeConfigOverride(c),o},zr="adb_validation_sessionid",Hr="validation.",Gr="clientId",Wr=function(e){var t=e.persistent.getItem(Gr);return t||(t=S(),e.persistent.setItem(Gr,t)),t},Jr=function(e){var t=e.window,a=(0,e.createNamespacedStorage)(Hr);return function(){var e=ve.default.parse(t.location.search)[zr];if(!e)return"";var n=Wr(a),r="".concat(e,"|").concat(n);return"&".concat(ve.default.stringify({adobeAepValidationToken:r}))}},Qr="Event was canceled because the onBeforeEventSend callback returned false.",$r=function(e){var t=e.config,a=e.logger,n=e.lifecycle,o=e.consent,i=e.createEvent,s=e.createDataCollectionRequestPayload,c=e.createDataCollectionRequest,l=e.sendEdgeNetworkRequest,u=e.applyResponse,g=t.onBeforeEventSend,f=t.edgeConfigOverrides;return{createEvent:i,sendEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.edgeConfigOverrides,u=r(t,be),p=Br({payload:s(),localConfigOverrides:i,globalConfigOverrides:f}),m=c(p),y=xe(),v=xe();return n.onBeforeEvent(d(d({},u),{},{event:e,onResponse:y.add,onRequestFailure:v.add})).then((function(){return p.payload.addEvent(e),o.awaitConsent()})).then((function(){try{e.finalize(g)}catch(r){var t=function(){throw r};return v.add(n.onRequestFailure),v.call({error:r}).then(t,t)}if(!e.shouldSend()){v.add(n.onRequestFailure),a.info(Qr);var r=new Error(Qr);return v.call({error:r}).then((function(){}))}return l({request:m,runOnResponseCallbacks:y.call,runOnRequestFailureCallbacks:v.call})}))},applyResponse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.renderDecisions,r=void 0!==a&&a,o=t.decisionContext,i=void 0===o?{}:o,l=t.responseHeaders,d=void 0===l?{}:l,g=t.responseBody,f=void 0===g?{handle:[]}:g,p=t.personalization,m=s(),y=c({payload:m}),v=xe();return n.onBeforeEvent({event:e,renderDecisions:r,decisionContext:i,decisionScopes:[Nr],personalization:p,onResponse:v.add,onRequestFailure:da}).then((function(){return m.addEvent(e),u({request:y,responseHeaders:d,responseBody:f,runOnResponseCallbacks:v.call})}))}}},Kr="state:store",Xr=function(e){var t=e.cookieJar,a=e.shouldTransferCookie,n=e.apexDomain,r=e.dateProvider;return{cookiesToPayload:function(e,r){var o=""!==n&&r.endsWith(n),i={domain:n,cookiesEnabled:!0};if(!o){var s=t.get(),c=Object.keys(s).filter(a).map((function(e){return{key:e,value:s[e]}}));c.length&&(i.entries=c)}e.mergeState(i)},responseToCookies:function(e){e.getPayloadsByType(Kr).forEach((function(e){var a={domain:n},o=e.attrs&&e.attrs.SameSite&&e.attrs.SameSite.toLowerCase();void 0!==e.maxAge&&(a.expires=new Date(r().getTime()+1e3*e.maxAge)),void 0!==o&&(a.sameSite=o),"none"===o&&(a.secure=!0),t.set(e.key,e.value,a)}))}}},Yr="mboxEdgeCluster",Zr="at_qa_mode",eo="mbox",to=function(e){var t=e.orgId,a=e.targetMigrationEnabled;return function(e){return ca(t,e)||e===Zr||a&&e===eo}},ao="v1",no=function(e){var t=e.shift()||[],a=e.shift()||[],n=e;return Se.apply(void 0,[{}].concat(m(t),m(a),m(n)))},ro=function(e){return function(t){var a=function(){throw t};return e.call({error:t}).then(a,a)}},oo=function(e){var t=e.config,a=e.lifecycle,n=e.cookieTransfer,r=e.sendNetworkRequest,o=e.createResponse,i=e.processWarningsAndErrors,s=e.getLocationHint,c=e.getAssuranceValidationTokenParams,l=t.edgeDomain,u=t.edgeBasePath,d=t.datastreamId;return function(e){var t=e.request,g=e.runOnResponseCallbacks,f=void 0===g?da:g,p=e.runOnRequestFailureCallbacks,m=void 0===p?da:p,y=xe();y.add(a.onResponse),y.add(f);var v=xe();return v.add(a.onRequestFailure),v.add(m),a.onBeforeRequest({request:t,onResponse:y.add,onRequestFailure:v.add}).then((function(){var e=t.getUseIdThirdPartyDomain()?Sr:l,a=s(),o=a?"".concat(u,"/").concat(a).concat(t.getEdgeSubPath()):"".concat(u).concat(t.getEdgeSubPath()),i=t.getDatastreamIdOverride()||d,g=t.getPayload();i!==d&&g.mergeMeta({sdkConfig:{datastream:{original:d}}});var f="https://".concat(e,"/").concat(o,"/").concat(ao,"/").concat(t.getAction(),"?configId=").concat(i,"&requestId=").concat(t.getId()).concat(c());return n.cookiesToPayload(g,e),r({requestId:t.getId(),url:f,payload:g,useSendBeacon:t.getUseSendBeacon()})})).then((function(e){return i(e),e})).catch(ro(v)).then((function(e){var t=e.parsedBody,a=e.getHeader,r=o({content:t,getHeader:a});return n.responseToCookies(r),y.call({response:r}).then(no)}))}},io=204,so="The server responded with a",co=function(e){var t=e.logger;return function(e){var a=e.statusCode,n=e.body,r=e.parsedBody;if(a<200||a>=300||!r&&a!==io||r&&!Array.isArray(r.handle)){var o=r?JSON.stringify(r,null,2):n,i=o?"response body:\n".concat(o):"no response body.";throw new Error("".concat(so," status code ").concat(a," and ").concat(i))}if(r){var s=r.warnings,c=void 0===s?[]:s,l=r.errors,u=void 0===l?[]:l;c.forEach((function(e){t.warn("".concat(so," warning:"),e)})),u.forEach((function(e){t.error("".concat(so," non-fatal error:"),e)}))}}},lo=function(e){var t=e.orgId,a=e.cookieJar,n=Vt(t,Yt),r=function(){return a.get(n)},o=function(){var e=a.get(Yr);if(e)return"t".concat(e)};return function(){return r()||o()}},uo=3,go=[429,503,502,504],fo=function(e){var t=e.response;return e.retriesAttempted<uo&&go.includes(t.statusCode)},po=1e3,mo=1e3,yo=.3,vo=function(e){var t=po+e*mo,a=t*yo,n=t-a,r=t+a;return Math.round(n+Math.random()*(r-n))},ho=function(e){var t,a=e.getHeader(gr);if(a){var n=parseInt(a,10);t=sa(n)?1e3*n:Math.max(0,new Date(a).getTime()-(new Date).getTime())}return t},bo=function(e){var t=e.response,a=e.retriesAttempted,n=ho(t);return void 0===n&&(n=vo(a)),n},wo=200,Po=function(e){var t=e.cookieTransfer,a=e.lifecycle,n=e.createResponse,r=e.processWarningsAndErrors;return function(e){var o=e.request,i=e.responseHeaders,s=e.responseBody,c=e.runOnResponseCallbacks,l=void 0===c?da:c,u=e.runOnRequestFailureCallbacks,d=void 0===u?da:u,g=xe();g.add(a.onResponse),g.add(l);var f=xe();f.add(a.onRequestFailure),f.add(d);var p=function(e){return i[e]};return a.onBeforeRequest({request:o,onResponse:g.add,onRequestFailure:f.add}).then((function(){return r({statusCode:wo,getHeader:p,body:JSON.stringify(s),parsedBody:s})})).catch(ro(f)).then((function(){var e=n({content:s,getHeader:p});return t.responseToCookies(e),g.call({response:e}).then(no)}))}},Lo=function(e){var t=e.options;return Vn({type:Un(),xdm:Vn({eventType:Un(),identityMap:qn}),data:Vn({}),documentUnloading:Rn(),renderDecisions:Rn(),decisionScopes:jn(Un()).uniqueItems(),personalization:Vn({decisionScopes:jn(Un()).uniqueItems(),surfaces:jn(Un()).uniqueItems(),sendDisplayEvent:Rn().default(!0),includeRenderedPropositions:Rn().default(!1),defaultPersonalizationEnabled:Rn(),decisionContext:Vn({})}).default({sendDisplayEvent:!0}),datasetId:Un(),mergeId:Un(),edgeConfigOverrides:Bn,initializePersonalization:Rn()}).required().noUnknownFields()(t)},Do=function(e){var t=e.options;return Vn({renderDecisions:Rn(),responseHeaders:Mn(Un().required()),responseBody:Vn({handle:jn(Vn({type:Un().required(),payload:_n().required()})).required()}).required(),personalization:Vn({sendDisplayEvent:Rn().default(!0),decisionContext:Vn({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(t)},To=function(e){var t=e.eventManager,a=e.logger;return{commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:function(e){return Lo({options:e})},run:function(e){var n=e.xdm,o=e.data,i=e.documentUnloading,s=e.type,c=e.mergeId,l=e.datasetId,u=e.edgeConfigOverrides,d=r(e,we),g=t.createEvent();return i&&g.documentMayUnload(),g.setUserXdm(n),g.setUserData(o),s&&g.mergeXdm({eventType:s}),c&&g.mergeXdm({eventMergeId:c}),u&&(d.edgeConfigOverrides=u),l&&(a.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),d.edgeConfigOverrides=u||{},je(d.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:l}}}})),t.sendEvent(g,d)}},applyResponse:{documentationUri:"",optionsValidator:function(e){return Do({options:e})},run:function(e){var a=e.renderDecisions,n=void 0!==a&&a,r=e.decisionContext,o=void 0===r?{}:r,i=e.responseHeaders,s=void 0===i?{}:i,c=e.responseBody,l=void 0===c?{handle:[]}:c,u=e.personalization,d=t.createEvent();return t.applyResponse(d,{renderDecisions:n,decisionContext:o,responseHeaders:s,responseBody:l,personalization:u})}}}}};To.namespace="DataCollector";var Eo=function(e,t){return"ID sync ".concat(t?"succeeded":"failed",": ").concat(e.spec.url)},Co=function(e){var t=e.fireReferrerHideableImage,a=e.logger;return function(e){var n=e.filter((function(e){return"url"===e.type}));return n.length?Promise.all(n.map((function(e){return t(e.spec).then((function(){a.info(Eo(e,!0))})).catch((function(){a.error(Eo(e,!1))}))}))).then(da):Promise.resolve()}},ko=Vn({thirdPartyCookiesEnabled:Rn().default(!0),idMigrationEnabled:Rn().default(!0)}),So=Vn({url:Un().required().nonEmpty(),edgeConfigOverrides:Bn}).required().noUnknownFields(),Io="ECID",Oo=function(e){var t,a=e.addEcidQueryToPayload,n=e.addQueryStringIdentityToPayload,r=e.ensureSingleIdentity,o=e.setLegacyEcid,i=e.handleResponseForIdSyncs,s=e.getNamespacesFromResponse,c=e.getIdentity,l=e.consent,u=e.appendIdentityToUrl,g=e.logger,f=e.getIdentityOptionsValidator,p={};return{lifecycle:{onBeforeRequest:function(e){var t=e.request,o=e.onResponse,i=e.onRequestFailure;return a(t.getPayload()),n(t.getPayload()),r({request:t,onResponse:o,onRequestFailure:i})},onResponse:function(e){var a=e.response,n=s(a);return t&&t[Io]||!n||!n[Io]||o(n[Io]),t=n,p=d(d({},p),a.getEdge()),i(a)}},commands:{getIdentity:{optionsValidator:f,run:function(e){var a=e.namespaces;return l.awaitConsent().then((function(){return t?void 0:c(e)})).then((function(){return{identity:a.reduce((function(e,a){return e[a]=t[a]||null,e}),{}),edge:p}}))}},appendIdentityToUrl:{optionsValidator:So,run:function(e){return l.withConsent().then((function(){return t?void 0:c(e)})).then((function(){return{url:u(t[Io],e.url)}})).catch((function(t){return g.warn("Unable to append identity to url. ".concat(t.message)),e}))}}}}},_o=function(e){var t=e.config,a=e.getEcidFromVisitor,n=e.apexDomain,r=e.isPageSsl,o=e.cookieJar,i=t.idMigrationEnabled,s=t.orgId,c="AMCV_".concat(s),l=function(){var e=null,t="s_ecid",a=o.get(t)||o.get(c);if(a){var n=/(^|\|)MCMID\|(\d+)($|\|)/,r=a.match(n);r&&(e=r[2])}return e};return{getEcid:function(){if(i){var e=l();return e?Promise.resolve(e):a()}return Promise.resolve()},setEcid:function(e){if(i&&l()!==e){var t=r?{sameSite:"none",secure:!0}:{};o.set(c,"MCMID|".concat(e),d({domain:n,expires:390},t))}}}},jo=function(e){var t=e.logger;return new Promise((function(e,a){if(ke(window.adobe)&&ke(window.adobe.optIn)){var n=window.adobe.optIn;t.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),n.fetchPermissions((function(){n.isApproved([n.Categories.ECID])?(t.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),e()):a(new Error("Legacy opt-in was declined."))}),!0)}else e()}))},Ro=function(e){var t=e.Visitor;return Ze(t)&&Ze(t.getInstance)&&t},xo=function(e){var t=e.logger,a=e.orgId,n=e.awaitVisitorOptIn;return function(){var e=Ro(window);return e?n({logger:t}).then((function(){return t.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((function(n){e.getInstance(a,{}).getMarketingCloudVisitorID((function(e){t.info("Resuming previously delayed request that was waiting for ECID from Visitor."),n(e)}),!0)}))})).catch((function(e){e?t.info("".concat(e.message,", retrieving ECID from experience edge")):t.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()}},No=function(e){var t=e.processIdSyncs;return function(e){return t(e.getPayloadsByType("identity:exchange"))}},Ao=function(e){var t,a=e.doesIdentityCookieExist,n=e.setDomainForInitialIdentityPayload,r=e.addLegacyEcidToPayload,o=e.awaitIdentityCookie,i=e.logger,s=function(e){return n(e),r(e.getPayload())};return function(e){var n=e.request,r=e.onResponse,c=e.onRequestFailure;if(a())return n.setIsIdentityEstablished(),Promise.resolve();if(t){i.info("Delaying request while retrieving ECID from server.");var l=t;return t=l.catch((function(){return o({onResponse:r,onRequestFailure:c})})),l.then((function(){i.info("Resuming previously delayed request."),n.setIsIdentityEstablished()})).catch((function(){return s(n)}))}return(t=o({onResponse:r,onRequestFailure:c})).catch((function(){})),s(n)}},Mo="CORE",Vo=function(e){var t=e.thirdPartyCookiesEnabled,a=e.areThirdPartyCookiesSupportedByDefault,n={identity:{fetch:[Io]}};return t&&a()&&n.identity.fetch.push(Mo),function(e){e.mergeQuery(n)}},Uo=function(e){var t=e.thirdPartyCookiesEnabled,a=e.areThirdPartyCookiesSupportedByDefault;return function(e){t&&a()&&e.setUseIdThirdPartyDomain()}},Fo=function(e){var t=e.getLegacyEcid,a=e.addEcidToPayload;return function(e){return e.hasIdentity(Io)?Promise.resolve():t().then((function(t){t&&a(e,t)}))}},qo="adobe_mc",Bo=function(e){try{return decodeURIComponent(e)}catch(e){return""}},zo=300,Ho=function(e){var t=e.locationSearch,a=e.dateProvider,n=e.orgId,r=e.logger;return function(e){if(!e.hasIdentity(Io)){var o=ve.default.parse(t)[qo];if(void 0!==o){Array.isArray(o)&&(r.warn("Found multiple adobe_mc query string paramters, only using the last one."),o=o[o.length-1]);var s=o.split("|").reduce((function(e,t){var a=i(t.split("="),2),n=a[0],r=a[1];return e[n]=r,e}),{}),c=parseInt(s.TS,10),l=s.MCMID,u=Bo(s.MCORGID);a().getTime()/1e3<=c+zo&&u===n&&l?(r.info("Found valid ECID identity ".concat(l," from the adobe_mc query string parameter.")),e.addIdentity(Io,{id:l})):r.info("Detected invalid or expired adobe_mc query string parameter.")}}}},Go=function(e,t){e.addIdentity(Io,{id:t})},Wo=function(e){var t=e.doesIdentityCookieExist,a=e.orgId,n=e.logger;return function(e){var r=e.onResponse,o=e.onRequestFailure;return new Promise((function(e,i){r((function(){t()?e():(n.warn("Identity cookie not found. This could be caused by any of the following issues:\n"+"\t* The org ID ".concat(a," configured in Alloy doesn't match the org ID specified in the edge configuration.\n")+"\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed."),i(new Error("Identity cookie not found.")))})),o((function(){t()?e():i(new Error("Identity cookie not found."))}))}))}},Jo=function(e){return e.getPayloadsByType("identity:result").reduce((function(e,t){return t.namespace&&t.namespace.code&&(e[t.namespace.code]=t.id),e}),{})},Qo=function(e){var t=e.sendEdgeNetworkRequest,a=e.createIdentityRequestPayload,n=e.createIdentityRequest,r=e.globalConfigOverrides;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.namespaces,i=e.edgeConfigOverrides,s=Br({payload:a(o),globalConfigOverrides:r,localConfigOverrides:i}),c=n(s);return t({request:c})}},$o=function(e){var t=e.payload,a=e.datastreamIdOverride;return Mr({payload:t,datastreamIdOverride:a,getAction:function(){return"identity/acquire"},getUseSendBeacon:function(){return!1}})},Ko=function(e){var t={query:{identity:{fetch:e}}};return Ur({content:t,addIdentity:Ar(t),hasIdentity:Fr(t)})},Xo=/^([^?#]*)(\??[^#]*)(#?.*)$/,Yo=function(e){return""===e?"?":"?"===e?"":"&"},Zo=function(e){var t=e.dateProvider,a=e.orgId;return function(e,n){var r=Math.round(t().getTime()/1e3),o=encodeURIComponent("TS=".concat(r,"|MCMID=").concat(e,"|MCORGID=").concat(encodeURIComponent(a))),s=i(n.match(Xo),4),c=s[1],l=s[2],u=s[3],d=Yo(l);return"".concat(c).concat(l).concat(d,"adobe_mc=").concat(o).concat(u)}},ei=Vn({namespaces:jn(Fn(Io,Mo)).nonEmpty().uniqueItems().default([Io]),edgeConfigOverrides:Bn}).noUnknownFields().default({namespaces:[Io]}),ti=function(e){var t=e.thirdPartyCookiesEnabled;return function(e){var a=ei(e);if(!t&&a.namespaces.includes(Mo))throw new Error("namespaces: The ".concat(Mo," namespace cannot be requested when third-party cookies are disabled."));return a}},ai=function(e){var t=e.config,a=e.logger,n=e.consent,r=e.fireReferrerHideableImage,o=e.sendEdgeNetworkRequest,i=e.apexDomain,s=e.getBrowser,c=t.orgId,l=t.thirdPartyCookiesEnabled,u=t.edgeConfigOverrides,d=xo({logger:a,orgId:c,awaitVisitorOptIn:jo}),g=Ne({logger:a,cookieJar:Oe}),f=_o({config:t,getEcidFromVisitor:d,apexDomain:i,cookieJar:g,isPageSsl:"https:"===window.location.protocol}),p=Zt({orgId:c}),m=Qo({sendEdgeNetworkRequest:o,createIdentityRequestPayload:Ko,createIdentityRequest:$o,globalConfigOverrides:u}),y=$t({getBrowser:s}),v=Uo({thirdPartyCookiesEnabled:l,areThirdPartyCookiesSupportedByDefault:y}),h=Fo({getLegacyEcid:f.getEcid,addEcidToPayload:Go}),b=Ho({locationSearch:window.document.location.search,dateProvider:function(){return new Date},orgId:c,logger:a}),w=Wo({doesIdentityCookieExist:p,orgId:c,logger:a}),P=Ao({doesIdentityCookieExist:p,setDomainForInitialIdentityPayload:v,addLegacyEcidToPayload:h,awaitIdentityCookie:w,logger:a}),L=Co({fireReferrerHideableImage:r,logger:a}),D=No({processIdSyncs:L}),T=Zo({dateProvider:function(){return new Date},orgId:c,globalConfigOverrides:u}),E=ti({thirdPartyCookiesEnabled:l}),C=Vo({thirdPartyCookiesEnabled:l,areThirdPartyCookiesSupportedByDefault:y});return Oo({addEcidQueryToPayload:C,addQueryStringIdentityToPayload:b,ensureSingleIdentity:P,setLegacyEcid:f.setEcid,handleResponseForIdSyncs:D,getNamespacesFromResponse:Jo,getIdentity:m,consent:n,appendIdentityToUrl:T,logger:a,config:t,getIdentityOptionsValidator:E})};ai.namespace="Identity",ai.configValidators=ko;var ni="2.24.0",ri=function(e){var t=e.config,a=e.componentRegistry,n=[].concat(m(a.getCommandNames()),[mr,yr]).sort(),r=d({},t);Object.keys(t).forEach((function(e){var a=t[e];"function"==typeof a&&(r[e]=a.toString())}));var o=a.getComponentNames();return{version:ni,configs:r,commands:n,components:o}},oi=function(e){var t=e.config,a=e.componentRegistry;return{commands:{getLibraryInfo:{run:function(){return{libraryInfo:ri({config:t,componentRegistry:a})}}}}}};oi.namespace="LibraryInfo";var ii,si=Object.freeze({__proto__:null,dataCollector:To,identity:ai,libraryInfo:oi}),ci=na(window),li=window,ui=(li.console,li.fetch),di=li.navigator,gi=Or(),fi=Nt(window,Oe),pi=jr({fetch:ui}),mi=It(),yi=Jr({window:window,createNamespacedStorage:ci}),vi=ta({userAgent:window.navigator.userAgent}),hi=function(e){var t=e.instanceName,a=e.logController,n=a.setDebugEnabled,r=a.logger,o=a.createComponentLogger,i=e.components,s=Kn(),c=Qn(s),l=i.concat(Object.values(si)),u=function(e){n(e.enabled,{fromConfig:!1})},d=Ne({logger:r,cookieJar:Oe}),g=function(e){var a=Tr({options:e,componentCreators:l,coreConfigValidators:gi,createConfig:Cr,logger:r,setDebugEnabled:n}),i=a.orgId,u=a.targetMigrationEnabled,g=to({orgId:i,targetMigrationEnabled:u}),f=Xr({cookieJar:d,shouldTransferCookie:g,apexDomain:fi,dateProvider:function(){return new Date}}),p=Ze(di.sendBeacon)?Rr({sendBeacon:di.sendBeacon.bind(di),sendFetchRequest:pi,logger:r}):pi,m=Xn({logger:r,sendFetchRequest:pi,sendBeaconRequest:p,isRequestRetryable:fo,getRequestRetryDelay:bo}),y=co({logger:r}),v=Yn({logger:r}),h=pr({extractEdgeInfo:v}),b=lo({orgId:i,cookieJar:Oe}),w=oo({config:a,lifecycle:c,cookieTransfer:f,sendNetworkRequest:m,createResponse:h,processWarningsAndErrors:y,getLocationHint:b,getAssuranceValidationTokenParams:yi}),P=Po({lifecycle:c,cookieTransfer:f,createResponse:h,processWarningsAndErrors:y}),L=cr({logger:r}),D=lr({generalConsentState:L,logger:r}),T=$r({config:a,logger:r,lifecycle:c,consent:D,createEvent:dr,createDataCollectionRequestPayload:qr,createDataCollectionRequest:Vr,sendEdgeNetworkRequest:w,applyResponse:P});return Er({componentCreators:l,lifecycle:c,componentRegistry:s,getImmediatelyAvailableTools:function(e){var n=o(e);return{config:a,componentRegistry:s,consent:D,eventManager:T,fireReferrerHideableImage:mi,logger:n,lifecycle:c,sendEdgeNetworkRequest:w,handleError:_r({errorPrefix:"[".concat(t,"] [").concat(e,"]"),logger:n}),createNamespacedStorage:ci,apexDomain:fi,getBrowser:vi}}})},f=_r({errorPrefix:"[".concat(t,"]"),logger:r});return vr({logger:r,configureCommand:g,setDebugCommand:u,handleError:f,validateCommandOptions:br})},bi=function(e){var t=e.eventManager,a=e.lifecycle,n=e.handleError;return function(e){if(e.s_fe)return Promise.resolve();var r=e.target,o=t.createEvent();return o.documentMayUnload(),a.onClick({event:o,clickedElement:r}).then((function(){return o.isEmpty()?Promise.resolve():t.sendEvent(o)})).then(da).catch((function(e){n(e,"click collection")}))}},wi=function(e){var t=e.eventManager,a=e.lifecycle,n=e.handleError,r=bi({eventManager:t,lifecycle:a,handleError:n});document.addEventListener("click",r,!0)},Pi=Un().regexp().default("\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$"),Li=Vn({clickCollectionEnabled:Rn().default(!0),clickCollection:Vn({internalLinkEnabled:Rn().default(!0),externalLinkEnabled:Rn().default(!0),downloadLinkEnabled:Rn().default(!0),sessionStorageEnabled:Rn().default(!1),eventGroupingEnabled:Rn().default(!1),filterClickProperties:xn()}).default({internalLinkEnabled:!0,externalLinkEnabled:!0,downloadLinkEnabled:!0,sessionStorageEnabled:!1,eventGroupingEnabled:!1}),downloadLinkQualifier:Pi,onBeforeLinkClickSend:xn().deprecated('The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.')}),Di="cppXYctnr",Ti=function(){return null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).getElementById(Di)},Ei=function(e){var t=e;return/^https?:\/\//i.test(t)||(t="".concat(window.location.protocol,"//").concat(e)),new URL(t).hostname},Ci=function(e,t){return Ei(e)!==Ei(t)},ki=function(e,t){return t&&("download"===t&&!e.downloadLinkEnabled||"exit"===t&&!e.externalLinkEnabled||"other"===t&&!e.internalLinkEnabled)},Si=function(e){var t=e.config,a=e.logger,n=e.getClickedElementProperties,r=e.clickActivityStorage,o=t.clickCollectionEnabled,i=t.clickCollection;return o?function(e){var o=e.event,s=e.clickedElement,c=n({clickActivityStorage:r,clickedElement:s,config:t,logger:a}),l=c.linkType;Ti()||(c.isValidLink()&&ki(i,l)?a.info("Cancelling link click event due to clickCollection.".concat(l,"LinkEnabled = false.")):!c.isInternalLink()||!i.eventGroupingEnabled||t.onBeforeLinkClickSend&&!i.filterClickDetails||Ci(window.location.hostname,c.linkUrl)?c.isValidLink()?(o.mergeXdm(c.xdm),o.mergeData(c.data),r.save({pageName:c.pageName,pageIDType:c.pageIDType})):c.isValidActivityMapData()&&r.save(c.properties):r.save(c.properties))}:function(){}},Ii=function(e){return{eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:e.linkName,region:e.linkRegion,type:e.linkType,URL:e.linkUrl,linkClicks:{value:1}}}}},Oi=function(e){return{__adobe:{analytics:{contextData:{a:{activitymap:{page:e.pageName,link:e.linkName,region:e.linkRegion,pageIDType:e.pageIDType}}}}}}},_i=function(e,t){var a=e.xdm,n=e.data,r=e.clickedElement;if(t.clickedElement=r,a&&a.web&&a.web.webInteraction){var o=a.web.webInteraction,i=o.name,s=o.region,c=o.type,l=o.URL;t.linkName=i,t.linkRegion=s,t.linkType=c,t.linkUrl=l}if(n&&n.__adobe&&n.__adobe.analytics){var u=n.__adobe.analytics.contextData;if(u&&u.a&&u.a.activitymap){var d=u.a.activitymap,g=d.page,f=d.link,p=d.region,m=d.pageIDType;t.pageName=g||t.pageName,t.linkName=f||t.linkName,t.linkRegion=p||t.linkRegion,void 0!==m&&(t.pageIDType=m)}}},ji=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.properties,a=e.logger,n=t||{};return{get pageName(){return n.pageName},set pageName(e){n.pageName=e},get linkName(){return n.linkName},set linkName(e){n.linkName=e},get linkRegion(){return n.linkRegion},set linkRegion(e){n.linkRegion=e},get linkType(){return n.linkType},set linkType(e){n.linkType=e},get linkUrl(){return n.linkUrl},set linkUrl(e){n.linkUrl=e},get pageIDType(){return n.pageIDType},set pageIDType(e){n.pageIDType=e},get clickedElement(){return n.clickedElement},set clickedElement(e){n.clickedElement=e},get properties(){return{pageName:n.pageName,linkName:n.linkName,linkRegion:n.linkRegion,linkType:n.linkType,linkUrl:n.linkUrl,
pageIDType:n.pageIDType}},isValidLink:function(){return!!(n.linkUrl&&n.linkType&&n.linkName&&n.linkRegion)},isInternalLink:function(){return this.isValidLink()&&"other"===n.linkType},isValidActivityMapData:function(){return!!n.pageName&&!!n.linkName&&!!n.linkRegion&&void 0!==n.pageIDType},get xdm(){return n.filteredXdm?n.filteredXdm:Ii(this)},get data(){return n.filteredData?n.filteredData:Oi(this)},applyPropertyFilter:function(e){e&&!1===e(n)&&(a&&a.info("Clicked element properties were rejected by filter function: ".concat(JSON.stringify(this.properties,null,2))),n={})},applyOptionsFilter:function(e){var t=this.options;if(t&&t.clickedElement&&(t.xdm||t.data)){if(e&&!1===e(t))return a&&a.info("Clicked element properties were rejected by filter function: ".concat(JSON.stringify(this.properties,null,2))),void(this.options=void 0);this.options=t,n.filteredXdm=t.xdm,n.filteredData=t.data}},get options(){var e={};if(this.isValidLink()&&(e.xdm=this.xdm),this.isValidActivityMapData()&&(e.data=this.data),this.clickedElement&&(e.clickedElement=this.clickedElement),e.xdm||e.data)return e},set options(e){n={},e&&_i(e,n)}}},Ri=function(e){var t=e.clickActivityStorage;return function(e){if(!Ti()){var a=t.load(),n=ji({properties:a});if(n.isValidLink()||n.isValidActivityMapData()){if(n.isValidLink()){var r=n.xdm;delete r.eventType,e.mergeXdm(r)}n.isValidActivityMapData()&&e.mergeData(n.data),t.save({pageName:n.pageName,pageIDType:n.pageIDType})}}}},xi=function(e){var t=e.window,a=e.getLinkName,n=e.getLinkRegion,r=e.getAbsoluteUrlFromAnchorElement,o=e.findClickableElement,i=e.determineLinkType;return function(e){var s=e.clickedElement,c=e.config,l=e.logger,u=e.clickActivityStorage,d=c.onBeforeLinkClickSend,g=c.clickCollection.filterClickDetails,f=ji({logger:l});if(s){var p=o(s);if(p){f.clickedElement=s,f.linkUrl=r(t,p),f.linkType=i(t,c,f.linkUrl,p),f.linkRegion=n(p),f.linkName=a(p),f.pageIDType=0,f.pageName=t.location.href;var m=u.load();m&&m.pageName&&(f.pageName=m.pageName,f.pageIDType=1),g?f.applyPropertyFilter(g):d&&f.applyOptionsFilter(d)}}return f}},Ni="clickData",Ai=function(e){var t=e.storage;return{save:function(e){var a=JSON.stringify(e);t.setItem(Ni,a)},load:function(){var e=null,a=t.getItem(Ni);return a&&(e=JSON.parse(a)),e},remove:function(){t.removeItem(Ni)}}},Mi=function(e){var t=e.clickActivityStorage;return function(e){t.save({pageName:e.getContent().xdm.web.webPageDetails.name,pageIDType:1})}},Vi=function(e){return e&&e.replace(/\s+/g," ").trim()},Ui=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,Fi=function(e){return!(e&&e.nodeName&&e.nodeName.match(Ui))},qi=function(e){var t=[],a=!1;return Fi(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((function(e){var n=qi(e);t=t.concat(n.supportedNodes),a=a||n.includesUnsupportedNodes}))):a=!0,{supportedNodes:t,includesUnsupportedNodes:a}},Bi=function(e,t,a){var n;return a&&a!==e.nodeName.toUpperCase()||(n=e.getAttribute(t)),n},zi=function(e){var t={texts:[]};return e.supportedNodes.forEach((function(e){e.getAttribute&&(t.alt||(t.alt=Vi(e.getAttribute("alt"))),t.title||(t.title=Vi(e.getAttribute("title"))),t.inputValue||(t.inputValue=Vi(Bi(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=Vi(Bi(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t},Hi=/^(HEADER|MAIN|FOOTER|NAV)$/i,Gi=function(e){var t;return"region"===e.role&&ua(e["aria-label"])&&(t=e["aria-label"]),t},Wi=function(e){var t;return e&&e.nodeName&&e.nodeName.match(Hi)&&(t=e.nodeName),t},Ji=function(e){return!!e&&/^[a-z0-9]+:\/\//i.test(e)},Qi=function(e){return!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0))},$i=function(e){return!!e&&!!e.onclick},Ki=function(e){if("INPUT"===e.tagName){var t=e.getAttribute("type");if("submit"===t)return!0;if("image"===t&&e.src)return!0}return!1},Xi=function(e){return"BUTTON"===e.tagName&&"submit"===e.type},Yi=function(e){var t=e.indexOf("?"),a=e.indexOf("#");return t>=0&&(t<a||a<0)?e.substring(0,t):a>=0?e.substring(0,a):e},Zi=function(e,t,a){var n=!1;if(t)if(a&&a.download)n=!0;else if(e){var r=new RegExp(e),o=Yi(t).toLowerCase();n=r.test(o)}return n},es=function(e,t){var a=!1;if(t&&e.location.hostname){var n=e.location.hostname.toLowerCase();a=Yi(t).toLowerCase().indexOf(n)<0}return a},ts=function(e){var t=e.getContent();return void 0!==t.xdm&&void 0!==t.xdm.web&&void 0!==t.xdm.web.webPageDetails&&void 0!==t.xdm.web.webPageDetails.name},as=function(){var e={};return{getItem:function(t){return e[t]},setItem:function(t,a){e[t]=a},removeItem:function(t){delete e[t]}}},ns=xi({window:window,getLinkName:function(e){var t=Vi(e.innerText||e.textContent),a=qi(e);if(!t||a.includesUnsupportedNodes){var n=zi(a);(t=Vi(n.texts.join("")))||(t=n.alt||n.title||n.inputValue||n.imgSrc)}return t||""},getLinkRegion:function(e){for(var t,a=e.parentNode;a;){if(t=Vi(a.id||Gi(a)||Wi(a)))return t;a=a.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:function(e,t){var a=e.location,n=t.href||"";"string"!=typeof n&&(n="");var r=t.protocol,o=t.host;if(n&&!Ji(n)){r||(r=a.protocol?a.protocol:""),r=r?"".concat(r,"//"):"",o||(o=a.host?a.host:"");var i="";if("/"!==n.substring(0,1)){var s=a.pathname.lastIndexOf("/");s=s<0?0:s,i=a.pathname.substring(0,s)}n="".concat(r).concat(o).concat(i,"/").concat(n)}return n},findClickableElement:function(e){for(var t=e;t;){if(Qi(t)||$i(t)||Ki(t)||Xi(t))return t;t=t.parentNode}return null},determineLinkType:function(e,t,a,n){var r="other";return ua(a)&&(Zi(t.downloadLinkQualifier,a,n)?r="download":es(e,a)&&(r="exit")),r}}),rs=function(e){if(!ii){var t=na(window)(e.orgId||""),a=as(),n=e.clickCollection.sessionStorageEnabled?t.session:a;ii=Ai({storage:n})}},os=function(e){var t=e.config,a=e.eventManager,n=e.handleError,r=e.logger,o=t.clickCollection;ii||rs(t);var i=Si({config:t,logger:r,clickActivityStorage:ii,getClickedElementProperties:ns}),s=Ri({clickActivityStorage:ii}),c=Mi({clickActivityStorage:ii});return{lifecycle:{onComponentsRegistered:function(e){var t=e.lifecycle;wi({eventManager:a,lifecycle:t,handleError:n})},onClick:function(e){var t=e.event,a=e.clickedElement;i({event:t,clickedElement:a})},onBeforeEvent:function(e){var t=e.event;ts(t)&&(o.eventGroupingEnabled&&s(t),c(t,r,ii))}}}};os.namespace="ActivityCollector",os.configValidators=Li,os.buildOnInstanceConfiguredExtraParams=function(e){var t=e.config,a=e.logger;return ii||rs(t),{getLinkDetails:function(e){return ns({clickActivityStorage:ii,clickedElement:e,config:t,logger:a}).properties}}};var is=function(e){return"URL destination ".concat("succeeded",": ",e.spec.url)},ss=function(e){var t=e.fireReferrerHideableImage,a=e.logger,n=e.cookieJar,r=e.isPageSsl?{sameSite:"none",secure:!0}:{},o=function(e){e.filter((function(e){return"cookie"===e.type})).forEach((function(e){var t=e.spec,a=t.name,o=t.value,i=t.domain,s=t.ttlDays;n.set(a,o||"",d({domain:i||"",expires:s||10},r))}))},i=function(e){var n=e.filter((function(e){return"url"===e.type}));return Promise.all(n.map((function(e){return t(e.spec).then((function(){a.info(is(e))})).catch((function(){}))}))).then(da)};return function(e){return o(e),i(e)}},cs=function(e){var t=e.processDestinations,a=function(e){var a=e.response.getPayloadsByType("activation:push");return t(a)},n=function(e){return{destinations:e.response.getPayloadsByType("activation:pull")}};return function(e){var t=e.response;return a({response:t}).then((function(){return n({response:t})}))}},ls=function(e){var t=e.logger,a=e.fireReferrerHideableImage,n=Oe.withConverter({write:function(e){return encodeURIComponent(e)}}),r=Ne({logger:t,cookieJar:n}),o=ss({fireReferrerHideableImage:a,logger:t,cookieJar:r,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:cs({processDestinations:o})},commands:{}}};ls.namespace="Audiences";var us=function(e){return function(t){var a={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};je(t,{web:a})}},ds=function(e){var t=e.screen.orientation;if(null==t||null==t.type)return null;var a=t.type.split("-");return 0===a.length||"portrait"!==a[0]&&"landscape"!==a[0]?null:a[0]},gs=function(e){if(Ze(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null},fs=function(e){return function(t){var a=e.screen,n=a.width,r=a.height,o={},i=wa(r);i>=0&&(o.screenHeight=i);var s=wa(n);s>=0&&(o.screenWidth=s);var c=ds(e)||gs(e);c&&(o.screenOrientation=c),Object.keys(o).length>0&&je(t,{device:o})}},ps=function(e){return function(t){var a=e.document.documentElement,n=void 0===a?{}:a,r=n.clientWidth,o=n.clientHeight,i={type:"browser"},s=wa(r);s>=0&&(i.browserDetails={viewportWidth:s});var c=wa(o);c>=0&&(i.browserDetails=i.browserDetails||{},i.browserDetails.viewportHeight=c),je(t,{environment:i})}},ms=function(e){return function(t){var a=e(),n={},r=wa(a.getTimezoneOffset());void 0!==r&&(n.localTimezoneOffset=r),(void 0===r||Math.abs(r)<6e3)&&(n.localTime=La(a)),je(t,{placeContext:n})}},ys=function(e){return function(t){var a=e().toISOString();je(t,{timestamp:a})}},vs="https://ns.adobe.com/experience/alloy",hs=function(e){var t={name:vs,version:ni,environment:"browser"};je(e,{implementationDetails:t})},bs=function(e,t,a,n){var r=e.context.flatMap((function(e,n){return a[e]?[a[e]]:(t.warn("Invalid context[".concat(n,"]: '").concat(e,"' is not available.")),[])})).concat(n);return{namespace:"Context",lifecycle:{onBeforeEvent:function(e){var a=e.event,n={};return Promise.all(r.map((function(e){return Promise.resolve(e(n,t))}))).then((function(){return a.mergeXdm(n)}))}}}},ws=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]],Ps=function(e){return void 0!==e.userAgentData},Ls=function(e){return Ps(e)?function(t,a){try{return e.userAgentData.getHighEntropyValues(ws.map((function(e){return e[0]}))).then((function(e){var a={};ws.forEach((function(t){var n=i(t,2),r=n[0],o=n[1];Object.prototype.hasOwnProperty.call(e,r)&&P(e[r])===o&&(a[r]=e[r])})),je(t,{environment:{browserDetails:{userAgentClientHints:a}}})}))}catch(e){return a.warn("Unable to collect user-agent client hints. ".concat(e.message)),da}}:da},Ds=us(window),Ts=fs(window),Es=ps(window),Cs=ms((function(){return new Date})),ks=ys((function(){return new Date})),Ss={web:Ds,device:Ts,environment:Es,placeContext:Cs},Is={highEntropyUserAgentHints:Ls(navigator)},Os=d(d({},Ss),Is),_s=[ks,hs],js=function(e){var t=e.config,a=e.logger;return bs(t,a,Os,_s)};js.namespace="Context",js.configValidators=Vn({context:jn(Un()).default(Object.keys(Ss))});var Rs="personalization:decisions",xs=function(e){return null!==e&&"object"===P(e)&&Object.getPrototypeOf(e)===Object.prototype},Ns=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.keys(e).forEach((function(n){xs(e[n])||Array.isArray(e[n])?Ns(e[n],t,[].concat(m(a),[n])):t[[].concat(m(a),[n]).join(".")]=e[n]})),t},As=function(e){return xs(e)?Ns(e):e},Ms=function(e){var t=e.renderDecisions,a=e.decisionProvider,n=e.applyResponse,r=e.event,o=e.personalization,i=e.decisionContext,s=d(d({},As(r.getContent())),i);return function(e){var i=e.response;if(a.addPayloads(i.getPayloadsByType(Rs)),!r.hasQuery())return{propositions:[]};var c=a.evaluate(s);return n({renderDecisions:t,propositions:c,event:r,personalization:o})}},Vs={MATCHER:"matcher",GROUP:"group",HISTORICAL:"historical"},Us={EQUALS:"eq",NOT_EQUALS:"ne",EXISTS:"ex",NOT_EXISTS:"nx",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"le",CONTAINS:"co",NOT_CONTAINS:"nc",STARTS_WITH:"sw",ENDS_WITH:"ew"},Fs={AND:"and",OR:"or"},qs={ANY:"any",ORDERED:"ordered"},Bs=(g(g(g(g(g(g(g(g(g(g(fe={},Us.EQUALS,O()),Us.NOT_EQUALS,_()),Us.EXISTS,j()),Us.NOT_EXISTS,R()),Us.GREATER_THAN,N()),Us.GREATER_THAN_OR_EQUAL_TO,A()),Us.LESS_THAN,M()),Us.LESS_THAN_OR_EQUAL_TO,V()),Us.CONTAINS,U()),Us.NOT_CONTAINS,F()),g(g(fe,Us.STARTS_WITH,q()),Us.ENDS_WITH,B())),zs=["iam.eventType","eventType","type"],Hs=["iam.id","id"],Gs="https://ns.adobe.com/personalization/default-content-item",Ws="https://ns.adobe.com/personalization/dom-action",Js="https://ns.adobe.com/personalization/html-content-item",Qs="https://ns.adobe.com/personalization/json-content-item",$s="https://ns.adobe.com/personalization/ruleset-item",Ks="https://ns.adobe.com/personalization/redirect-item",Xs="https://ns.adobe.com/personalization/message/in-app",Ys="https://ns.adobe.com/personalization/message/content-card",Zs="decisioning.propositionDisplay",ec="decisioning.propositionInteract",tc="decisioning.propositionTrigger",ac="decisioning.propositionDismiss",nc="decisioning.propositionSuppressDisplay",rc=1,oc=function(e,t){return function(a){var n=e.getItem(t);if(!n)return a;try{return JSON.parse(n)}catch(e){return a}}},ic=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(n){e.setItem(t,JSON.stringify(a(n)))}},sc=function(e){var t=new Date;return t.setDate(t.getDate()-e),t},cc=function(e){var t=e.scopeDetails,a=(void 0===t?{}:t).activity;return(void 0===a?{}:a).id},lc=function(){var e={};return{getItem:function(t){return t in e?e[t]:null},setItem:function(t,a){e[t]=a}}},uc=function(e){e.clear()},dc=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})._experience;return!(!e||"object"!==P(e))},gc=function(e){var t=e.scopeDetails;return(void 0===t?{}:t).decisionProvider},fc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return Array.isArray(e)?(e.forEach((function(e){Array.isArray(e)?t.push.apply(t,m(fc(e))):t.push(e)})),t):e},pc="text/html",mc="application/json",yc=function(e,t,a){return{schema:a.schema,data:a.data,id:a.id||e}},vc="schema",hc=g(g({},"cjmiam",(function(e,t,a){var n=a.html,r=a.mobileParameters;return{schema:Xs,data:{mobileParameters:r,webParameters:{},content:n,contentType:pc},id:e}})),vc,yc),bc=function(){return function(e){var t=e.id,a=e.type,n=e.detail;return"function"==typeof hc[a]?hc[a](t,a,n):n}},wc=function(e){var t=e.schema,a=e.data;if(t===$s)return!0;if(t!==Qs)return!1;try{var n="string"==typeof a.content?JSON.parse(a.content):a.content;return n&&Object.prototype.hasOwnProperty.call(n,"version")&&Object.prototype.hasOwnProperty.call(n,"rules")}catch(e){return!1}},Pc=function(e,t,a){var n,r=bc(),o=cc(e),i=[],s=function(e){var t=e.data,a=void 0===t?{}:t,n=e.schema===$s?a:a.content;n&&i.push(ge("string"==typeof n?JSON.parse(n):n))},c=function(n){var s=t.getEvent(Zs,o),c=s?s.firstTimestamp:void 0,l=fc(i.map((function(e){return e.execute(n)}))).map(r).map((function(e){var t=(a.recordQualified(o)||{}).firstTimestamp;return d(d({},e),{},{data:d(d({},e.data),{},{qualifiedDate:t,displayedDate:c})})}));return d(d({},e),{},{items:l})};return Array.isArray(e.items)&&e.items.filter(wc).forEach(s),{rank:(null==e||null===(n=e.scopeDetails)||void 0===n?void 0:n.rank)||1/0,evaluate:c,isEvaluable:i.length>0}},Lc={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss",SUPPRESS:"suppressDisplay"},Dc=g(g(g(g(g({},Zs,Lc.DISPLAY),ec,Lc.INTERACT),tc,Lc.TRIGGER),ac,Lc.DISMISS),nc,Lc.SUPPRESS),Tc=g(g(g(g(g({},Lc.DISPLAY,Zs),Lc.INTERACT,ec),Lc.TRIGGER,tc),Lc.DISMISS,ac),Lc.SUPPRESS,nc),Ec=function(e){return Dc[e]},Cc=function(e){return Tc[e]},kc=function(e){var t=e.eventRegistry;return{recordQualified:function(e){if(e)return t.addEvent({},Lc.TRIGGER,e)}}},Sc=function(e){var t=e.eventRegistry,a={},n=kc({eventRegistry:t}),r=function(e){var r=cc(e);if(r){var o=Pc(e,t,n);o.isEvaluable&&(a[r]=o)}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(a).sort((function(e,t){return e.rank-t.rank})).map((function(t){return t.evaluate(e)})).filter((function(e){return e.items.length>0}))};return{addPayload:r,addPayloads:function(e){e.forEach(r)},evaluate:o}},Ic=function(e){return function(t){var a=t.renderDecisions,n=void 0!==a&&a,r=t.propositions,o=void 0===r?[]:r,i=t.event,s=t.personalization;return e&&e.onDecision({renderDecisions:n,propositions:o,event:i,personalization:s}),{propositions:o}}},Oc="AJO",_c="TGT",jc="events",Rc=1e3,xc=30,Nc=function(e){return"iam.".concat(e)},Ac=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xc;return function(a){var n={};return Object.keys(a).forEach((function(r){n[r]={},Object.values(a[r]).filter((function(e){return new Date(e.firstTimestamp)>=sc(t)})).sort((function(e,t){return e.firstTimestamp-t.firstTimestamp})).slice(-1*e).forEach((function(e){n[r][e.event[Nc("id")]]=e}))})),n}},Mc=function(e){var t,a,n,r=e.storage,o=r,i=function(e){t=oc(o=e,jc),a=ic(o,jc,Ac(Rc,xc)),n=t({})};i(r);var s=function(e,t,r,o){if(t&&r){n[t]||(n[t]={});var i=n[t][r],s=i?i.count:0,c=(new Date).getTime(),l=i?i.firstTimestamp||i.timestamp:c;return n[t][r]={event:d(d({},e),{},g(g(g({},Nc("id"),r),Nc("eventType"),t),Nc("action"),o)),firstTimestamp:l,timestamp:c,count:s+1},a(n),n[t][r]}};return{addExperienceEdgeEvent:function(e){var t=e.getContent().xdm,a=void 0===t?{}:t,n=a._experience;if(dc(a)){var r=n.decisioning,o=void 0===r?{}:r,i=o.propositionEventType,c=void 0===i?{}:i,l=o.propositionAction,u=void 0===l?{}:l,d=o.propositions,g=void 0===d?[]:d,f=Object.keys(c);if(0!==f.length){var p=function(e){return c[e]===rc},m=u.id;f.filter(p).forEach((function(e){g.forEach((function(t){gc(t)===Oc&&s({},e,cc(t),m)}))}))}}},addEvent:s,getEvent:function(e,t){if(n[e])return n[e][t]},toJSON:function(){return n},setStorage:i}},Vc=function(e){var t=e.eventRegistry,a=e.window,n=e.getBrowser,r=(new Date).getTime(),o=function(){return d({title:a.title,url:a.url},pa(a.url))},i=function(){return d({url:a.referrer},pa(a.referrer))},s=function(){var e=new Date,t=e.getTime();return{pageLoadTimestamp:r,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-r,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},c=function(){return{height:a.height,width:a.width,scrollY:a.scrollY,scrollX:a.scrollX}},l={browser:{name:n()},page:o(),referringPage:i()},u=function(){return d(d(d({},l),s()),{},{window:c(),"~sdkver":ni})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=d(d({},u()),e);return d(d({},As(a)),{},{events:t.toJSON()})};return{getContext:g}},Uc=function(){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return t},Fc=function(){return!0},qc=function(){var e=Uc,t=Fc,a=0,n={},r=function(e){return function(){delete n[e]}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"function"!=typeof e?function(){}:(n[a+=1]={callback:e,params:t},{id:a,unsubscribe:r(a)})},i=function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];Object.values(n).forEach((function(a){var n=a.callback,o=a.params,i=e.apply(void 0,[o].concat(r));t.apply(void 0,[o].concat(m(i)))&&n.apply(void 0,m(i))}))},s=function(a){if(a&&n[a]){for(var r=n[a],o=r.callback,i=r.params,s=arguments.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=arguments[l];var u=e.apply(void 0,[i].concat(c));t.apply(void 0,[i].concat(m(u)))&&o.apply(void 0,m(u))}};return{add:o,emit:i,emitOne:s,hasSubscriptions:function(){return Object.keys(n).length>0},setEmissionPreprocessor:function(t){"function"==typeof t&&(e=t)},setEmissionCondition:function(e){"function"==typeof e&&(t=e)}}},Bc=function(e){var t=e.options;return Vn({surfaces:jn(Un()).uniqueItems(),schemas:jn(Un()).uniqueItems(),callback:xn().required()}).noUnknownFields()(t)},zc=function(e){return{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails}},Hc=function(e){var t=e.collect,a=function(){},n=new Set,r=function(e){return[Lc.INTERACT,Lc.DISMISS].includes(e)},o=function(e,t,a){var o=[e,t].join("-"),i=!a.has(o)&&(r(e)||!n.has(o));return a.add(o),n.add(o),i},i=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(a instanceof Array))return Promise.resolve();if(!Object.values(Lc).includes(e))return Promise.resolve();var n=[],r=new Set;return a.forEach((function(t){var a=zc(t);o(e,a.id,r)&&n.push(a)})),n.length>0?t({decisionsMeta:n,eventType:Cc(e),documentMayUnload:!0}):Promise.resolve()},s=qc(),c=function(e,t){var a=e.surfacesFilter,n=e.schemasFilter;return[{propositions:t.filter((function(e){return!a||a.includes(e.scope)})).map((function(e){var t=e.items,a=void 0===t?[]:t;return d(d({},e),{},{items:a.filter((function(e){return!n||n.includes(e.schema)}))})})).filter((function(e){return e.items.length>0}))},i]};s.setEmissionPreprocessor(c);var l=function(e){var t=e.surfaces,n=e.schemas,r=e.callback,o=s.add(r,{surfacesFilter:t instanceof Array?t:void 0,schemasFilter:n instanceof Array?n:void 0}),i=o.id,c=o.unsubscribe;return a(i),Promise.resolve({unsubscribe:c})};return{refresh:function(e){(a=function(t){t?s.emitOne(t,e):s.emit(e)})()},command:{optionsValidator:function(e){return Bc({options:e})},run:l}}},Gc={TYPE:"~type",SOURCE:"~source"},Wc={LIFECYCLE:"com.adobe.eventType.lifecycle",TRACK:"com.adobe.eventType.generic.track",EDGE:"com.adobe.eventType.edge",RULES_ENGINE:"com.adobe.eventType.rulesEngine"},Jc={LAUNCH:"com.adobe.eventSource.applicationLaunch",REQUEST:"com.adobe.eventSource.requestContent"},Qc=function(e){var t=e.options;return Vn({renderDecisions:Rn(),personalization:Vn({decisionContext:Vn({})})}).noUnknownFields()(t)},$c=function(e){var t=e.contextProvider,a=e.decisionProvider;return{optionsValidator:function(e){return Qc({options:e})},run:function(e){var n=e.renderDecisions,r=e.decisionContext;return(0,e.applyResponse)({renderDecisions:n,propositions:a.evaluate(t.getContext(r))})}}},Kc=function(e){var t=e.eventManager,a=e.mergeDecisionsMeta;return function(e){var n=e.decisionsMeta,r=void 0===n?[]:n,o=e.propositionAction,i=e.documentMayUnload,s=void 0!==i&&i,c=e.eventType,l=void 0===c?Zs:c,u=e.propositionEventTypes,d=void 0===u?[Ec(l)]:u,g=e.viewName,f=t.createEvent(),p={eventType:l};return g&&(p.web={webPageDetails:{viewName:g}}),et(r)&&a(f,r,d,o),f.mergeXdm(p),s&&f.documentMayUnload(),t.sendEvent(f)}},Xc=function(e,t,a,n){if(0!==t.length){var r={};a.forEach((function(e){r[e]=rc}));var o={_experience:{decisioning:{propositions:t,propositionEventType:r}}};n&&(o._experience.decisioning.propositionAction=n),e.mergeXdm(o)}},Yc=function(e,t){e.mergeQuery({personalization:d({},t)})},Zc=function(e){var t=e.config,a=e.eventManager,n=e.createNamespacedStorage,r=e.consent,o=e.getBrowser,i=t.orgId,s=t.personalizationStorageEnabled,c=Kc({eventManager:a,mergeDecisionsMeta:Xc}),l=n("".concat(Mt(i),".decisioning."));s||uc(l.persistent);var u,f=Mc({storage:lc()}),p=Sc({eventRegistry:f}),m=Vc({eventRegistry:f,window:window,getBrowser:o}),y=$c({contextProvider:m,decisionProvider:p}),v=Hc({collect:c});return{lifecycle:{onDecision:function(e){var t=e.propositions;v.refresh(t)},onComponentsRegistered:function(e){u=Ic(e.lifecycle),s&&r.awaitConsent().then((function(){f.setStorage(l.persistent)})).catch((function(){l&&uc(l.persistent)}))},onBeforeEvent:function(e){var t=e.event,a=e.renderDecisions,n=e.personalization,r=void 0===n?{}:n,o=e.onResponse,i=void 0===o?da:o,s=r.decisionContext,c=void 0===s?{}:s;i(Ms({renderDecisions:a,decisionProvider:p,applyResponse:u,event:t,personalization:r,decisionContext:m.getContext(d(g(g({},Gc.TYPE,Wc.EDGE),Gc.SOURCE,Jc.REQUEST),c))}))},onBeforeRequest:function(e){var t=e.request.getPayload().toJSON().events,a=void 0===t?[]:t;0!==a.length&&a.forEach((function(e){return f.addExperienceEdgeEvent(e)}))}},commands:{evaluateRulesets:{run:function(e){var t=e.renderDecisions,a=e.personalization,n=(void 0===a?{}:a).decisionContext,r=void 0===n?{}:n;return y.run({renderDecisions:t,decisionContext:d(g(g({},Gc.TYPE,Wc.RULES_ENGINE),Gc.SOURCE,Jc.REQUEST),r),applyResponse:u})},optionsValidator:y.optionsValidator},subscribeRulesetItems:v.command}}};Zc.namespace="RulesEngine",Zc.configValidators=Vn({personalizationStorageEnabled:Rn().default(!1)});var el=t.createEventMergeId=function(){return{eventMergeId:S()}},tl=function(e){return{commands:{createEventMergeId:{run:e.createEventMergeId}}}},al=function(){return tl({createEventMergeId:el})};al.namespace="EventMerge";var nl={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},rl=function(e){var t=e.mediaRequestPayload,a=e.action;return Mr({payload:t,edgeSubPath:"/va",getAction:function(){return a},getUseSendBeacon:function(){return!1}})},ol=function(e){var t=e.config,a=e.eventManager,n=e.consent,r=e.sendEdgeNetworkRequest,o=e.setTimestamp;return{createMediaEvent:function(e){var n=e.options,r=a.createEvent(),i=n.xdm;if(o(i),r.setUserXdm(i),i.eventType===nl.AD_START){var s=n.xdm.mediaCollection.advertisingDetails;r.mergeXdm({mediaCollection:{advertisingDetails:{playerName:s.playerName||t.streamingMedia.playerName}}})}return r},createMediaSession:function(e){var n=t.streamingMedia,r=n.playerName,o=n.channel,i=n.appVersion,s=a.createEvent(),c=e.xdm.mediaCollection.sessionDetails;return s.setUserXdm(e.xdm),s.mergeXdm({eventType:nl.SESSION_START,mediaCollection:{sessionDetails:{playerName:c.playerName||r,channel:c.channel||o,appVersion:c.appVersion||i}}}),s},augmentMediaEvent:function(e){var t=e.event,a=e.playerId,n=e.getPlayerDetails,r=e.sessionID;if(!a||!n)return t;var o=n({playerId:a}),i=o.playhead,s=o.qoeDataDetails;return t.mergeXdm({mediaCollection:{playhead:wa(i),qoeDataDetails:s,sessionID:r}}),t},trackMediaSession:function(e){var t=e.event,n={mediaOptions:e.mediaOptions,edgeConfigOverrides:e.edgeConfigOverrides};return a.sendEvent(t,n)},trackMediaEvent:function(e){var t=e.event,a=e.action,o=qr(),i=rl({mediaRequestPayload:o,action:a});return o.addEvent(t),t.finalize(),n.awaitConsent().then((function(){return r({request:i}).then((function(){return{}}))}))}}},il={MAIN:"main",AD:"ad",COMPLETED:"completed"},sl=function(){var e;return{getSession:function(t){return e[t]||{}},storeSession:function(t){var a=t.playerId,n=t.sessionDetails;void 0===e&&(e={}),e[a]=n},stopPing:function(t){var a=t.playerId,n=e[a];n&&(clearTimeout(n.pingId),n.pingId=null,n.playbackState=il.COMPLETED)},savePing:function(t){var a=t.playerId,n=t.pingId,r=t.playbackState;e[a]&&(e[a].pingId&&clearTimeout(e[a].pingId),e[a].pingId=n,e[a].playbackState=r)}}},cl=function(e,t){return e===nl.AD_START||e===nl.Ad_BREAK_START||e===nl.AD_SKIP||e===nl.AD_COMPLETE?"ad":e===nl.AD_BREAK_COMPLETE||e===nl.CHAPTER_COMPLETE||e===nl.CHAPTER_START||e===nl.CHAPTER_SKIP||e===nl.SESSION_START?"main":e===nl.SESSION_END||e===nl.SESSION_COMPLETE?"completed":t},ll=function(e){var t=e.mediaEventManager,a=e.mediaSessionCacheManager,n=e.config,r=function(e){var o=t.createMediaEvent({options:e}),i=e.playerId,s=e.xdm.eventType,c=s.split(".")[1],l=a.getSession(i),u=l.getPlayerDetails,d=l.sessionPromise,g=l.playbackState;return d.then((function(e){return e.sessionId?(t.augmentMediaEvent({event:o,eventType:s,playerId:i,getPlayerDetails:u,sessionID:e.sessionId}),t.trackMediaEvent({event:o,action:c}).then((function(){if(i)if(s===nl.SESSION_COMPLETE||s===nl.SESSION_END)a.stopPing({playerId:i});else{var e=cl(s,g);if("completed"===e)return;var t="ad"===e?n.streamingMedia.adPingInterval:n.streamingMedia.mainPingInterval,o=setTimeout((function(){var e={playerId:i,xdm:{eventType:nl.PING}};r(e)}),1e3*t);a.savePing({playerId:i,pingId:o,playbackState:e})}}))):Promise.reject(new Error("Failed to trigger media event: ".concat(s,". Session ID is not available for playerId: ").concat(i,".")))}))};return function(e){return r(e)}},ul=function(e){var t=e.config,a=e.mediaEventManager,n=e.mediaSessionCacheManager,r=e.legacy,o=void 0!==r&&r;return function(e){if(!t.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));var r=e.playerId,i=e.getPlayerDetails,s=e.edgeConfigOverrides,c=a.createMediaSession(e);a.augmentMediaEvent({event:c,playerId:r,getPlayerDetails:i});var l=a.trackMediaSession({event:c,mediaOptions:{playerId:r,getPlayerDetails:i,legacy:o},edgeConfigOverrides:s});return n.storeSession({playerId:r,sessionDetails:{sessionPromise:l,getPlayerDetails:i,playbackState:il.MAIN}}),l}},dl=function(e){return!la(e)||!e.trim()},gl=function(e){var t=e.mediaSessionCacheManager,a=e.config,n=e.trackMediaEvent;return function(e){var r=e.response,o=e.playerId,i=e.getPlayerDetails,s=r.getPayloadsByType("media-analytics:new-session");if(et(s)){var c=s[0].sessionId;if(dl(c))return{};if(!o||!i)return{sessionId:c};var l=setTimeout((function(){n({playerId:o,xdm:{eventType:nl.PING}})}),1e3*a.streamingMedia.mainPingInterval);return t.savePing({playerId:o,pingId:l,playbackState:il.MAIN}),{sessionId:c}}return{}}},fl={Video:"video",Audio:"audio"},pl={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},ml={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},yl={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},vl={SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pauseStart",Error:"error",StateUpdate:"statesUpdate"},hl={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},bl={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},wl={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},Pl={Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"},Ll=function(e){var t=e.trackMediaEvent,a=e.trackMediaSession,n=e.mediaResponseHandler,r=e.logger,o=e.createMediaHelper,i=e.createGetInstance,s=e.config;return{lifecycle:{onBeforeEvent:function(e){var t=e.mediaOptions,a=e.onResponse,r=void 0===a?da:a;if(t){var o=t.legacy,i=t.playerId,s=t.getPlayerDetails;o&&r((function(e){var t=e.response;return n({playerId:i,getPlayerDetails:s,response:t})}))}}},commands:{getMediaAnalyticsTracker:{run:function(){if(!s.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));r.info("Streaming media is configured in legacy mode.");var e=o({logger:r});return Promise.resolve(d({getInstance:function(){return i({logger:r,trackMediaEvent:t,trackMediaSession:a,uuid:S})},Event:yl,MediaType:fl,PlayerState:ml,StreamType:pl,MediaObjectKey:hl,VideoMetadataKeys:bl,AudioMetadataKeys:wl,AdMetadataKeys:Pl},e))}}}}},Dl=function(e){var t=e.logger,a=function(e,a,n){var r={friendlyName:e,offset:a,index:n},o=Vn({friendlyName:Un().nonEmpty(),offset:An(),index:An()});try{var i=o(r);return{advertisingPodDetails:{friendlyName:i.friendlyName,offset:i.offset,index:i.index}}}catch(e){return t.warn("An error occurred while creating the Ad Break Object.",e),{}}},n=function(e,a,n,r){var o={friendlyName:e,name:a,podPosition:n,length:r},i=Vn({friendlyName:Un().nonEmpty(),name:Un().nonEmpty(),podPosition:An(),length:An()});try{var s=i(o);return{advertisingDetails:{friendlyName:s.friendlyName,name:s.name,podPosition:s.podPosition,length:s.length}}}catch(e){return t.warn("An error occurred while creating the Advertising Object.",e),{}}},r=function(e,a,n,r){var o={
friendlyName:e,offset:a,length:n,index:r},i=Vn({friendlyName:Un().nonEmpty(),offset:An(),length:An(),index:An()});try{var s=i(o);return{chapterDetails:{friendlyName:s.friendlyName,offset:s.offset,index:s.index,length:s.length}}}catch(e){return t.warn("An error occurred while creating the Chapter Object.",e),{}}},o=function(e){var a=/^[a-zA-Z0-9_]{1,64}$/,n=Un().matches(a,"This is not a valid state name.");try{return{name:n(e)}}catch(e){return t.warn("An error occurred while creating the State Object.",e),{}}},i=function(e,a,n,r){var o={bitrate:e,droppedFrames:a,fps:n,startupTime:r},i=Vn({bitrate:An(),droppedFrames:An(),fps:An(),startupTime:An()});try{var s=i(o);return{bitrate:s.bitrate,droppedFrames:s.droppedFrames,framesPerSecond:s.fps,timeToStart:s.startupTime}}catch(e){return t.warn("An error occurred while creating the QOE Object.",e),{}}};return{createMediaObject:function(e,a,n,r,o){var i={friendlyName:e,name:a,length:n,streamType:o,contentType:r},s=Vn({friendlyName:Un().nonEmpty(),name:Un().nonEmpty(),length:An().required(),streamType:Un().nonEmpty(),contentType:Un().nonEmpty()});try{var c=s(i);return{sessionDetails:{name:c.name,friendlyName:c.friendlyName,length:c.length,streamType:c.streamType,contentType:c.contentType}}}catch(e){return t.warn("An error occurred while creating the Media Object.",e),{}}},createAdBreakObject:a,createAdObject:n,createChapterObject:r,createStateObject:o,createQoEObject:i}},Tl={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},El={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"},Cl=function(e){var t=e.logger,a=e.trackMediaSession,n=e.trackMediaEvent,r=e.uuid,o=null,i=function(){o={qoe:null,lastPlayhead:0,playerId:r()}},s=function(e){var t=e.eventType;return t===yl.BufferComplete||t===yl.SeekComplete?vl.Play:t===yl.StateStart||t===yl.StateEnd?vl.StateUpdate:t===yl.SeekStart?vl.Pause:t},c=function(e){var t=e.eventType,a=e.mediaDetails,n=void 0===a?{}:a,r=e.contextData,o=void 0===r?[]:r,i=s({eventType:t});if(t===yl.StateStart)return{eventType:"media.".concat(i),mediaCollection:{statesStart:[n]}};if(t===yl.StateEnd)return{eventType:"media.".concat(i),mediaCollection:{statesEnd:[n]}};var c={eventType:"media.".concat(i),mediaCollection:d({},n)},l=[];return Object.keys(o).forEach((function(e){Tl[e]?c.mediaCollection.sessionDetails[Tl[e]]=o[e]:El[e]?c.mediaCollection.advertisingDetails[El[e]]=o[e]:l.push({name:e,value:o[e]})})),et(l)&&(c.mediaCollection.customMetadata=l),c};return{trackSessionStart:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ce(e)||Ot(e))return t.warn("Invalid media object"),{};null===o&&(t.warn("The Media Session was completed. Restarting a new session."),i());var r=c({eventType:vl.SessionStart,mediaDetails:e,contextData:n});return a({playerId:o.playerId,getPlayerDetails:function(){return{playhead:o.lastPlayhead,qoeDataDetails:o.qoe}},xdm:r})},trackPlay:function(){if(null===o)return t.warn("The Media Session was completed."),{};var e=c({eventType:vl.Play});return n({playerId:o.playerId,xdm:e})},trackPause:function(){if(null===o)return t.warn("The Media Session was completed."),{};var e=c({eventType:vl.Pause});return n({playerId:o.playerId,xdm:e})},trackSessionEnd:function(){if(null===o)return t.warn("The Media Session was completed."),{};var e=c({eventType:vl.SessionEnd});return n({playerId:o.playerId,xdm:e})},trackComplete:function(){if(null===o)return t.warn("The Media Session was completed."),{};var e=c({eventType:vl.SessionComplete});return n({playerId:o.playerId,xdm:e})},trackError:function(e){if(t.warn("trackError(".concat(e,")")),null===o)return t.warn("The Media Session was completed."),{};var a={name:e,source:"player"},r=c({eventType:vl.Error,mediaDetails:{errorDetails:a}});return n({playerId:o.playerId,xdm:r})},trackEvent:function(e,a,r){if(Ot(a))return t.warn("Invalid media object."),{};if(null===o)return t.warn("The Media Session was completed."),{};if(!Object.values(yl).includes(e))return t.warn("Invalid event type"),{};var i=c({eventType:e,mediaDetails:a,contextData:r});return n({playerId:o.playerId,xdm:i})},updatePlayhead:function(e){null!==o?ia(e)&&(o.lastPlayhead=parseInt(e,10)):t.warn("The Media Session was completed.")},updateQoEObject:function(e){null!==o?e&&(o.qoe=e):t.warn("The Media Session was completed.")},destroy:function(){t.warn("Destroy called, destroying the tracker."),o=null}}},kl=function(e){var t=e.eventManager,a=e.sendEdgeNetworkRequest,n=e.config,r=e.logger,o=e.consent,i=sl(),s=ol({sendEdgeNetworkRequest:a,config:n,consent:o,eventManager:t,setTimestamp:ys((function(){return new Date}))}),c=ll({mediaSessionCacheManager:i,mediaEventManager:s,config:n}),l=ul({config:n,mediaEventManager:s,mediaSessionCacheManager:i,legacy:!0}),u=gl({mediaSessionCacheManager:i,config:n,trackMediaEvent:c});return Ll({mediaResponseHandler:u,trackMediaSession:l,trackMediaEvent:c,createMediaHelper:Dl,createGetInstance:Cl,logger:r,config:n})};kl.namespace="Legacy Media Analytics";var Sl,Il="web",Ol="webapp",_l="://",jl="#",Rl=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,xl=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,Nl=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,Al=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,Ml=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=e.length;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},Vl=function(e){return ua(e)?e.toLowerCase():""},Ul=function(e){return ua(e)?e.toLowerCase():""},Fl=function(e){return ua(e)?Ml(e):"/"},ql=function(e){var t=e.match(Rl);return t?{surfaceType:Vl(t[1]),authority:Ul(t[2]),path:Fl(t[3]),fragment:t[4]}:null},Bl=function(e){return"".concat(e.surfaceType).concat(_l).concat(e.authority).concat(e.path||"").concat(e.fragment||"")},zl=function(e){var t=e(),a=t.host.toLowerCase(),n=t.pathname;return Il+_l+a+Ml(n)},Hl=function(e,t){return e.startsWith(jl)?zl(t)+e:e},Gl=function(e,t,a){var n=function(e){return a.warn(e),null};if(!ua(e))return n("Invalid surface: ".concat(e));var r=Hl(e,t),o=ql(r);return null===o?n("Invalid surface: ".concat(e)):[Il,Ol].includes(o.surfaceType)?o.authority&&xl.test(o.authority)?o.path&&!Nl.test(o.path)?n("Invalid path ".concat(o.path," in surface: ").concat(e)):o.fragment&&!Al.test(o.fragment)?n("Invalid fragment ".concat(o.fragment," in surface: ").concat(e)):o:n("Invalid authority ".concat(o.authority," in surface: ").concat(e)):n("Unsupported surface type ".concat(o.surfaceType," in surface: ").concat(e))},Wl=function(e){return!!e&&0===e.indexOf(Il+_l)&&-1===e.indexOf(jl)},Jl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return Gl(e,t,a)})).filter((function(e){return!Ce(e)})).map(Bl)},Ql=function(e){e.includes(Nr)||e.push(Nr)},$l=function(e,t){var a=zl(t);e.includes(a)||e.push(a)},Kl=function(e){return e.filter((function(t,a){return e.indexOf(t)===a}))},Xl=function(e){var t=e.getPageLocation,a=e.renderDecisions,n=e.decisionScopes,r=e.personalization,o=e.event,i=e.isCacheInitialized,s=e.logger,c=o.getViewName();return{isRenderDecisions:function(){return a},isSendDisplayEvent:function(){return!!r.sendDisplayEvent},shouldIncludeRenderedPropositions:function(){return!!r.includeRenderedPropositions},getViewName:function(){return c},hasScopes:function(){return n.length>0||et(r.decisionScopes)},hasSurfaces:function(){return et(r.surfaces)},hasViewName:function(){return ua(c)},createQueryDetails:function(){var e=m(n);et(r.decisionScopes)&&e.push.apply(e,m(r.decisionScopes));var a=Jl(r.surfaces,t,s);this.shouldRequestDefaultPersonalization()&&(Ql(e),$l(a,t));var o=[Gs,Js,Qs,Ks,$s,Xs,Ys];return e.includes(Nr)&&o.push(Ws),{schemas:o,decisionScopes:Kl(e),surfaces:Kl(a)}},isCacheInitialized:function(){return i},shouldFetchData:function(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData:function(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization:function(){return r.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==r.defaultPersonalizationEnabled}}},Yl="Rendering is disabled for authoring mode.",Zl={propositions:[]},eu=function(e){var t=e.logger,a=e.options,n=Vn({propositions:jn(Vn({id:Un().required(),scope:Un().required(),scopeDetails:Vn({decisionProvider:Un().required()}).required(),items:jn(Vn({id:Un().required(),schema:Un().required(),data:Vn(_n())})).nonEmpty().required()}).required()).nonEmpty().required(),metadata:Vn(_n()),viewName:Un()}).required();try{return n(a)}catch(e){return t.warn("Invalid options for applyPropositions. No propositions will be applied.",e),Zl}},tu=function(e){var t=e.getPageLocation,a=e.logger,n=e.fetchDataHandler,r=e.viewChangeHandler,o=e.onClickHandler,i=e.isAuthoringModeEnabled,s=e.mergeQuery,c=e.viewCache,l=e.showContainers,u=e.applyPropositions,d=e.setTargetMigration,g=e.mergeDecisionsMeta,f=e.renderedPropositions,p=e.onDecisionHandler,m=e.handleConsentFlicker;return{lifecycle:{onComponentsRegistered:function(){m()},onDecision:p,onBeforeRequest:function(e){var t=e.request;return d(t),Promise.resolve()},onBeforeEvent:function(e){var o=e.event,u=e.renderDecisions,d=e.decisionScopes,p=void 0===d?[]:d,m=e.personalization,y=void 0===m?{}:m,v=e.onResponse,h=void 0===v?da:v,b=e.onRequestFailure,w=void 0===b?da:b;if(h((function(){return{propositions:[]}})),w((function(){return l()})),i())return a.warn(Yl),s(o,{enabled:!1}),Promise.resolve();var P=Xl({getPageLocation:t,renderDecisions:u,decisionScopes:p,personalization:y,event:o,isCacheInitialized:c.isInitialized(),logger:a}),L=[];if(P.shouldIncludeRenderedPropositions()&&L.push(f.clear()),P.shouldFetchData()){var D=c.createCacheUpdate(P.getViewName());w((function(){return D.cancel()})),n({cacheUpdate:D,personalizationDetails:P,event:o,onResponse:h})}else P.shouldUseCachedData()&&L.push(r({personalizationDetails:P,event:o,onResponse:h,onRequestFailure:w}));return Promise.all(L).then((function(e){var t=e.flatMap((function(e){return e}));et(t)&&g(o,t,[Lc.DISPLAY])}))},onClick:function(e){var t=e.event,a=e.clickedElement;o({event:t,clickedElement:a})}},commands:{applyPropositions:{optionsValidator:function(e){return eu({logger:a,options:e})},run:u}}}},au=function(e){return He(Qe,{},{innerHTML:e})},nu=":eq(",ru=/:eq\((\d+)\)/g,ou=function(e){return-1===e.indexOf(nu)},iu=function(e){return e.split(ru).filter(ua)},su=/(#|\.)(-?\w+)/g,cu=function(e,t,a){return"".concat(t).concat(CSS.escape(a))},lu=function(e){return e.replace(su,cu)},uu=function(e){for(var t=[],a=lu(e.trim()),n=iu(a),r=n.length,o=0;o<r;){var i=n[o],s=n[o+1];s?t.push({sel:i,eq:Number(s)}):t.push({sel:i}),o+=2}return t},du=function(e){var t=document;if(ou(e))return lt(e,t);for(var a=uu(e),n=a.length,r=[],o=t,s=0;s<n;){var c=a[s],l=c.sel,u=c.eq,d=lt(l,o),g=d.length;if(0===g)break;if(null!=u&&u>g-1)break;s<n-1&&(o=null==u?i(d,1)[0]:d[u]),s===n-1&&(r=null==u?d:[d[u]]),s+=1}return r},gu=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementById(e)},fu=function(e,t,a){e.setAttribute(t,a)},pu=function(e,t){return e.getAttribute(t)},mu=function(e,t){e.removeAttribute(t)},yu=function(e,t,a,n){var r;r=n?"".concat(t,":").concat(a," !").concat(n,";"):"".concat(t,":").concat(a,";"),e.style.cssText+=";".concat(r)},vu=function(e){return e.parentNode},hu=function(e){return e.nextElementSibling},bu=function(e,t){if(e){var a=vu(e);a&&a.insertBefore(t,hu(e))}},wu=function(e,t){if(e){var a=vu(e);a&&a.insertBefore(t,e)}},Pu=function(e){var t=e.children;return t?tt(t):[]},Lu=function(e){var t=e.childNodes;return t?tt(t):[]},Du=function(e){return e.firstElementChild},Tu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(void 0===Sl){var t=e.querySelector("[nonce]");Sl=t&&(t.nonce||t.getAttribute("nonce"))}return Sl},Eu="src",Cu=function(e){return e.tagName===Je},ku=function(e){return He(Je,{src:e})},Su=function(e){lt(Je,e).forEach((function(e){var t=pu(e,Eu);t&&ku(t)}))},Iu=function(e,t){return e.tagName===t},Ou=function(e){return Iu(e,$e)&&!pu(e,Eu)},_u=function(e){var t=lt($e,e),a=t.length,n=Tu();if(n)for(var r=0;r<a;r+=1){var o=t[r];Ou(o)&&(o.nonce=n)}},ju=function(e,t){return new Promise((function(a,n){t.onload=function(){a(t)},t.onerror=function(){n(new Error("Failed to load script: ".concat(e)))}}))},Ru=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=ju(e,t);return document.head.appendChild(t),a},xu=function(e,t){return!!e&&e.tagName===t},Nu=function(e){return xu(e,Ke)&&!pu(e,Eu)},Au=function(e){return xu(e,Ke)&&pu(e,Eu)},Mu=function(e){for(var t=lt(Ke,e),a=[],n=t.length,r=Tu(),o=d({},r&&{nonce:r}),i=0;i<n;i+=1){var s=t[i];if(Nu(s)){var c=s.textContent;c&&a.push(He(Ke,o,{textContent:c}))}}return a},Vu=function(e){for(var t=lt(Ke,e),a=[],n=t.length,r=0;r<n;r+=1){var o=t[r];if(Au(o)){var i=pu(o,Eu);i&&a.push(i)}}return a},Uu=function(e,t){t.forEach((function(t){e.appendChild(t),e.removeChild(t)}))},Fu=function(e){return Promise.all(e.map(Ru))},qu=function(e,t,a){var n=au(t);_u(n);var r=Lu(n),o=Mu(n),i=Vu(n);return Su(n),r.forEach((function(t){Be(e,t)})),a(e),Uu(e,o),Fu(i)},Bu=function(e){Lu(e).forEach(Ct)},zu=function(e,t,a){return Bu(e),qu(e,t,a)},Hu=function(e,t,a){var n=au(t);_u(n);var r=Lu(n),o=Mu(n),i=Vu(n),s=r.length-1;for(Su(n);s>=0;){var c=r[s];a(c);var l=Du(e);l?wu(l,c):Be(e,c),s-=1}return Uu(e,o),Fu(i)},Gu="alloy-prehiding",Wu="{ visibility: hidden }",Ju={},Qu=function(e){if(!Ju[e]){var t=Tu(),a=d({},t&&{nonce:t}),n={textContent:"".concat(e," ").concat(Wu)},r=He($e,a,n);Be(document.head,r),Ju[e]=r}},$u=function(e){var t=Ju[e];t&&(Ct(t),delete Ju[e])},Ku=function(e){return function(t){if(t&&!gu(Gu)){var a=Tu(),n=d({id:Gu},a&&{nonce:a}),r=He($e,n,{textContent:t});e.logOnContentHiding({status:"hide-containers",message:"Prehiding style applied to hide containers.",logLevel:"info"}),Be(document.head,r)}}},Xu=function(e){return function(){var t=gu(Gu);t&&(e.logOnContentHiding({status:"show-containers",message:"Prehiding style removed to show containers.",logLevel:"info"}),Ct(t))}},Yu=function(e,t,a){a(e),e.textContent=t},Zu=function(e,t,a){var n=au(t);_u(n);var r=Lu(n),o=Mu(n),i=Vu(n);return Su(n),r.forEach((function(t){a(t),wu(e,t)})),Uu(e,o),Fu(i)},ed=function(e,t,a){return Zu(e,t,a).then((function(){Ct(e)}))},td=function(e,t,a){var n=au(t);_u(n);var r=Lu(n),o=Mu(n),i=Vu(n);Su(n);var s=e;return r.forEach((function(e){a(e),bu(s,e),s=e})),Uu(e,o),Fu(i)},ad=function(e,t,a){var n=t.priority,o=r(t,Pe);Object.keys(o).forEach((function(t){yu(e,t,o[t],n)})),a(e)},nd=function(e,t,a){Object.keys(t).forEach((function(a){fu(e,a,t[a])})),a(e)},rd=function(e,t,a){Cu(e)&&(ku(t),a(e),mu(e,Eu),fu(e,Eu,t))},od=function(e,t,a){var n=t.from,r=t.to,o=Pu(e),i=o[n],s=o[r];i&&s&&(n<r?bu(s,i):wu(s,i),a(s),a(i))},id=function(e,t,a,n){var r=e.map((function(e){return n(e,t,a)}));return Promise.all(r)},sd=function(e){return function(t,a){var n=t.selector,r=t.prehidingSelector,o=t.content;return Qu(r),Tt(n,du).then((function(t){return id(t,o,a,e)})).then((function(){$u(r)}),(function(e){throw $u(r),e}))}},cd=function(e){return(""+e).endsWith("px")?e:"".concat(e,"px")},ld=function(e,t,a){var n=t.priority,o=r(t,Le);Object.keys(o).forEach((function(t){var a=o[t];"left"!==t&&"top"!==t||(a=cd(a)),yu(e,t,a,n)})),a(e)},ud=function(e,t,a){a(e)},dd=function(e,t,a){var n=t.priority,o=r(t,De);Object.keys(o).forEach((function(t){var a=o[t];"width"!==t&&"height"!==t||(a=cd(a)),yu(e,t,a,n)})),a(e)},gd="setHtml",fd="customCode",pd="setText",md="setAttribute",yd="setImageSource",vd="setStyle",hd="move",bd="resize",wd="rearrange",Pd="remove",Ld="insertAfter",Dd="insertBefore",Td="replaceHtml",Ed="prependHtml",Cd="appendHtml",kd="click",Sd="collectInteractions",Id=function(){var e;return g(g(g(g(g(g(g(g(g(g(e={},gd,sd(zu)),fd,sd(Hu)),pd,sd(Yu)),md,sd(nd)),yd,sd(rd)),vd,sd(ad)),hd,sd(ld)),bd,sd(dd)),wd,sd(od)),Pd,sd(Ct)),g(g(g(g(g(g(e,Ld,sd(td)),Dd,sd(Zu)),Td,sd(ed)),Ed,sd(Hu)),Cd,sd(qu)),Sd,sd(ud))},Od="personalization:decisions",_d=function(e){var t=e.logger,a=e.prehidingStyle,n=e.showContainers,r=e.hideContainers,o=e.mergeQuery,i=e.processPropositions,s=e.createProposition,c=e.notificationHandler,l=e.consent;return function(e){var u=e.cacheUpdate,d=e.personalizationDetails,g=e.event,f=e.onResponse,p=l.current(),y=p.state,v=p.wasSet;"out"===y&&v||(d.isRenderDecisions()?r(a):n()),o(g,d.createQueryDetails());var h=c(d.isRenderDecisions(),d.isSendDisplayEvent(),d.getViewName());f((function(e){var a=e.response.getPayloadsByType(Od);et(a)||t.logOnContentRendering({status:"no-offers",message:"No offers were returned.",logLevel:"info",detail:{query:d.createQueryDetails()}});var r,o,c,l=a.map((function(e){return s(e)})),g=Ut(l,(function(e){return e.getScopeType()})),f=g.page,p=void 0===f?[]:f,y=g.view,v=void 0===y?[]:y,b=g.proposition,w=void 0===b?[]:b,P=u.update(v);if(d.isRenderDecisions()){var L=i([].concat(m(p),m(P)),w);r=L.render,o=L.returnedPropositions,c=L.returnedDecisions,et(p)&&t.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for page-wide scope.",logLevel:"info",detail:{scope:Nr,propositions:p.map((function(e){return e.toJSON()}))}}),et(P)&&t.logOnContentRendering({status:"rendering-started",message:"Rendering propositions started for view scope - ".concat(d.getViewName(),"."),logLevel:"info",detail:{scope:d.getViewName(),propositions:P.map((function(e){return e.toJSON()}))}}),r().then(h),n()}else{var D=i([],[].concat(m(p),m(P),m(w)));o=D.returnedPropositions,c=D.returnedDecisions}return{propositions:o,decisions:c}}))}},jd=function(e,t){if(ou(e))return Et(e,t);for(var a=du(e),n=!1,r=0;r<a.length;r+=1)if(a[r]===t){n=!0;break}return n},Rd="view",xd="page",Nd="proposition",Ad=function(e){return e.map((function(e){return e.trackingLabel,e.scopeType,r(e,Te)}))},Md=function(e){return e.filter((function(t,a){var n=JSON.stringify(t);return a===e.findIndex((function(e){return JSON.stringify(e)===n}))}))},Vd=function(e,t,a){for(var n=document.documentElement,r=e,o=0;r&&r!==n;){if(jd(t,r)){var i=a(t),s={metas:i},c=i.find((function(e){return e.trackingLabel}));c&&(s.label=c.trackingLabel,s.weight=o);var l=i.find((function(e){return e.scopeType===Rd}));return l&&(s.viewName=l.scope,s.weight=o),s}r=r.parentNode,o+=1}return{metas:null}},Ud=function(e,t,a){for(var n,r=[],o="",i=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,c=0;c<t.length;c+=1){var l=Vd(e,t[c],a),u=l.metas,d=l.label,g=l.weight,f=l.viewName;u&&(d&&g<=i&&(o=d,i=g),f&&g<=s&&(n=f,s=g),r.push.apply(r,m(Ad(u))))}return{decisionsMeta:Md(r),propositionActionLabel:o,propositionActionToken:void 0,viewName:n}},Fd=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).location.href.indexOf("adobe_authoring_enabled")},qd=function(e,t){if(t||e){var a={};return e&&(a.label=e),t&&(a.tokens=[t]),a}},Bd=function(e){var t=e.mergeDecisionsMeta,a=e.collectInteractions,n=e.collectClicks,r=e.getInteractionMetas,o=e.getClickMetas,i=e.getClickSelectors,s=e.autoCollectPropositionInteractions;return function(e){var c,l,u,d=e.event,g=e.clickedElement,f=[];if([a(g,r,s),n(g,i(),o)].forEach((function(e){var t=e.decisionsMeta,a=e.propositionActionLabel,n=e.propositionActionToken,r=e.viewName;Array.prototype.push.apply(f,t),!c&&a&&(c=a),!l&&n&&(l=n),!u&&r&&(u=r)})),et(f)){var p={eventType:ec};u&&(p.web={webPageDetails:{viewName:u}}),d.mergeXdm(p),t(d,f,[Lc.INTERACT],qd(c,l))}}},zd=function(e){var t=e.createProposition,a=!1,n=Promise.resolve({}),r=function(e,a){var n=e[a.toLowerCase()];return n&&n.length>0?n:[t({scope:a,scopeDetails:{characteristics:{scopeType:Rd}},items:[{schema:Gs}]},!1)]};return{createCacheUpdate:function(e){var t=Ve();return a=!0,n=n.then((function(e){return t.promise.then((function(t){return d(d({},e),t)})).catch((function(){return e}))})),{update:function(a){var n=a.filter((function(e){return e.getScope()})),o=Ut(n,(function(e){return e.getScope().toLowerCase()}));return t.resolve(o),e?r(o,e):[]},cancel:function(){t.reject()}}},getView:function(e){return n.then((function(t){return r(t,e)}))},isInitialized:function(){return a}}},Hd=function(e){var t=e.processPropositions,a=e.viewCache,n=e.logger;return function(e){var r,o,i=e.personalizationDetails,s=e.onResponse,c=i.getViewName();return s((function(){return{propositions:r,decisions:o}})),a.getView(c).then((function(e){var a;if(i.isRenderDecisions()){var s=t(e);return a=s.render,r=s.returnedPropositions,o=s.returnedDecisions,n.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for view scope - ".concat(c,"."),logLevel:"info",detail:{scope:c,propositions:e.map((function(e){return e.toJSON()}))}}),a()}var l=t([],e);return r=l.returnedPropositions,o=l.returnedDecisions,[]}))}},Gd=function(e){return Object.keys(e).map((function(t){return d({id:t},e[t])}))},Wd=function(){var e={};return{storeClickMeta:function(t){var a=t.selector,n=t.meta,r=n.id,o=n.scope,i=n.scopeDetails,s=n.trackingLabel,c=n.scopeType;e[a]||(e[a]={}),e[a][r]={scope:o,scopeDetails:i,trackingLabel:s,scopeType:c}},getClickSelectors:function(){return Object.keys(e)},getClickMetas:function(t){return e[t]?Gd(e[t]):{}}}},Jd=function(){var e={},t={};return{storeInteractionMeta:function(a,n,r,o,i){i=parseInt(i,10),e[i]||(e[i]={},t[i]={}),t[i][a]||(t[i][a]=new Set),t[i][a].add(n),e[i][a]=d(d({},o),{},{scopeType:r})},getInteractionMetas:function(a){return Array.isArray(a)&&0!==a.length?Object.values(a.map((function(e){return parseInt(e,10)})).reduce((function(a,n){return Object.keys(e[n]||{}).forEach((function(r){a[r]||(a[r]={proposition:e[n][r],items:new Set}),a[r].items=new Set([].concat(m(a[r].items),m(t[n][r])))})),a}),{})).map((function(e){var t=e.proposition,a=e.items;return d(d({},t),{},{items:Array.from(a).map((function(e){return{id:e}}))})})):[]}}},Qd=function(e,t){return e===Qs&&t===Sd},$d=g(g(g(g(g({},Ws,(function(){return!0})),Js,(function(){return!0})),Qs,Qd),Xs,(function(){return!0})),Gs,(function(){return!0})),Kd=function(e,t){return"function"==typeof $d[e]&&$d[e](e,t)},Xd=function(e){var t=e.processPropositions,a=e.createProposition,n=e.renderedPropositions,r=e.viewCache,o=function(e){var t=e.items,a=e.metadataForScope,n=void 0===a?{}:a,r=n.actionType,o=n.selector;return t.filter((function(e){return Kd(e.schema,r)})).map((function(e){var t=e.schema;return t===Js||Qd(t,r)?Ot(n)?void 0:d(d({},e),{},{schema:Qd(t,r)?Ws:t,data:d(d({},e.data),{},{selector:o,type:r})}):d({},e)})).filter((function(e){return e}))},i=function(e){return!(e.scope===Nr&&e.renderAttempted)},s=function(e){var t=e.propositions,a=e.metadata;return t.filter(i).map((function(e){return et(e.items)?{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails,items:o({items:e.items,metadataForScope:a[e.scope]})}:e})).filter((function(e){return et(e.items)}))};return function(e){var o=e.propositions,i=void 0===o?[]:o,c=e.metadata,l=void 0===c?{}:c,u=e.viewName,d=Ve();n.concat(d.promise);var g=s({propositions:i,metadata:l}).map((function(e){return a(e)}));return Promise.resolve().then((function(){return u?r.getView(u):[]})).then((function(e){var a=t([].concat(m(g),m(e))),n=a.render,r=a.returnedPropositions;return n().then(d.resolve),{propositions:r}}))}},Yd=function(e){var t=e.window;return function(){return t.location}},Zd=function(e){return e.targetMigrationEnabled?function(e){e.getPayload().mergeMeta({target:{migration:!0}})}:da},eg="BODY > *:eq(0)",tg=function(e){var t=e.selector;return e.type!==fd||t!==eg?e:d(d({},e),{selector:"BODY"})},ag="SCRIPT,LINK,STYLE",ng=function(e){var t=au(e);return lt(ag,t).map((function(e){return e.outerHTML})).join("")},rg=function(e){var t=d({},e),a=t.content,n=t.selector;if(dl(a))return t;if(null==n)return t;var r=du(n);return xu(r[0],Xe)?(t.type=Cd,t.content=ng(a),t):t},og=function(e){return function(t){return t?e.reduce((function(e,t){return d(d({},e),t(e))}),t):t}},ig=function(e){var t=e.preprocess,a=e.isPageWideSurface,n=function(e,a){var n=e.id,r=e.schema,o=e.data,i=e.characteristics,s=(void 0===i?{}:i).trackingLabel,c=o?o.type:void 0,l=t(o);return{getId:function(){return n},getSchema:function(){return r},getSchemaType:function(){return c},getData:function(){return l},getProposition:function(){return a},getTrackingLabel:function(){return s},getOriginalItem:function(){return e},toString:function(){return JSON.stringify(e)},toJSON:function(){return e}}};return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.id,i=e.scope,s=e.scopeDetails,c=e.items,l=void 0===c?[]:c,u=(s||{}).characteristics,g=(void 0===u?{}:u).scopeType;return{getScope:function(){return i},getScopeType:function(){return i===Nr||a(i)?xd:g===Rd?Rd:Nd},getItems:function(){var e=this;return l.map((function(t){return n(t,e)}))},getNotification:function(){return{id:o,scope:i,scopeDetails:s}},getId:function(){return o},toJSON:function(){return e},shouldSuppressDisplay:function(){return r},addToReturnValues:function(a,n,r,o){t&&(a.push(d(d({},e),{},{items:r.map((function(e){return e.getOriginalItem()})),renderAttempted:o})),o||n.push(d(d({},e),{},{items:r.map((function(e){return e.getOriginalItem()}))})))}}}},sg=function(){var e=Promise.resolve([]);return{concat:function(t){e=e.then((function(e){return t.then((function(t){return e.concat(t)})).catch((function(){return e}))}))},clear:function(){var t=e;return e=Promise.resolve([]),t}}},cg=function(){return{render:da,setRenderAttempted:!0,includeInNotification:!0}},lg="always",ug="never",dg="decoratedElementsOnly",gg=[lg,ug,dg],fg="data-aep-interact-id",pg="data-aep-click-label",mg="data-aep-click-token",yg=0,vg=function(e,t){return t?parseInt(t,10):++yg},hg=function(e,t){return!!e&&!!e[t]&&[lg,dg].includes(e[t])},bg=function(e,t,a,n,r,o,i,s){var c=i.scopeDetails,l=(void 0===c?{}:c).decisionProvider;return hg(e,l)||t===kd?function(e){if(e.tagName){var t=vg(a,pu(e,fg));s(a,n,o,i,t),fu(e,fg,t),r&&!pu(e,pg)&&fu(e,pg,r)}}:da},wg=function(e){var t=e.modules,a=e.logger,n=e.storeInteractionMeta,r=e.storeClickMeta,o=e.autoCollectPropositionInteractions;return function(e){var i=e.getData()||{},s=i.type,c=i.selector;if(!s)return a.warn("Invalid DOM action data: missing type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};if(s===kd)return c?(r({selector:c,meta:d(d({},e.getProposition().getNotification()),{},{trackingLabel:e.getTrackingLabel(),scopeType:e.getProposition().getScopeType()})}),{setRenderAttempted:!0,includeInNotification:!1}):(a.warn("Invalid DOM action data: missing selector.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1});if(!t[s])return a.warn("Invalid DOM action data: unknown type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};var l=bg(o,s,e.getProposition().getId(),e.getId(),e.getTrackingLabel(),e.getProposition().getScopeType(),e.getProposition().getNotification(),n);return{render:function(){return t[s](e.getData(),l)},setRenderAttempted:!0,includeInNotification:!0}}},Pg=function(e){var t=e.modules,a=e.logger,n=e.storeInteractionMeta,r=e.autoCollectPropositionInteractions;return function(e){var o=e.getData()||{},i=o.type;if(!o.selector||!i)return{setRenderAttempted:!1,includeInNotification:!1};if(!t[i])return a.warn("Invalid HTML content data",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};var s=bg(r,i,e.getProposition().getId(),e.getId(),e.getTrackingLabel(),e.getProposition().getScopeType(),e.getProposition().getNotification(),n);return{render:function(){return t[i](e.getData(),s)},setRenderAttempted:!0,includeInNotification:!0}}},Lg=function(e){var t=e.logger,a=e.executeRedirect,n=e.collect;return function(e){var r=(e.getData()||{}).content;return r?{render:function(){return n({decisionsMeta:[e.getProposition().getNotification()],documentMayUnload:!0}).then((function(){return t.logOnContentRendering({status:"rendering-redirect",detail:{propositionDetails:e.getProposition().getNotification(),redirect:r},message:"Redirect action ".concat(e.toString()," executed."),logLevel:"info"}),a(r)}))},setRenderAttempted:!0,onlyRenderThis:!0}:(t.warn("Invalid Redirect data",e.getData()),{})}},Dg=function(e){var t=e.schemaProcessors,a=e.logger,n=function(e,t){return function(){return Promise.resolve().then(e).then((function(){return a.enabled&&a.info("Action ".concat(t.toString()," executed.")),t.toJSON()})).catch((function(e){var n=e.message,r=e.stack,o="Failed to execute action ".concat(t.toString(),". ").concat(n," ").concat(r);a.logOnContentRendering({status:"rendering-failed",detail:{propositionDetails:t.getProposition().getNotification(),item:t.toJSON()},error:e,message:o,logLevel:"warn"})}))}},r=function(e,t){return Promise.all(e.map((function(e){return e()}))).then((function(e){var a=e.filter((function(e){return e}));if(t&&et(a))return d(d({},t),{},{items:a})}))},o=function(e){var a=t[e.getSchema()];return a?a(e):{}},i=function(e){for(var t,a,i,s,c=e.renderers,l=e.returnedPropositions,u=e.returnedDecisions,d=e.items,g=e.proposition,f=m(c),p=m(l),y=m(u),v=[],h=[],b=[],w=!1,P=!1,L=0;d.length>L;){s=d[L];var D=o(s);if(t=D.render,a=D.setRenderAttempted,i=D.includeInNotification,P=D.onlyRenderThis){p=[],y=[],a?(v=[s],h=[]):(v=[],h=[s]),f=[],b=[t],w=i;break}t&&b.push(n(t,s)),i&&(w=!0),a?v.push(s):h.push(s),L+=1}if(b.length>0){var T=w?g.getNotification():void 0;f.push((function(){return r(b,T)}))}else w&&f.push((function(){return Promise.resolve(g.getNotification())}));return v.length>0&&g.addToReturnValues(p,y,v,!0),h.length>0&&g.addToReturnValues(p,y,h,!1),{renderers:f,returnedPropositions:p,returnedDecisions:y,onlyRenderThis:P}};return function(e){for(var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[],c=[],l=[],u=0;e.length>u;){r=(n=e[u]).getItems();var g=i({renderers:s,returnedPropositions:c,returnedDecisions:l,items:r,proposition:n});if(s=g.renderers,c=g.returnedPropositions,l=g.returnedDecisions,t=g.onlyRenderThis)break;u+=1}return t&&e.forEach((function(e,t){t!==u&&e.addToReturnValues(c,l,e.getItems(),!1)})),o.forEach((function(e){e.addToReturnValues(c,l,e.getItems(),!1)})),{returnedPropositions:c,returnedDecisions:l,render:function(){return Promise.all(s.map((function(e){return e()}))).then((function(e){var t=e.filter((function(e){return e})),n=t.map((function(e){return{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails}}));if(et(t)){var r=Ut(t,(function(e){return e.scope}));a.logOnContentRendering({status:"rendering-succeeded",detail:d({},r),message:"Scopes: ".concat(JSON.stringify(r)," successfully executed."),logLevel:"info"})}return n}))}}}},Tg=function(){var e=0;return function(t){var a=t.items;return!!(void 0===a?[]:a).some((function(e){return e.schema===Xs}))&&(e+=1)>1}},Eg=function(e){var t=e.processPropositions,a=e.createProposition,n=e.notificationHandler;return function(e){var r=e.renderDecisions,o=e.propositions,i=e.event,s=e.personalization,c=void 0===s?{}:s;if(!r)return Promise.resolve();var l=c.sendDisplayEvent,u=void 0===l||l,d=i?i.getViewName():void 0,g=Tg(),f=o.map((function(e){return a(e,!0,g(e))})),p=t(f),m=p.render,y=p.returnedPropositions,v=n(r,u,d),h=f.reduce((function(e,t){return e[t.getId()]=t,e}),{});return m().then((function(e){var t=e.filter((function(e){return!h[e.id].shouldSuppressDisplay()})),a=e.filter((function(e){return h[e.id].shouldSuppressDisplay()}));v(t,a)})),Promise.resolve({propositions:y})}},Cg="defaultContent",kg=["content","contentType"],Sg=["mobileParameters","webParameters","html"],Ig=function(e,t){for(var a=0;a<kg.length;a+=1){var n=kg[a];if(!Object.prototype.hasOwnProperty.call(e,n))return t.warn("Invalid in-app message data: missing property '".concat(n,"'."),e),!1}var r=e.content;if(e.contentType===mc)for(var o=0;o<Sg.length;o+=1){var i=Sg[o];if(!Object.prototype.hasOwnProperty.call(r,i))return t.warn("Invalid in-app message data.content: missing property '".concat(i,"'."),e),!1}return!0},Og=function(e){
var t=e.modules,a=e.logger;return function(e){var n=e.getData(),r=e.getProposition(),o=d({},r.getNotification()),i=r.shouldSuppressDisplay();if(!n)return a.warn("Invalid in-app message data: undefined.",n),{};var s=n.type,c=void 0===s?Cg:s;return t[c]?Ig(n,a)?o?{render:function(){return i?null:t[c](d(d({},n),{},{meta:o}))},setRenderAttempted:!0,includeInNotification:!0}:(a.warn("Invalid in-app message meta: undefined.",o),{}):{}:(a.warn("Invalid in-app message data: unknown type.",n),{})}},_g=function(e){var t=lt("#".concat(e),document);t&&t.length>0&&Ct(t[0])},jg=function(e){var t={};if(!e||"a"!==e.tagName.toLowerCase())return t;var a=e.href;if(!a||!a.startsWith("adbinapp://"))return t;var n,r,o=a.split("?"),i=o[0].split("://")[1],s=e.innerText,c=e.getAttribute("data-uuid")||"";if(et(o)){var l=ve.default.parse(o[1]);n=l.interaction||"",r=Bo(l.link||"")}return{action:i,interaction:n,link:r,label:s,uuid:c}},Rg=function(e){return function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.location.href=t:e.location.replace(t),new Promise((function(){}))}},xg="alloy-messaging-container",Ng="alloy-overlay-container",Ag="alloy-content-iframe",Mg=function(){return[xg,Ng].forEach(_g)},Vg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rg(window);return function(a){a.preventDefault(),a.stopImmediatePropagation();var n=a.target,r="a"===n.tagName.toLowerCase()?n:n.closest("a");if(r){var o=jg(r),i=o.action,s=o.interaction,c=o.link,l=o.label,u=o.uuid;e(i,{label:l,id:s,uuid:u,link:c}),"dismiss"===i&&Mg(),ua(c)&&c.length>0&&t(c,!0)}}},Ug=function(e,t){var a=(new DOMParser).parseFromString(e,pc),n=a.querySelector("script");n&&n.setAttribute("nonce",Tu());var r=He("iframe",{src:URL.createObjectURL(new Blob([a.documentElement.outerHTML],{type:"text/html"})),id:Ag});return r.addEventListener("load",(function(){(0,(r.contentDocument||r.contentWindow.document).addEventListener)("click",t)})),r},Fg=function(e,t,a,n){[{id:Ng,element:n},{id:xg,element:a},{id:Ag,element:e}].forEach((function(e){var a=e.id,n=e.element,r=t[a],o=r.style,i=void 0===o?{}:o,s=r.params,c=void 0===s?{}:s;n.style=d(d({},n.style),i);var l=c.parentElement,u=void 0===l?"body":l,g=c.insertionMethod,f=void 0===g?"appendChild":g,p=c.enabled,m=void 0===p||p,y=document.querySelector(u);m&&y&&"function"==typeof y[f]&&y[f](n)}))},qg=function(e){var t=e.verticalAlign,a=e.width,n=e.horizontalAlign,r=e.backdropColor,o=e.height,i=e.cornerRadius,s=e.horizontalInset,c=e.verticalInset,l=e.uiTakeover,u=void 0!==l&&l,d={width:a?"".concat(a,"%"):"100%",backgroundColor:r||"rgba(0, 0, 0, 0.5)",borderRadius:i?"".concat(i,"px"):"0px",border:"none",position:u?"fixed":"relative",overflow:"hidden"};return"left"===n?d.left=s?"".concat(s,"%"):"0":"right"===n?d.right=s?"".concat(s,"%"):"0":"center"===n&&(d.left="50%",d.transform="translateX(-50%)"),"top"===t?d.top=c?"".concat(c,"%"):"0":"bottom"===t?(d.position="fixed",d.bottom=c?"".concat(c,"%"):"0"):"center"===t&&(d.top="50%",d.transform="".concat("center"===n?"".concat(d.transform," "):"","translateY(-50%)"),d.display="flex",d.alignItems="center",d.justifyContent="center"),d.height=o?"".concat(o,"vh"):"100%",d},Bg=function(e){return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:e.backdropOpacity||.5,backgroundColor:e.backdropColor||"#FFFFFF"}},zg=["enabled","parentElement","insertionMethod"],Hg=function(e){if(!e)return!1;var t=Object.keys(e);if(!t.includes(xg))return!1;if(!t.includes(Ng))return!1;for(var a=Object.values(e),n=0;n<a.length;n+=1){if(!Vn(a[n],"style"))return!1;if(!Vn(a[n],"params"))return!1;for(var r=0;r<zg.length;r+=1)if(!Vn(a[n].params,zg[r]))return!1}return!0},Gg=function(e){if(e){var t=e.uiTakeover,a=void 0!==t&&t;return g(g(g({},Ag,{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}}),xg,{style:qg(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}}),Ng,{style:Bg(e),params:{enabled:!0===a,parentElement:"body",insertionMethod:"appendChild"}})}},Wg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;Mg();var a=e.content,n=e.contentType,r=e.mobileParameters,o=e.webParameters;if(n===pc){var i=He("div",{id:xg}),s=Ug(a,Vg(t)),c=He("div",{id:Ng});Hg(o)||(o=Gg(r)),o&&Fg(s,o,i,c)}},Jg=function(e,t){return new Promise((function(a){var n=e.meta;Wg(e,(function(e,a){var r={};r[Lc.INTERACT]=rc,-1!==Object.values(Lc).indexOf(e)&&(r[e]=rc),t({decisionsMeta:[n],propositionAction:a,eventType:ec,propositionEventTypes:Object.keys(r)})})),a({meta:n})}))},Qg=function(e){return{defaultContent:function(t){return Jg(t,e)}}},$g=function(e,t){return function(a,n,r){if(!a)return function(){};if(!n){var o=Ve();return t.concat(o.promise),o.resolve}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];et(t)&&e({decisionsMeta:t,viewName:r}),et(a)&&e({decisionsMeta:a,eventType:nc,propositionAction:{reason:"Conflict"},viewName:r})}}},Kg=function(e){var t=e.showContainers,a=e.consent;return function(){var e=a.current(),n=e.state,r=e.wasSet;n===er&&r?t():a.awaitConsent().catch(t)}},Xg=function(e){for(var t,a,n=document.documentElement,r=e,o=new Set;r&&r!==n;){var i=pu(r,fg);i&&o.add(i),t=t||pu(r,pg),a=a||pu(r,mg),r=r.parentNode}return{interactIds:m(o),clickLabel:t,clickToken:a}},Yg=function(e){var t=e.find((function(e){return e.scopeType===Rd}));return t?t.scope:void 0},Zg=function(e,t,a){return function(n){var r=n.scopeDetails,o=(void 0===r?{}:r).decisionProvider;return e[o]===lg||e[o]===dg&&(t||a)}},ef=function(e,t,a){var n=Xg(e),r=n.interactIds,o=n.clickLabel,i=void 0===o?"":o,s=n.clickToken,c=Zg(a,i,s);if(0===r.length)return{};var l=t(r).filter(c);return{decisionsMeta:Ad(l),propositionActionLabel:i,propositionActionToken:s,viewName:Yg(l)}},tf=function(e){var t=e.config,a=e.logger,n=e.eventManager,r=e.consent,o=t.targetMigrationEnabled,i=t.prehidingStyle,s=t.autoCollectPropositionInteractions,c=Kc({eventManager:n,mergeDecisionsMeta:Xc}),l=Xu(a),u=Ku(a),d=Jd(),f=d.storeInteractionMeta,p=d.getInteractionMetas,m=Wd(),y=m.storeClickMeta,v=m.getClickSelectors,h=m.getClickMetas,b=Yd({window:window}),w=Id(),P=og([rg,tg]),L=ig({preprocess:P,isPageWideSurface:Wl}),D=zd({createProposition:L}),T=Rg(window),E=g(g(g(g(g({},Gs,cg),Ws,wg({modules:w,logger:a,storeInteractionMeta:f,storeClickMeta:y,autoCollectPropositionInteractions:s})),Js,Pg({modules:w,logger:a,storeInteractionMeta:f,autoCollectPropositionInteractions:s})),Ks,Lg({logger:a,executeRedirect:T,collect:c})),Xs,Og({modules:Qg(c),logger:a})),C=Dg({schemaProcessors:E,logger:a}),k=sg(),S=$g(c,k),I=_d({prehidingStyle:i,showContainers:l,hideContainers:u,mergeQuery:Yc,processPropositions:C,createProposition:L,notificationHandler:S,consent:r,logger:a}),O=Bd({mergeDecisionsMeta:Xc,collectInteractions:ef,collectClicks:Ud,getInteractionMetas:p,getClickMetas:h,getClickSelectors:v,autoCollectPropositionInteractions:s}),_=Hd({processPropositions:C,viewCache:D,logger:a}),j=Xd({processPropositions:C,createProposition:L,renderedPropositions:k,viewCache:D}),R=Zd({targetMigrationEnabled:o}),x=Eg({processPropositions:C,createProposition:L,notificationHandler:S}),N=Kg({showContainers:l,consent:r});return tu({getPageLocation:b,logger:a,fetchDataHandler:I,viewChangeHandler:_,onClickHandler:O,isAuthoringModeEnabled:Fd,mergeQuery:Yc,viewCache:D,showContainers:l,applyPropositions:j,setTargetMigration:R,mergeDecisionsMeta:Xc,renderedPropositions:k,onDecisionHandler:x,handleConsentFlicker:N})};tf.namespace="Personalization";var af=gg.map((function(e){return Nn(e)}));tf.configValidators=Vn({prehidingStyle:Un().nonEmpty(),targetMigrationEnabled:Rn().default(!1),autoCollectPropositionInteractions:Vn(g(g({},Oc,On(af).default(lg)),_c,On(af).default(ug))).default(g(g({},Oc,lg),_c,ug)).noUnknownFields()});var nf=function(e){var t=e.storedConsent,a=e.taskQueue,n=e.defaultConsent,r=e.consent,o=e.sendSetConsentRequest,i=e.validateSetConsentOptions,s=e.consentHashStore,c=e.doesIdentityCookieExist,l=g({},ar,n),u=t.read(),d=c(),f=void 0!==u[ar];d&&f||s.clear(),d||(t.clear(),u={}),r.initializeConsent(l,u);var p=function(){if(0===a.length){var e=t.read();void 0!==e[ar]&&r.setConsent(e)}};return{commands:{setConsent:{optionsValidator:i,run:function(e){var t=e.consent,n=e.identityMap,i=e.edgeConfigOverrides;r.suspend();var c=s.lookup(t);return a.addTask((function(){return c.isNew()?o({consentOptions:t,identityMap:n,edgeConfigOverrides:i}):Promise.resolve()})).then((function(){return c.save()})).finally(p)}}},lifecycle:{onResponse:p,onRequestFailure:p}}},rf=function(e){return Array.isArray(e)?e.map((function(e){return rf(e)})):"object"===P(e)&&null!==e?Object.keys(e).sort().reduce((function(t,a){return t[a]=rf(e[a]),t}),{}):e},of=function(e){return Me(JSON.stringify(rf(e)))},sf=function(e){var t=e.standard,a=e.version;return"".concat(t,".").concat(a)},cf=function(e){var t=e.storage;return{clear:function(){t.clear()},lookup:function(e){var a={},n=function(e){var t=sf(e),n=(e.standard,e.version,r(e,Ee));return a[t]||(a[t]=of(n).toString()),a[t]};return{isNew:function(){return e.some((function(e){var a=sf(e),r=t.getItem(a);return null===r||r!==n(e)}))},save:function(){e.forEach((function(e){var a=sf(e);t.setItem(a,n(e))}))}}}}},lf=function(){var e={},t=Ur({content:e,addIdentity:function(t,a){e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(a)},hasIdentity:function(t){return void 0!==(e.identityMap&&e.identityMap[t])}});return t.setConsent=function(t){e.consent=t},t},uf=function(e){var t=e.payload,a=e.datastreamIdOverride;return Mr({payload:t,datastreamIdOverride:a,getAction:function(){return"privacy/set-consent"},getUseSendBeacon:function(){return!1}})},df=function(e){var t=e.parseConsentCookie,a=e.orgId,n=e.cookieJar,r=Vt(a,Xt);return{read:function(){var e=n.get(r);return e?t(e):{}},clear:function(){n.remove(r)}}},gf=function(e){var t=e.createConsentRequestPayload,a=e.createConsentRequest,n=e.sendEdgeNetworkRequest,r=e.edgeConfigOverrides;return function(e){var o=e.consentOptions,i=e.identityMap,s=e.edgeConfigOverrides,c=Br({payload:t(),globalConfigOverrides:r,localConfigOverrides:s});c.payload.setConsent(o),ke(i)&&Object.keys(i).forEach((function(e){i[e].forEach((function(t){c.payload.addIdentity(e,t)}))}));var l=a(c);return n({request:l}).then((function(){}))}},ff=function(e){return e.split(";").reduce((function(e,t){var a=i(t.split("="),2),n=a[0],r=a[1];return e[n]=r,e}),{})},pf=Vn({consent:jn(_n()).required().nonEmpty(),identityMap:qn,edgeConfigOverrides:Bn}).noUnknownFields().required(),mf=Vn({defaultConsent:Fn(Zn,er,tr).default(Zn)}),yf=function(e){var t=e.config,a=e.consent,n=e.sendEdgeNetworkRequest,r=e.createNamespacedStorage,o=t.orgId,i=t.defaultConsent,s=df({parseConsentCookie:ff,orgId:o,cookieJar:Oe}),c=Ae(),l=gf({createConsentRequestPayload:lf,createConsentRequest:uf,sendEdgeNetworkRequest:n,edgeConfigOverrides:t.edgeConfigOverrides}),u=r("".concat(Mt(o),".consentHashes.")),d=cf({storage:u.persistent}),g=Zt({orgId:o});return nf({storedConsent:s,taskQueue:c,defaultConsent:i,consent:a,sendSetConsentRequest:l,validateSetConsentOptions:pf,consentHashStore:d,doesIdentityCookieExist:g})};yf.namespace="Consent",yf.configValidators=mf;var vf=Vn({streamingMedia:Vn({channel:Un().nonEmpty().required(),playerName:Un().nonEmpty().required(),appVersion:Un(),mainPingInterval:An().minimum(10).maximum(50).default(10),adPingInterval:An().minimum(1).maximum(10).default(10)}).noUnknownFields()}),hf=function(e){var t=e.options;return On([Vn({playerId:Un().required(),getPlayerDetails:xn().required(),xdm:Vn({mediaCollection:Vn({sessionDetails:Vn(_n()).required()})}),edgeConfigOverrides:Vn({})}).required(),Vn({xdm:Vn({mediaCollection:Vn({playhead:An().required(),sessionDetails:Vn(_n()).required()})}),edgeConfigOverrides:Vn({})}).required()],"Error validating the createMediaSession command options.")(t)},bf=function(e){var t=e.options;return On([Vn({playerId:Un().required(),xdm:Vn({eventType:Fn.apply(void 0,m(Object.values(nl))).required(),mediaCollection:Vn(_n())}).required()}).required(),Vn({xdm:Vn({eventType:Fn.apply(void 0,m(Object.values(nl))).required(),mediaCollection:Vn({playhead:An().integer().required(),sessionID:Un().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(t)},wf=function(e){var t=e.config,a=e.trackMediaEvent,n=e.trackMediaSession,r=e.mediaResponseHandler;return{lifecycle:{onBeforeEvent:function(e){var t=e.mediaOptions,a=e.onResponse,n=void 0===a?da:a;if(t){var o=t.legacy,i=t.playerId,s=t.getPlayerDetails;o||n((function(e){var t=e.response;return r({playerId:i,getPlayerDetails:s,response:t})}))}}},commands:{createMediaSession:{optionsValidator:function(e){return hf({options:e})},run:n},sendMediaEvent:{optionsValidator:function(e){return bf({options:e})},run:function(e){return t.streamingMedia?a(e):Promise.reject(new Error("Streaming media is not configured."))}}}}},Pf=function(e){var t=e.config,a=e.logger,n=e.eventManager,r=e.sendEdgeNetworkRequest,o=e.consent,i=sl(),s=ol({config:t,eventManager:n,logger:a,consent:o,sendEdgeNetworkRequest:r,setTimestamp:ys((function(){return new Date}))}),c=ll({mediaSessionCacheManager:i,mediaEventManager:s,config:t}),l=ul({config:t,mediaEventManager:s,mediaSessionCacheManager:i}),u=gl({mediaSessionCacheManager:i,config:t,trackMediaEvent:c});return wf({config:t,trackMediaEvent:c,mediaEventManager:s,mediaResponseHandler:u,trackMediaSession:l})};Pf.namespace="Streaming media",Pf.configValidators=vf;var Lf=Object.freeze({__proto__:null,activityCollector:os,audiences:ls,consent:yf,context:js,eventMerge:al,mediaAnalyticsBridge:kl,personalization:tf,rulesEngine:Zc,streamingMedia:Pf}),Df=window.console,Tf=na(window),Ef=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Vn({name:Un().default("alloy"),monitors:jn(Vn({})).default([]),components:jn(xn())}).noUnknownFields()(e),a=t.name,n=t.monitors,r=t.components,o=function(){return(window.__alloyMonitors||[]).concat(n)},i=Hn({console:Df,locationSearch:window.location.search,createLogger:xr,instanceName:a,createNamespacedStorage:Tf,getMonitors:o}),s=hi({instanceName:a,logController:i,components:r});return i.logger.logOnInstanceCreated({instance:s}),s};t.createInstance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Vn({name:Un().default("alloy"),monitors:jn(Vn({})).default([])}).noUnknownFields()(e),a=t.name,n=t.monitors;return Ef({name:a,monitors:n,components:Object.values(Lf)})}}},"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function a(e){return i(e)||o(e)||r(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,t){if(e){if("string"==typeof e)return s(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function i(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a){return(t=d(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e){var a=g(e,"string");return"symbol"==t(a)?a:a+""}function g(e,a){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,a||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}function f(e,t){if(null==e)return{};var a,n,r=p(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function p(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;a[n]=e[n]}return a}var m=["name","edgeConfigId","stagingEdgeConfigId","developmentEdgeConfigId","onBeforeEventSend"];e.exports=function(e){var t=e.turbine,n=e.window,r=e.createInstance,o=e.createEventMergeId,i=e.orgId,s=e.wrapOnBeforeEventSend,c=e.getConfigOverrides,u=t.getExtensionSettings().instances,d={},g={};return n.__alloyMonitors=n.__alloyMonitors||[],n.__alloyMonitors.push({onInstanceCreated:function(){g.onInstanceCreated||(g.onInstanceCreated=[]);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];g.onInstanceCreated.push(t)},onInstanceConfigured:function(){g.onInstanceConfigured||(g.onInstanceConfigured=[]);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];g.onInstanceConfigured.push(t)},onBeforeCommand:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];"configure"===t[0].commandName&&(g.onBeforeCommand||(g.onBeforeCommand=[]),g.onBeforeCommand.push(t))}}),u.forEach((function(e){var a=e.name,o=e.edgeConfigId,u=e.stagingEdgeConfigId,g=e.developmentEdgeConfigId,p=e.onBeforeEventSend,y=f(e,m),v=r({name:a});n[a]=v,n.__alloyNS||(n.__alloyNS=[]),n.__alloyNS.push(a),d[a]=v;var h=t.environment&&t.environment.stage,b="development"===h&&g||"staging"===h&&u||o;y.edgeConfigOverrides=c(y),v("configure",l(l({},y),{},{datastreamId:b,debugEnabled:t.debugEnabled,orgId:y.orgId||i,onBeforeEventSend:s(p)})),t.onDebugChanged((function(e){v("setDebug",{enabled:e})}))})),{getInstance:function(e){return d[e]},createEventMergeId:function(){return o()},addMonitor:function(e){n.__alloyMonitors.push(e),Object.keys(g).forEach((function(t){e[t]&&g[t].forEach((function(n){e[t].apply(e,a(n))}))}))}}}}},"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:function(e){"use strict";e.exports=function(e){var t=e.version;return function(e){return function(a){if(a.xdm.implementationDetails.name="".concat(a.xdm.implementationDetails.name,"/reactor"),a.xdm.implementationDetails.version="".concat(a.xdm.implementationDetails.version,"+").concat(t),e)return e(a)}}}}},"adobe-alloy/dist/lib/utils/createGetConfigOverrides.js":{script:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,a){return(t=o(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){var a=i(e,"string");return"symbol"==t(a)?a:a+""}function i(e,a){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,a||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}var s=function(e){return function(t){var a,r,o,i,s,c=t.edgeConfigOverrides;if(c){if(c[e])s=n({},c[e]);else{if(c.development||c.staging||c.production)return;s=c}if(0!==Object.keys(s).length&&!1!==s.enabled){if(delete s.enabled,(null===(a=s.com_adobe_analytics)||void 0===a||null===(a=a.reportSuites)||void 0===a?void 0:a.length)>0&&(s.com_adobe_analytics.reportSuites=s.com_adobe_analytics.reportSuites.flatMap((function(e){return e.includes(",")?e.split(/,\s*/gi):e})).map((function(e){return e.trim()})).filter(Boolean)),void 0!==(null===(r=s.com_adobe_identity)||void 0===r?void 0:r.idSyncContainerId)&&null!==(null===(o=s.com_adobe_identity)||void 0===o?void 0:o.idSyncContainerId)&&"string"==typeof(null===(i=s.com_adobe_identity)||void 0===i?void 0:i.idSyncContainerId)){var l=parseInt(s.com_adobe_identity.idSyncContainerId.trim(),10);if(Number.isNaN(l))throw new Error('The ID sync container ID "'.concat(s.com_adobe_identity.idSyncContainerId,'" is not a valid integer.'));s.com_adobe_identity.idSyncContainerId=l}return s}}}};e.exports=s}},"adobe-alloy/dist/lib/createEventMergeIdCache.js":{script:function(e){"use strict";e.exports=function(){var e={};return{set:function(t,a){e[t]=a},getByCacheId:function(t){return e[t]},clearByEventMergeId:function(t){Object.keys(e).forEach((function(a){e[a]===t&&delete e[a]}))}}}}},"adobe-alloy/dist/lib/createSendEventCallbackStorage.js":{script:function(e){"use strict";e.exports=function(){var e=[];return{add:function(t){e.push(t)},triggerEvent:function(t){e.forEach((function(e){e(t)}))}}}}},"adobe-alloy/dist/lib/createMediaCollectionSessionStorage.js":{script:function(e){"use strict";e.exports=function(){var e={};return{add:function(t){var a=t.playerId,n=t.sessionDetails;if(e[a])throw new Error("Player Id ".concat(a," already exists"));e[a]=n},remove:function(t){var a=t.playerId;e[a]=void 0},get:function(t){var a=t.playerId;return e[a]}}}}},"adobe-alloy/dist/lib/createVariableStore.js":{script:function(e){"use strict";e.exports=function(){return{}}}},"adobe-alloy/dist/lib/dataElements/identityMap/createIdentityMap.js":{script:function(e){"use strict";e.exports=function(e){var t=e.logger;return function(e){return Object.keys(e).reduce((function(a,n){var r=e[n].filter((function(e,a){var r=e.id,o="string"==typeof r&&r.length;return o||t.log("The identifier at ".concat(n,"[").concat(a,"] was removed from the identity map because its ID is not a populated string. Its ID value is:"),r),o}));return r.length?a[n]=r:t.log("The ".concat(n," namespace was removed from the identity map because it contains no identifiers.")),a}),{})}}}},"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function r(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;a[n]=e[n]}return a}var o=["instanceName"],i=a("../../utils/clone");e.exports=function(e){var t=e.instanceManager,a=e.sendEventCallbackStorage,r=e.getConfigOverrides;return function(e){var s=e.instanceName,c=n(e,o);c.edgeConfigOverrides=r(c);var l=t.getInstance(s);if(!l)throw new Error('Failed to send event for instance "'.concat(s,'". No matching instance was configured with this name.'));return c.xdm&&(c.xdm=i(c.xdm)),c.data&&(c.data=i(c.data)),l("sendEvent",c).then((function(e){a.triggerEvent(e)}))}}}},"adobe-alloy/dist/lib/utils/clone.js":{script:function(e){"use strict";e.exports=function(e){return JSON.parse(JSON.stringify(e))}}},"adobe-alloy/dist/lib/events/sendEventComplete/createSendEventComplete.js":{script:function(e){"use strict";e.exports=function(e){var t=e.sendEventCallbackStorage;return function(e,a){t.add(a)}}}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPdea2007e025e4854a6b4ed545e844745/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/constant.js":{name:"constant",displayName:"Constant",script:function(e){"use strict";e.exports=function(e){return e.value}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-cookie");e.exports=function(e){return n.get(e.name)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/submit.js":{name:"submit",displayName:"Submit",script:function(e,t,a){"use strict";var n=a("./helpers/createBubbly")();document.addEventListener("submit",n.evaluateEvent,!0),e.exports=function(e,t){n.addListener(e,t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,a,n){"use strict";var r,o,i,s,c=a("@adobe/reactor-document"),l=a("@adobe/reactor-promise"),u=a("./helpers/decorateCode"),d=a("./helpers/loadCodeSequentially"),g=a("../../../node_modules/postscribe/dist/postscribe"),f=a("./helpers/unescapeHtmlCode"),p=a("../helpers/findPageScript").getTurbine,m=(o=function(e){g(c.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return r&&"script"===t&&(e.attrs.nonce=r),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=f(e.attrs[t])})),e.src&&(e.src=f(e.src))),e},error:function(e){n.logger.error(e.msg)}})},i=[],s=function(){if(c.body)for(;i.length;)o(i.shift());else setTimeout(s,20)},function(e){i.push(e),s()}),y=function(){if(c.currentScript)return c.currentScript.async;var e=p();return!e||e.async}();e.exports=function(e,t){var a;r=n.getExtensionSettings().cspNonce;var o={settings:e,event:t},i=o.settings.source;if(i)return o.settings.isExternal?d(i).then((function(e){return e?(a=u(o,e),m(a.code),a.promise):l.resolve()})):(a=u(o,i),y||"loading"!==c.readyState?m(a.code):c.write&&!1===n.propertySettings.ruleComponentSequencingEnabled?c.write(a.code):m(a.code),a.promise)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,a){"use strict";var n=a("../helpers/stringAndNumberUtils").isString,r=a("../helpers/stringAndNumberUtils").isNumber,o=a("../helpers/stringAndNumberUtils").castToStringIfNumber,i=a("../helpers/stringAndNumberUtils").castToNumberIfString,s=function(e,t){return t&&n(e)?e.toLowerCase():e},c=function(e){return function(t,a,r){return t=o(t),a=o(a),n(t)&&n(a)&&e(t,a,r)}},l=function(e){return function(t,a){return t=i(t),a=i(a),r(t)&&r(a)&&e(t,a)}},u=function(e){return function(t,a,n){return e(s(t,n),s(a,n))}},d={equals:u((function(e,t){return e==t})),doesNotEqual:function(){return!d.equals.apply(null,arguments)},contains:c(u((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!d.contains.apply(null,arguments)},startsWith:c(u((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!d.startsWith.apply(null,arguments)},endsWith:c(u((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!d.endsWith.apply(null,arguments)},matchesRegex:c((function(e,t,a){return new RegExp(t,a?"i":"").test(e)})),doesNotMatchRegex:function(){return!d.matchesRegex.apply(null,arguments)},lessThan:l((function(e,t){return e<t})),lessThanOrEqual:l((function(e,t){return e<=t})),greaterThan:l((function(e,t){return e>t})),greaterThanOrEqual:l((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return d[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,a,n){"use strict";var r={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var a=r[e];if(a){var o={identifier:e,detail:t};a.forEach((function(e){e(o)}));var i=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&i.push(t),n.logger.log.apply(n.logger,i)}else n.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var a=r[e.identifier];a||(a=r[e.identifier]=[]),a.push(t)}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,a){"use strict";var n=a("./helpers/createBubbly")(),r=[];e.exports=function(e,t){var a=e.type;-1===r.indexOf(a)&&(r.push(a),window.addEventListener(a,n.evaluateEvent,!0)),n.addListener(e,(function(e){e.nativeEvent.type===a&&(e.detail=e.nativeEvent.detail,t(e))}))}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerLibraryLoadedTrigger(t)}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,a){"use strict";var n=a("./weakMap"),r=a("./matchesProperties"),o=a("./matchesSelector");e.exports=function(){var e=[],t=new n,a={addListener:function(t,a){e.push({settings:t,callback:a})},evaluateEvent:function(a,n){if(e.length&&!t.has(a)){for(var i=a.target,s=!1;i;){for(var c=!1,l=!1,u=0;u<e.length;u++){var d=e[u],g=d.settings.elementSelector,f=d.settings.elementProperties;if((!1!==d.settings.bubbleFireIfChildFired||!s)&&(i===a.target||!1!==d.settings.bubbleFireIfParent)&&(i===a.target||g||f&&Object.keys(f).length)&&(!g||o(i,g))&&(!f||r(i,f))){var p={};n?Object.keys(a).forEach((function(e){p[e]=a[e]})):p.nativeEvent=a,p.element=i,p.target=a.target,!1!==d.callback(p)&&(l=!0,d.settings.bubbleStop&&(c=!0))}}if(c)break;l&&(s=!0),i=i.parentNode}t.set(a,!0)}},__reset:function(){e=[]}};return a}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window").WeakMap;if(void 0===n){var r=Object.defineProperty,o=Date.now()%1e9;(n=function(){this.name="__st"+(1e9*Math.random()>>>0)+o+++"__"}).prototype={set:function(e,t){var a=e[this.name];return a&&a[0]===e?a[1]=t:r(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=n}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,a){"use strict";var n=a("./../../helpers/textMatch"),r=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var a=r(e,t.name),o=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return n(a,o)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,a,n){"use strict";e.exports=function(e,t){var a=e.matches||e.msMatchesSelector;if(a)try{return a.call(e,t)}catch(e){return n.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,a){"use strict";var n=a("./decorators/decorateGlobalJavaScriptCode"),r=a("./decorators/decorateNonGlobalJavaScriptCode"),o={javascript:function(e,t){return e.settings.global?n(e,t):r(e,t)},html:a("./decorators/decorateHtmlCode")};e.exports=function(e,t){return o[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),r=a("./getSourceByUrl"),o=n.resolve();e.exports=function(e){var t=new n((function(t){var a=r(e);n.all([a,o]).then((function(e){var a=e[0];t(a)}))}));return o=t,
t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var a,n;a=this,n=function(){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=n(a(1));e.exports=r.default},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(){}function i(){var e=p.shift();if(e){var t=d.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,a){function n(e){e=a.beforeWrite(e),m.write(e),a.afterWrite(e)}(m=new u.default(e,a)).id=f++,m.name=a.name||m.id,c.streams[m.name]=m;var r=e.ownerDocument,s={close:r.close,open:r.open,write:r.write,writeln:r.writeln};l(r,{close:o,open:o,write:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(t.join("")+"\n")}});var d=m.win.onerror||o;return m.win.onerror=function(e,t,n){a.error({msg:e+" - "+t+": "+n}),d.apply(m.win,[e,t,n])},m.write(t,(function(){l(r,s),m.win.onerror=d,a.done(),m=null,i()})),m}function c(e,t,a){if(d.isFunction(a))a={done:a};else if("clear"===a)return p=[],m=null,void(f=0);a=d.defaults(a,g);var n=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,a];return e.postscribe={cancel:function(){n.stream?n.stream.abort():n[1]=o}},a.beforeEnqueue(n),p.push(n),m||i(),e.postscribe}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=c;var u=r(a(2)),d=n(a(4)),g={afterAsync:o,afterDequeue:o,afterStreamStart:o,afterWrite:o,autoFix:!0,beforeEnqueue:o,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:o,error:function(e){throw new Error(e.msg)},releaseAsync:!1},f=0,p=[],m=null;l(c,{streams:{},queue:p,WriteStream:u.default})},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var a=g+t,n=e.getAttribute(a);return u.existy(n)?String(n):n}function s(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=g+t;u.existy(a)&&""!==a?e.setAttribute(n,a):e.removeAttribute(n)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=r(a(3)),u=n(a(4)),d=!1,g="data-ps-",f="ps-style",p="ps-script",m=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.root=t,this.options=a,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new l.default("",{autoFix:a.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();u.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,a=void 0,n=void 0,r=[];(t=this.parser.readToken())&&!(a=u.isScript(t))&&!(n=u.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);r.length>0&&this._writeStaticTokens(r),a&&this._handleScriptToken(t),n&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,d&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),d&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,a=[],n=[],r=[],o=e.length,i=0;i<o;i++){var s=e[i],c=s.toString();if(a.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var l=t++;n.push(c.replace(/(\/?>)/," "+g+"id="+l+" $1")),s.attrs.id!==p&&s.attrs.id!==f&&r.push("atomicTag"===s.type?"":"<"+s.tagName+" "+g+"proxyof="+l+(s.unary?" />":">"))}}else n.push(c),r.push("endTag"===s.type?c:"")}return{tokens:e,raw:a.join(""),actual:n.join(""),proxy:r.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];u.existy(e=t.shift());){var a=1===e.nodeType;if(!a||!i(e,"proxyof")){a&&(this.actuals[i(e,"id")]=e,s(e,"id"));var n=e.parentNode&&i(e.parentNode,"proxyof");n&&this.actuals[n].appendChild(e)}t.unshift.apply(t,u.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,a=this.parser.clear();a&&this.writeQueue.unshift(a),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,f),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),u.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var a=this.doc.getElementById(t);a&&a.parentNode.replaceChild(e,a)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var a=this._buildScript(e),n=this._shouldRelease(a),r=this.options.afterAsync;e.src&&(a.src=e.src,this._scriptLoadHandler(a,n?r:function(){t(),r()}));try{this._insertCursor(a,p),a.src&&!n||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return u.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function a(){e=e.onload=e.onreadystatechange=e.onerror=null}function n(){a(),null!=t&&t(),t=null}function r(e){a(),i(e),null!=t&&t(),t=null}function o(e,t){var a=e["on"+t];null!=a&&(e["_on"+t]=a)}var i=this.options.error;o(e,"load"),o(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){r({msg:"onload handler failed "+t+" @ "+e.src})}n()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void r({msg:"onerror handler failed "+t+" @ "+e.src})}r({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&n()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=m},function(e){var t;t=function(){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=n(a(1));e.exports=r.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=r(a(2)),s=r(a(3)),c=n(a(6)),l=a(5),u={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},d=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.stream=a;var r=!1,s={};for(var l in i)i.hasOwnProperty(l)&&(n.autoFix&&(s[l+"Fix"]=!0),r=r||s[l+"Fix"]);r?(this._readToken=(0,c.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in u)if(u.hasOwnProperty(e)&&u[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var g in t.default=d,d.tokenToString=function(e){return e.toString()},d.escapeAttributes=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=(0,l.escapeQuotes)(e[a],null));return t},d.supports=i,i)i.hasOwnProperty(g)&&(d.browserHasFlaw=d.browserHasFlaw||!i[g]&&g)},function(e,t){"use strict";t.__esModule=!0;var a=!1,n=!1,r=window.document.createElement("div");try{var o="<P><I></P></I>";r.innerHTML=o,t.tagSoup=a=r.innerHTML!==o}catch(e){t.tagSoup=a=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=n=2===r.childNodes.length}catch(e){t.selfClose=n=!1}r=null,t.tagSoup=a,t.selfClose=n},function(e,t,a){"use strict";function n(e){var t=e.indexOf("-->");if(t>=0)return new l.CommentToken(e.substr(4,t-1),t+3)}function r(e){var t=e.indexOf("<");return new l.CharsToken(t>=0?t:e.length)}function o(e){var t,a,n;if(-1!==e.indexOf(">")){var r=e.match(u.startTag);if(r){var o=(t={},a={},n=r[2],r[2].replace(u.attr,(function(e,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",a[arguments[5]]=!0):t[r]=arguments[2]||arguments[3]||arguments[4]||u.fillAttr.test(r)&&r||"":t[r]="",n=n.replace(e,"")})),{v:new l.StartTagToken(r[1],r[0].length,t,a,!!r[3],n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===o?"undefined":c(o)))return o.v}}}function i(e){var t=o(e);if(t){var a=e.slice(t.length);if(a.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var n=a.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(n)return new l.AtomicTagToken(t.tagName,n[0].length+t.length,t.attrs,t.booleanAttrs,n[1])}}}function s(e){var t=e.match(u.endTag);if(t)return new l.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=n,t.chars=r,t.startTag=o,t.atomicTag=i,t.endTag=s;var l=a(4),u={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var r=a(5),o=(t.Token=function e(t,a){n(this,e),this.type=t,this.length=a,this.text=""},t.CommentToken=function(){function e(t,a){n(this,e),this.type="comment",this.length=a||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){n(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,a,r,o,i){n(this,e),this.type=t,this.length=r,this.text="",this.tagName=a,this.attrs=o,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="<"+e.tagName;for(var n in e.attrs)if(e.attrs.hasOwnProperty(n)){a+=" "+n;var o=e.attrs[n];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[n]||(a+='="'+(0,r.escapeQuotes)(o)+'"')}return e.rest&&(a+=" "+e.rest),e.unary&&!e.html5Unary?a+="/>":a+=">",null!=t&&(a+=t+"</"+e.tagName+">"),a},e}());t.StartTagToken=function(){function e(t,a,r,o,i,s){n(this,e),this.type="startTag",this.length=a,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=o,this.html5Unary=!1,this.unary=i,this.rest=s}return e.prototype.toString=function(){return o.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,a,r,o,i){n(this,e),this.type="atomicTag",this.length=a,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1,this.content=i}return e.prototype.toString=function(){return o.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,a){n(this,e),this.type="endTag",this.length=a,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=a},function(e,t){"use strict";function a(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function n(e,t){var n=e.stream,r=a(t());return e.stream=n,r}function r(e,t){var a=t.pop();e.prepend("</"+a.tagName+">")}function o(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,a=0;t=this[a];a++)if(t.tagName===e)return!0;return!1},e}function i(e,t,i){function s(){var t=n(e,i);t&&u[t.type]&&u[t.type](t)}var l=o(),u={startTag:function(a){var n=a.tagName;"TR"===n.toUpperCase()&&l.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&c.test(n)&&l.containsTagName(n)?l.lastTagNameEq(n)?r(e,l):(e.prepend("</"+a.tagName+">"),s()):a.unary||l.push(a)},endTag:function(a){l.last()?t.tagSoupFix&&!l.lastTagNameEq(a.tagName)?r(e,l):l.pop():t.tagSoupFix&&(i(),s())}};return function(){return s(),a(i())}}t.__esModule=!0,t.default=i;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function a(e){return null!=e}function n(e){return"function"==typeof e}function r(e,t,a){var n=void 0,r=e&&e.length||0;for(n=0;n<r;n++)t.call(a,e[n],n)}function o(e,t,a){for(var n in e)e.hasOwnProperty(n)&&t.call(a,n,e[n])}function i(e,t){return e=e||{},o(t,(function(t,n){a(e[t])||(e[t]=n)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(n){var t=(a=[],r(e,(function(e){a.push(e)})),{v:a});if("object"===(void 0===t?"undefined":g(t)))return t.v}var a}function c(e){return e[e.length-1]}function l(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function u(e){return l(e,"script")}function d(e){return l(e,"style")}t.__esModule=!0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=a,t.isFunction=n,t.each=r,t.eachKey=o,t.defaults=i,t.toArray=s,t.last=c,t.isTag=l,t.isScript=u,t.isStyle=d}])},"object"==typeof t&&"object"==typeof e?e.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof t?t.postscribe=n():a.postscribe=n()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document").createElement("div");e.exports=function(e){return n.innerHTML=e,n.textContent||n.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),r=function(e){for(var t=n.querySelectorAll("script"),a=0;a<t.length;a++){var r=t[a];if(e.test(r.src))return r}},o=function(){return r(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:o,byRegexPattern:r}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:n.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),r=0;e.exports=function(e,t){var a="_runScript"+ ++r,o=new n((function(t,r){_satellite[a]=function(o){delete _satellite[a],new n((function(t){t(o.call(e.event.element,e.event,e.event.target,n))})).then(t,r)}}));return{code:'<script>_satellite["'+a+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:o}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-promise"),o=0,i={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=i[e];t&&(delete i[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=i[e];t&&(delete i[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},l=function(e){return e.settings.isExternal};e.exports=function(e,t){var a;return l(e)&&(t=n.replaceTokens(t,e.event)),s(t)?(a=new r((function(e,t){i[String(o)]={resolve:e,reject:t}})),t=c(t,o),o+=1):a=r.resolve(),{code:t,promise:a}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-load-script"),r=a("@adobe/reactor-promise"),o=a("../../helpers/findPageScript").byRegexPattern,i={},s={},c=function(e){return s[e]||(s[e]=n(e)),s[e]};_satellite.__registerScript=function(e,t){var a;if(document.currentScript)a=document.currentScript.getAttribute("src");else{var n=new RegExp(".*"+e+".*");a=o(n).getAttribute("src")}i[a]=t},e.exports=function(e){return i[e]?r.resolve(i[e]):new r((function(t){c(e).then((function(){t(i[e])}),(function(){t()}))}))}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},a=function(e){return"string"==typeof e||e instanceof String},n=function(e){return t(e)?String(e):e},r=function(e){return a(e)?Number(e):e};e.exports={isNumber:t,isString:a,castToStringIfNumber:n,castToNumberIfString:r}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),r=a("@adobe/reactor-document"),o=-1!==n.navigator.appVersion.indexOf("MSIE 10"),i="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",l=[c,s,i],u=function(e,t){return{element:e,target:e,nativeEvent:t}},d={};l.forEach((function(e){d[e]=[]}));var g=function(e,t){l.slice(0,p(e)+1).forEach((function(e){m(t,e)}))},f=function(){return"complete"===r.readyState?i:"interactive"===r.readyState?o?null:s:void 0},p=function(e){return l.indexOf(e)},m=function(e,t){d[t].forEach((function(t){y(e,t)})),d[t]=[]},y=function(e,t){var a=t.trigger,n=t.syntheticEventFn;a(n?n(e):null)};n._satellite=n._satellite||{},n._satellite.pageBottom=g.bind(null,c),r.addEventListener("DOMContentLoaded",g.bind(null,s),!0),n.addEventListener("load",g.bind(null,i),!0),n.setTimeout((function(){var e=f();e&&g(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){d[c].push({trigger:e})},registerDomReadyTrigger:function(e){d[s].push({trigger:e,syntheticEventFn:u.bind(null,r)})},registerWindowLoadedTrigger:function(e){d[i].push({trigger:e,syntheticEventFn:u.bind(null,n)})}}}}}},"onetrust-consent-management-for-cookies":{displayName:"OneTrust Consent Management for Cookies",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP56475044e122457889b23eae24de6c35/",settings:{otConfiguration:{adobeCat_0:"AAM",adobeCat_1:"ADCLOUD",adobeCat_2:"ANALYTICS",adobeCat_3:"CAMPAIGN",adobeCat_4:"ECID",adobeCat_5:"LIVEFYRE",adobeCat_6:"TARGET",adobeCat_7:"MEDIA_ANALYTICS",variableId_0:"",variableId_1:"",variableId_2:"",variableId_3:"",variableId_4:"",variableId_5:"",variableId_6:"",variableId_7:""}},modules:{"onetrust-consent-management-for-cookies/src/lib/conditions/performancecookiesactive.js":{name:"performancecookiesactive",displayName:"Performance Cookies Active",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window");e.exports=function(e){return n.OnetrustActiveGroups.indexOf(e.activeGroupFieldValue)>-1}}},"onetrust-consent-management-for-cookies/src/lib/conditions/configuration.js":{script:function(e,t,a,n){"use strict";function r(){if("undefined"!=typeof OnetrustActiveGroups&&"undefined"!=typeof adobe){var e=n.getExtensionSettings().otConfiguration,t=Object.keys(e).length/2;void 0!==adobe.optIn&&(o(e,t),addEventListener("consent.onetrust",(function(){o(e,t)})))}}function o(e,t){adobe.optIn.denyAll();for(var a=0;a<t;a++){var n=e["adobeCat_"+a],r=e["variableId_"+a];""!=r.trim()&&-1!==OptanonActiveGroups.indexOf(r)&&adobe.optIn.approve(adobe.OptInCategories[n],!1)}}window.addEventListener("load",r,!1)}}}}},company:{orgId:"114744A66135CF9B0A495FEB@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"Real Madrid",settings:{domains:["realmadridnext.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!0},id:"PR627fd8eb9a624439acba67151698591d"},rules:[{id:"RL046e0cf300184aa59c45dfe03ed8fb18",name:"Event Listener | Area VIP Forms| Page Top | Submit Form | [ADCL push formSubmit]",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:".contact, .ng-touched",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return-1!=location.pathname.indexOf("/area-vip/contacto")||-1!=location.pathname.indexOf("/area-vip/temporada-vip/formulario")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC4c4c6e0253e8454692d4b0d15eda22fa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL075d0c68f1b14eb68ffcd42928c66a00",name:"Page Load Track | All Pages | Direct Call pageLoad | Send pageView spa event | [Web SDK, ContentSquare, Third-party tags]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageLoad"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("oneTrust:applies")&&_satellite.getVar("oneTrust:loaded")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:webPageDetails:pageLoadType%",rightOperand:"spa"},timeout:2e3},{modulePath:"onetrust-consent-management-for-cookies/src/lib/conditions/performancecookiesactive.js",settings:{activeGroupFieldValue:"C0002"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:pageViews%",type:"web.webpagedetails.pageViews",instanceName:"alloy",renderDecisions:!0},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC24065f0abaab4e6d8870c0947ea58ca6-source.min.js",language:"javascript",isExternal:!0},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC91fe3140c79f424cbb82be6dfa952e21-source.min.js",language:"javascript",isExternal:!0},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC446d4a9f447c457cb14e77e9142a63f4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0895b8482c7c4235bbb825db08e1d055",name:"Event Track | All Pages | ACDL videoProgress | Send videoProgress event | [Web SDK]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"videoProgress"},ruleOrder:50}],conditions:[{modulePath:"onetrust-consent-management-for-cookies/src/lib/conditions/performancecookiesactive.js",settings:{activeGroupFieldValue:"C0002"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:videoProgressEvents%",type:"web.webInteraction.videoProgress",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC48dcbbc37ff648e6ae590f4f7f80c56d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0d8634e903cf46f3b7f65b4893f58b30",name:"Event Listener | RMTV | Custom Event RMTagManagerPageLoadTracked | RMTV Video Play | [ADCL push videoPlay]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerPageLoadTracked",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:webPageDetails:pageName%",rightOperand:"realmadrid:rmtv"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RCd640c18ce71e47a6a379ea4a8cea0140-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1996bf6cf9874a0ea1e1458ec8023145",name:"Event Track | All Pages | ACDL formSubmit | Send formSubmit event | [Web SDK, Third-party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"formSubmit"},ruleOrder:50}],conditions:[{modulePath:"onetrust-consent-management-for-cookies/src/lib/conditions/performancecookiesactive.js",settings:{activeGroupFieldValue:"C0002"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:formSubmitEvents%",type:"web.webInteraction._realmadrid.eventCounter.formSubmit",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC499ef83197c640e6bda20f0162243e47-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL220fc75be2754d27961065ae50e709dd",name:"02 | All Pages | Direct Call pageLoadConsents | Consents Control | [Direct Call pageLoad]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageLoadConsents"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC5f083c5ef5a24781a655967e87b0a7f9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b7a2c2e10c044bdb55ef819afe07c23",name:"Event Listener | All Pages | Custom Event | Video events | [ACDL push video events]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerPageLoadTracked",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%dataLayer:webPageDetails:pageName%",rightOperand:"realmadrid:rmtv"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC5119ff1e115f4c888782511ebce8b181-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5f4468cfd14f4a18a5e1deb3e97a1539",name:"Page Load Listener | All Pages | Custom Event RMTagManagerLoaded OR ACDL pageLoad | Sequential Page View | [Trigger Direct Call pageLoadConsents]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerLoaded",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageLoad"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!0===RMTagManager.loaded}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"sequential"==_satellite.getVar("dataLayer:webPageDetails:pageLoadType")}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!1===RMTagManager.trackedPV}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RCc2064188775f492d95e63b6c450073ff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6721909db7f541d29be37576af2ec2e0",name:"Event Track | All Pages | ACDL buttonClick | Send buttonClick event | [Web SDK, Third-party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"buttonClick"},ruleOrder:50}],conditions:[{modulePath:"onetrust-consent-management-for-cookies/src/lib/conditions/performancecookiesactive.js",settings:{activeGroupFieldValue:"C0002"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:buttonEvents%",type:"web.webInteraction.buttonClick",instanceName:"alloy"},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RCce4491ea6a8946188ecf6b3f2a65f15e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8f019f64a56a49ccad5587459be4e8e1",name:"Event Track | All Pages | ACDL videoComplete | Send videoComplete event | [Web SDK]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"videoComplete"},ruleOrder:50}],conditions:[{modulePath:"onetrust-consent-management-for-cookies/src/lib/conditions/performancecookiesactive.js",settings:{activeGroupFieldValue:"C0002"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:videoCompleteEvents%",type:"web.webInteraction.videoComplete",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RCc3e064d99ff6443bb0cf0db6cd0b1fca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL920f5882ffa44014bf56296148a9a17d",
name:"Event Listener | All Pages | Custom Event RMTagManagerPageLoadTracked | Download Links | [ADCL push linkClick]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerPageLoadTracked",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC0e2db33d9b0e45cea5bebedeea0e15d6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9fe44ee454d44a02aced4ce64299c9a3",name:"Page Load Listener | All Pages | ACDL pageLoad | SPA Page View | [Trigger Direct Call pageLoadConsents]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageLoad"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!0===RMTagManager.loaded}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:webPageDetails:pageLoadType%",rightOperand:"spa"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC5cf1df39e1304649b0dd4e912ad33fee-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa3a19f5ff39c40c08cfa3b730c713b69",name:"Event Track | All Pages | ACDL linkClick | Send linkClick event | [Web SDK, Third-party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"linkClick"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return-1!=_satellite.getVar("dataLayer:user:userOneTrustPreferences").indexOf("analytics:1")}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:linkEvents%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RCb1308a12b0be4a6e95926b63b0a97136-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaaa5655b7a374d71be1cc86e968d6b23",name:"Event Track | All Pages | ACDL videoPlay | Send videoPlay event | [Web SDK]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"videoPlay"},ruleOrder:50}],conditions:[{modulePath:"onetrust-consent-management-for-cookies/src/lib/conditions/performancecookiesactive.js",settings:{activeGroupFieldValue:"C0002"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:videoPlayEvents%",type:"web.webInteraction.videoPlay",instanceName:"alloy"},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC8a9af553050f4c55b623a955451ebe4f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLac10e5062f8a42988d8d6f320843490a",name:"01 | All Pages | Page Top | RMTagManager Lib | [Custom Event RMTagManagerLoaded]",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:2}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'window.RMTagManager = {\n\tversion: "launch-rm-3.0.5",\n    environment: _satellite.environment.stage,\n    loaded: false,\n    trackedPV: false,\n\tintervalsActive: [],\n\tvideosActive: [],\n    adobeUserID: "",\n    eventID: "",\n\tinit: function(){\n        for(var tool in this.tools)\n            if(typeof this.tools[tool].init == "function")\n                this.tools[tool].init();\n        \n        this.loaded = true;\n        window.dispatchEvent(new Event("RMTagManagerLoaded"));\n        \n    },\n\ttrackPV: function(){\n\t\tfor(var tool in this.tools){\n\t\t\tif(typeof this.tools[tool].trackPV == "function"){\n\t\t\t\tthis.tools[tool].trackPV();\n\t\t\t}\n\t\t}\n\t},\n\ttrackAsyncPV: function(){\n\t\tfor(var tool in this.tools){\n\t\t\tif(typeof this.tools[tool].trackAsyncPV == "function"){\n\t\t\t\tthis.tools[tool].trackAsyncPV();\n\t\t\t}\n\t\t}\n\t},\n\ttrackEvent: function(eventName, data){\n\t\tfor(var tool in this.tools){\n\t\t\tif(typeof this.tools[tool].trackEvent == "function"){\n\t\t\t\tthis.tools[tool].trackEvent(eventName, data);\n\t\t\t}\n\t\t}\n\t},\n\tdataLayer: {\n\t\t/**\n\t\t* Funci\xf3n que autocalcula todos los valores del dataLayer a trav\xe9s del dataLayer de GTM\n\t\t* @param url string url completa de la p\xe1gina actual\n \t\t* @return object objeto con todos los valores del Data Layer autocalculados\n \t\t**/\n\t\tgetDataLayerInfo: function(url){\n\n\t\t\tif(typeof url == "undefined")\n\t\t\t\turl = location.href;\n\n\t\t\t//user Info\n\t\t\tvar userInfo = this.getUserInfo();\n\n\t\t\t//Url actual info\n\t\t\tvar urlInfo = this.getUrlInfo(location.href);\n\n\t\t\t//Referrer info\n\t\t\tvar referrerInfo = this.getUrlInfo(document.referrer);\n\n\t\t\tvar dataLayerInfo = {\n\t\t\t\t"pagePath": urlInfo.pagePath,\n\t\t\t\t"pageTopDomain": urlInfo.pageTopDomain,\n\t\t\t\t"pageDomain": urlInfo.pageDomain,\n\t\t\t\t"pageURL": urlInfo.pageURL,\n\t\t\t\t"pageAnchor": urlInfo.pageAnchor,\n\t\t\t\t"previousPagePath": referrerInfo.pagePath,\n\t\t\t\t"previousPageURL": referrerInfo.pageURL,\n\t\t\t\t"referrer": referrerInfo.pageURL,\n\t\t\t\t"pageLang": "",\n\t\t\t\t"country": "",\n\t\t\t\t"cms": "aem",\n\t\t\t\t"pageSection": "desconocido",\n\t\t\t\t"pageType": "",\n\t\t\t\t"pageLevel1": "",\n\t\t\t\t"pageLevel2": "",\n\t\t\t\t"pageLevel3": "",\n\t\t\t\t"pageMoment": "",\n\t\t\t\t"pageName": "realmadrid",\n\t\t\t\t"newsName": "",\n\t\t\t\t"newsTitle": "",\n\t\t\t\t"newsUrl": "",\n\t\t\t\t"newsDate": "",\n\t\t\t\t"newsAuthor": "",\n\t\t\t\t"newsCategory": "",\n\t\t\t\t"newsType": "",\n\t\t\t\t"matchTitle": "",\n\t\t\t\t"matchTournament": "",\n\t\t\t\t"userLoginStatus": userInfo.userLoginStatus,\n\t\t\t\t"userLoyaltyStatus": userInfo.userLoyaltyStatus,\n\t\t\t\t"userAge": userInfo.userAge,\n\t\t\t\t"idpID": userInfo.idpID,\n\t\t\t\t"userGender": userInfo.userGender,\n\t\t\t\t"userOneTrustPreferences": userInfo.userOneTrustPreferences,\n                "viewName": urlInfo.pagePath\n\t\t\t};\n\n\t\t\treturn dataLayerInfo;\n\t\t},\n        /**\n        * Funci\xf3n que actualiza los valores espec\xedficos del objeto adobeDataLayer con los datos proporcionados,\n        * @param {object} data - Objeto que contiene los datos a actualizar en el dataLayer.\n        * @returns {object} - Objeto actualizado con los valores proporcionados o los valores\n        *                    almacenados en Launch en caso de que los datos no est\xe9n presentes.\n        */\n        updateDataLayerInfo: function (data) {\n\n            return {\n                "webPageDetails": {\n                    "pageLang": data.hasOwnProperty("pageLang") ? data.pageLang : _satellite.getVar("dataLayer:webPageDetails:pageLang"),\n                    "country": data.hasOwnProperty("country") ? data.country : _satellite.getVar("dataLayer:webPageDetails:country"),\n                    "cms": data.hasOwnProperty("cms") ? data.cms : _satellite.getVar("dataLayer:webPageDetails:cms"),\n                    "pageSection": data.hasOwnProperty("pageSection") ? data.pageSection : _satellite.getVar("dataLayer:webPageDetails:pageSection"),\n                    "pageType": data.hasOwnProperty("pageType") ? data.pageType : _satellite.getVar("dataLayer:webPageDetails:pageType"),\n                    "pageLevel1": data.hasOwnProperty("pageLevel1") ? data.pageLevel1 : _satellite.getVar("dataLayer:webPageDetails:pageLevel1"),\n                    "pageLevel2": data.hasOwnProperty("pageLevel2") ? data.pageLevel2 : _satellite.getVar("dataLayer:webPageDetails:pageLevel2"),\n                    "pageLevel3": data.hasOwnProperty("pageLevel3") ? data.pageLevel3 : _satellite.getVar("dataLayer:webPageDetails:pageLevel3"),\n                    "pageLevel4": data.hasOwnProperty("pageLevel4") ? data.pageLevel4 : _satellite.getVar("dataLayer:webPageDetails:pageLevel4"),\n                    "pageMoment": data.hasOwnProperty("pageMoment") ? data.pageMoment : _satellite.getVar("dataLayer:webPageDetails:pageMoment"),\n                    "pageName": data.hasOwnProperty("pageName") ? data.pageName : _satellite.getVar("dataLayer:webPageDetails:pageName"),\n                    "newsName": data.hasOwnProperty("newsName") ? data.newsName : _satellite.getVar("dataLayer:webPageDetails:newsName"),\n                    "newsTitle": data.hasOwnProperty("newsTitle") ? data.newsTitle : _satellite.getVar("dataLayer:webPageDetails:newsTitle"),\n                    "newsUrl": data.hasOwnProperty("newsUrl") ? data.newsUrl : _satellite.getVar("dataLayer:webPageDetails:newsUrl"),\n                    "newsDate": data.hasOwnProperty("newsDate") ? data.newsDate : _satellite.getVar("dataLayer:webPageDetails:newsDate"),\n                    "newsAuthor": data.hasOwnProperty("newsAuthor") ? data.newsAuthor : _satellite.getVar("dataLayer:webPageDetails:newsAuthor"),\n                    "newsCategory": data.hasOwnProperty("newsCategory") ? data.newsCategory : _satellite.getVar("dataLayer:webPageDetails:newsCategory"),\n                    "newsType": data.hasOwnProperty("newsType") ? data.newsType : _satellite.getVar("dataLayer:webPageDetails:newsType"),\n                    "matchTitle": data.hasOwnProperty("matchTitle") ? data.matchTitle : _satellite.getVar("dataLayer:webPageDetails:matchTitle"),\n                    "matchTournament": data.hasOwnProperty("matchTournament") ? data.matchTournament : _satellite.getVar("dataLayer:webPageDetails:matchTournament"),\n                    "canonicalURL": data.hasOwnProperty("canonicalURL") ? data.canonicalURL : _satellite.getVar("dataLayer:webPageDetails:canonicalURL"),\n                    "canonicalURLValid": data.hasOwnProperty("canonicalURLValid") ? data.canonicalURLValid : _satellite.getVar("dataLayer:webPageDetails:canonicalURLValid"),\n                    "brandedContent": data.hasOwnProperty("brandedContent") ? data.brandedContent : _satellite.getVar("dataLayer:webPageDetails:brandedContent"),\n                    "viewName": data.hasOwnProperty("viewName") ? data.viewName : _satellite.getVar("dataLayer:webPageDetails:viewName")\n                },\n                "webReferrer":{\n                    "previousPagePath": data.hasOwnProperty("previousPagePath") ? data.previousPagePath : _satellite.getVar("dataLayer:webReferrer:previousPagePath"),\n                    "previousName": data.hasOwnProperty("canonicalURLValid") ? data.previousName : _satellite.getVar("dataLayer:webReferrer:previousName"),\n                    "previousPageURL": data.hasOwnProperty("previousPageURL") ? data.previousPageURL : _satellite.getVar("dataLayer:webReferrer:previousPageURL"),\n                    "referrer": data.hasOwnProperty("referrer") ? data.referrer : document.referrer\n                }\n            }\n\n        },\n\t\t/**\n \t\t* Funci\xf3n auxiliar usada desde getDataLayerInfo para autocalcular la informaci\xf3n de la sesi\xf3n de usuario a trav\xe9s de la cookie "usuario"\n \t\t* @return {object} datos del usuario, en caso de no tener sesi\xf3n devuelve los valores por defecto\n \t\t*/\n\t\tgetUserInfo: function () {\n\n\t\t\tvar userInfo = {\n\t\t\t\t"userLoginStatus": "not_authenticated",\n\t\t\t\t"userLoyaltyStatus": "",\n\t\t\t\t"userAge": "",\n\t\t\t\t"idpID": "",\n\t\t\t\t"userGender": "",\n\t\t\t\t"userCategory": "",\n\t\t\t\t"userOneTrustPreferences": this.getUserOneTrustPreferences()\n\t\t\t};\n\n\t\t\tvar lsData = JSON.parse(RMTagManager.utils.localStorage.getItem("RM", false));\n\t\t\tvar accessToken = lsData && lsData["rm-session"] && lsData["rm-session"].accessToken ? lsData["rm-session"].accessToken : null;\n\n\t\t\t// Verificar si existe informaci\xf3n de sesi\xf3n en localStorage\n\t\t\tif (lsData !== null && lsData.hasOwnProperty("rm-session") && lsData["rm-session"].hasOwnProperty("user")) {\n\n\t\t\t\tvar idpID = lsData["rm-session"].user.id || "";\n\t\t\t\tvar gender = lsData["rm-session"].user.gender || "";\n\t\t\t\tvar loyaltyStatus = lsData["rm-session"].user.tier || "";\n\n\t\t\t\t// Fan subType - Parche para Junior\n\t\t\t\tloyaltyStatus = loyaltyStatus == "madridista_free" && lsData["rm-session"].user.hasOwnProperty("fanSubType") && lsData["rm-session"].user.fanSubType == "junior" ? "madridista_junior" : loyaltyStatus;\n\n\t\t\t\t// Edad\n\t\t\t\tvar birthDate = lsData["rm-session"].user.birthDateTime || "";\n\t\t\t\tlet fechaNacimientoObj = new Date(birthDate); // Crear un objeto de fecha con la fecha de nacimiento\n\t\t\t\tlet fechaActual = new Date();  // Obtener la fecha actual\n\t\t\t\tlet diferenciaMilisegundos = fechaActual - fechaNacimientoObj; // Calcular la diferencia en milisegundos entre la fecha actual y la fecha de nacimiento\n\t\t\t\tlet edad = Math.floor(diferenciaMilisegundos / (1000 * 60 * 60 * 24 * 365.25)); // Calcular la edad en a\xf1os redondeando hacia abajo\n\n\t\t\t\t// userCategory\n\t\t\t\tif (RMTagManager.utils.getQueryParam("adbLaunchQA") != "") {\n\t\t\t\t\tuserInfo.userCategory = RMTagManager.utils.getQueryParam("adbLaunchQA");\n\t\t\t\t\tRMTagManager.utils.localStorage.setItem("adb_testerUser", userInfo.userCategory);\n\t\t\t\t} else {\n\t\t\t\t\t// Tester users\n\t\t\t\t\tvar empUser = RMTagManager.utils.localStorage.getItem("adb_testerUser");\n\t\t\t\t\tif (empUser)\n\t\t\t\t\t\tuserInfo.userCategory = empUser;\n\t\t\t\t}\n\n\t\t\t\t// Actualizamos variables\n\t\t\t\tuserInfo.userLoginStatus = idpID !== "" ? "authenticated" : "not_authenticated";\n\t\t\t\tuserInfo.userLoyaltyStatus = loyaltyStatus;\n\t\t\t\tuserInfo.idpID = idpID;\n\t\t\t\tuserInfo.userGender = gender;\n\t\t\t\tuserInfo.userAge = edad;\n\n\t\t\t} else if (accessToken) {\n\t\t\t\t// Si no hay informaci\xf3n de usuario en lsData, intentamos obtenerla del accessToken\n\t\t\t\tvar decodedToken = RMTagManager.utils.parseJwt(accessToken);\n\t\t\t\tif (decodedToken) {\n\t\t\t\t\tuserInfo.userLoginStatus = "authenticated";\n\t\t\t\t\tuserInfo.idpID = decodedToken.sub + "@realmadridb2cprd.onmicrosoft.com" || "";\n\t\t\t\t\tuserInfo.userGender = decodedToken.gender || ""; //No existe en el token\n\t\t\t\t\tuserInfo.userLoyaltyStatus = decodedToken.tier || ""; //No existe en el token\n\t\t\t\t\tuserInfo.userAge = ""; //No existe en el token\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//adobeUserID\n\t\t\tthis.getUserECID();\n\n\t\t\treturn userInfo;\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n que extrae informaci\xf3n de una URL pasada por par\xe1metro\n\t\t* Devolver\xe1 los valores: pageURL (URL completa), pageAnchor (Ancla), pagePath (path), pageDomain (dominio completo), topDomain (dominio principal .com)\n\t\t* @param url URL completa\n\t\t* @return object con la informaci\xf3n extra\xedda\n\t\t**/\n        getUrlInfo: function(url){\n          \n\t\t\tvar urlInfo = {\n                "pagePath": "",\n                "pageFullPath": "",\n                "pageTopDomain": "",\n                "pageDomain": "",\n                "baseDomain": "",\n                "pageURL": "",\n                "pageAnchor": ""\n            };\n\n            if (typeof url == "undefined" || url == "")\n                return urlInfo;\n\n            let domain = /http.?:\\/\\/([^\\/]*)/.exec(url);\n\n            //C\xe1lculo de baseDomain\n            let hostname;\n            let baseDomain;\n            try {\n                const url = new URL(url);\n                hostname = url.hostname;\n            } catch (error) {\n                // Si no se puede analizar como URL, intentamos extraer el hostname usando una expresi\xf3n regular\n                const match = url.match(/^(?:(?:https?|ftp):\\/\\/)?(?:[^@\\n]+@)?(?:www\\.)?([^:\\/\\n?]+)/i);\n                hostname = match ? match[1] : url;\n            }\n\n            // Divide el hostname en partes usando el car\xe1cter punto (.) como separador\n            const partesDelDominio = hostname.split(\'.\');\n\n            // Si hay al menos dos partes, devuelve las \xfaltimas dos partes unidas con un punto\n            if (partesDelDominio.length >= 2) {\n                baseDomain = partesDelDominio.slice(-2).join(\'.\');\n            } else {\n                // Si no hay al menos dos partes, devuelve el hostname completo\n                baseDomain = hostname;\n            }\n\n            //URLs incorrectas\n            if (!domain)\n                return urlInfo;\n\n            urlInfo.pageURL = url;\n            urlInfo.pagePath = url.replace(/http.?:\\/\\/[^\\/]*/, "").replace(/[\\?#].*?$/g, "");\n            urlInfo.pageFullPath = url.replace(/http.?:\\/\\/[^\\/]*/, "");\n            urlInfo.pageDomain = domain != null ? domain[1] : location.host;\n            urlInfo.pageTopDomain = domain != null ? domain[1].substr(location.host.lastIndexOf(".")) : location.host.substr(location.host.lastIndexOf("."));\n            urlInfo.baseDomain = baseDomain;\n            urlInfo.pageAnchor = (url.indexOf("#") != -1) ? url.substr(url.indexOf("#") + 1).replace(/[\\?].*?$/g, "") : "";\n\n            return urlInfo;\n        },\n        /**\n        * Funci\xf3n para obtener la URL canonical de la p\xe1gina.\n        * Itera sobre los elementos <link> del documento y busca el que tiene el atributo \'rel\' con el valor \'canonical\'.\n        * Si encuentra un enlace con el atributo \'rel\' igual a \'canonical\', devuelve su URL.\n        * Si no se encuentra ninguna URL canonical, devuelve null.\n        * @return {string|null} La URL canonical de la p\xe1gina o null si no se encuentra.\n        */\n        getCanonicalURL: function () {\n            var canonicalLink = document.querySelector("link[rel=\'canonical\']");\n            if (canonicalLink) {\n                return canonicalLink.getAttribute(\'href\');\n            }\n            return null; // Si no se encuentra ninguna URL canonical\n        }\n        ,\n        /**\n        * Funci\xf3n que calcula un identificador \xfanico de evento.\n        * Se calcula concatenando un timestamp, un random y el ECID del usuario mediante "_" y codificandolo a sha256.\n        * @return eventID string\n        **/\n        getEventID: function(){\n\n        \t// Valor de prueba para adobeUserID\n\t\t\tvar adobeUserID = RMTagManager.adobeUserID;\n\n\t\t\t// Obtener el timestamp actual en milisegundos\n\t\t\tvar timestamp = Date.now().toString();\n\n\t\t\t// Generar un n\xfamero aleatorio de 8 d\xedgitos\n\t\t\tvar randomNum = Math.floor(10000000 + Math.random() * 90000000).toString();\n\n\t\t\t// Concatenar timestamp, n\xfamero aleatorio y adobeUserID\n\t\t\tvar concatenatedString = timestamp + "_" + randomNum + (adobeUserID != "" ? ("_" + adobeUserID) : "");\n\n\t\t\t// Hashear la cadena concatenada utilizando la funci\xf3n encoder\n\t\t\tvar eventID = RMTagManager.utils.sha256(concatenatedString);\n\n\t\t\tRMTagManager.eventID = eventID;\n\n\t\t\treturn eventID;\n\n        },\n\t\t/**\n        * Funci\xf3n que recupera el ECID (identificador de Adobe) haciendo uso del objeto alloy\n        * Funci\xf3n as\xedncrona, el valor se recupera mediante Promise.\n        * Lo dejamos en una property del obketo RMTagManager\n        **/\n        getUserECID: function(){\n\n        \tif(typeof alloy != "undefined"){\n        \t \t\n        \t \talloy("getIdentity").then(function(result) {\n        \t \t\tRMTagManager.adobeUserID = result.identity.ECID;\n        \t \t});\n\n        \t}\n        },\n\t\t/**\n\t\t* Funci\xf3n que calcula los valores de la URL anterior\n\t\t* Depender\xe1 de si la p\xe1gina cargada lo ha hecho de forma secuencial o por SPA\n\t\t* Si lo ha hecho de forma secuencial se extraer\xe1 la informaci\xf3n del document.referrer\n\t\t* Si lo ha hecho por SPA se extraer\xe1 del propio Data Layer, se recoge la \xfaltima URL marcada\n\t\t* @param pageLoadType string con el tipo de carga de p\xe1gina: "sequential" (por defecto) o "spa"\n\t\t* @return object con la informaci\xf3n sobre la URL previa: previousPagePath, previousPageURL y previousPageName (solo para SPA)\n\t\t**/\n\t\tgetReferrerInfo: function(pageLoadType){\n\n            var previousPageURL = "";\n\t\t\tvar referrerInfo = {};\n\t\t\tvar previousName = "";\n\t\t\tvar previousPagePath = "";\n\n\t\t\tvar referrer = document.referrer;\n\t\t\tvar referrerDomain = RMTagManager.dataLayer.getUrlInfo(referrer).baseDomain;\n\t\t\tvar currentDomain = RMTagManager.dataLayer.getUrlInfo(location.href).baseDomain;\n\n\t\t\t//Secuencial, se toma el document.referrer\n\t\t\tif ((typeof pageLoadType == "undefined" || pageLoadType === "sequential") && !RMTagManager.trackedPV) {\n\n\t\t\t\tpreviousPageURL = referrer;\n\n\t\t\t\tif (!referrer) {\n\t\t\t\t\t// Referer desconocido o directo (El usuario ingres\xf3 directamente la URL o la p\xe1gina est\xe1 en marcadores)\n\t\t\t\t\tpreviousPagePath = "";\n\t\t\t\t\tpreviousName = "";\n\n\t\t\t\t} else if (referrerDomain == currentDomain) {\n\t\t\t\t\t// Referer interno o subdominio\n\t\t\t\t\tpreviousPagePath = RMTagManager.dataLayer.getUrlInfo(previousPageURL).pagePath;\n\t\t\t\t\tpreviousName = RMTagManager.utils.getCookie(\'currentPageName\') !== null ? RMTagManager.utils.getCookie(\'currentPageName\') : "";\n\n\t\t\t\t} else {\n\t\t\t\t\t// Desde una p\xe1gina web externa desconocida\n\t\t\t\t\tpreviousPagePath = "";\n\t\t\t\t\tpreviousName = "";\n\t\t\t\t}\n\n\t\t\t\t//SPA, se toma la \xfaltima URL medida del Data Layer\n\t\t\t} else {\n\n\t\t\t\tpreviousPageURL = _satellite.getVar("dataLayer:webPageDetails:previousPageURL") ? _satellite.getVar("dataLayer:webPageDetails:previousPageURL") : (RMTagManager.utils.getCookie(\'currentPageURL\') !== null ? RMTagManager.utils.getCookie(\'currentPageURL\') : "");\n\t\t\t\tpreviousPagePath = RMTagManager.dataLayer.getUrlInfo(previousPageURL).pagePath;\n\t\t\t\tpreviousName = RMTagManager.utils.getCookie(\'currentPageName\') !== null ? RMTagManager.utils.getCookie(\'currentPageName\') : "";\n\t\t\t}\n\n\n\t\t\treferrerInfo = {\n\t\t\t\tpreviousPagePath: previousPagePath,\n\t\t\t\tpreviousName: previousName,\n\t\t\t\tpreviousPageURL: previousPageURL\n\t\t\t};\n\n\t\t\treturn referrerInfo;\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n que lee los consentimientos de los pr\xf3positos de OneTrust y los devuelve en formato string\n\t\t* El formato siempre es: "analytics:[0|1]|social:[0|1]|personalization:[0|1]|strictlycookies:[0|1]"\n\t\t* Si no se encuentran los consentimientos, se devolver\xe1 cadena vac\xeda\n\t\t* @return string con los consentimientos formateados\n\t\t**/\n\t\tgetUserOneTrustPreferences: function(){\n\n\t\t\tvar oneTrustPreferences = "";\n\n\t\t\tif(typeof OptanonActiveGroups == "undefined")\n\t\t\t\treturn oneTrustPreferences;\n\n\t\t\toneTrustPreferences = "analytics:" + (OptanonActiveGroups.indexOf("C0002") !== -1 ? "1" : "0");\n\t\t\toneTrustPreferences += "|social:" + (OptanonActiveGroups.indexOf("C0005") !== -1 ? "1" : "0");\n\t\t\toneTrustPreferences += "|personalization:" + (OptanonActiveGroups.indexOf("C0004") !== -1 ? "1" : "0");\n\t\t\toneTrustPreferences += "|strictlycookies:" + (OptanonActiveGroups.indexOf("C0001") !== -1 ? "1" : "0");\n\n\t\t\treturn oneTrustPreferences;\n\t\t}\n\t},\n    listeners:{\n\t\tvideo: function () {\n\n\t\t\tvar videoPlayerList = document.querySelectorAll("video.video-js, video.s7videoelement, video.vjs-tech");\n\t  \n            for (var i = 0; i < videoPlayerList.length; i++) {\n                (function () { //Metemos todo dentro de una funci\xf3n an\xf3nima para que no se sobreescriba videoPlayerList y se produzcan errores\n                    var videoPlayer = videoPlayerList[i];\n                    var videoType = (videoPlayer.getAttribute("id") !== null && /rmTv__home-sticky-id_html5_api|rmTv__home-id_html5_api|rm-tv__video-id_html5_api/.test(videoPlayer.id)) || (_satellite.getVar("dataLayer:webPageDetails:pageName") == "realmadrid:rmtv")\n                      ? "live" : "vod"; //Detectar si es el player de RMTV\n\t\t\t\t\tvar videoSrc = (videoPlayer.currentSrc && videoPlayer.currentSrc !== "") ? videoPlayer.currentSrc : (videoPlayer.querySelector(\'source\') ? videoPlayer.querySelector(\'source\').src : ""); //Si no tiene currentSrc lo tomamos del atributo src de source\n                    var videoName = document.querySelector("h1.news-detail__title") !== null && document.querySelector("h1.news-detail__title").textContent !== "" ? document.querySelector("h1.news-detail__title").textContent.trim() : document.title.trim();\n\n                    //videoName en Showcase\n                    if(_satellite.getVar("dataLayer:webPageDetails:pageSection") == "showcase"){\n                        var pageNameSplit = _satellite.getVar("dataLayer:webPageDetails:pageName").split(":");\n                        videoName = pageNameSplit[pageNameSplit.length-1] != "" ? pageNameSplit[pageNameSplit.length-1] : pageNameSplit[pageNameSplit.length-2];\n                        videoName += "_n" + (i+1);\n                    }\n\n\n                    //videoName en videos pop up (2 casos)\n                    if (videoType == "live") {\n                        //Player de RMTV\n                        videoName = document.querySelector(".rm-tv-schedule__title") !== null ? document.querySelector(".rm-tv-schedule__title").textContent : "";\n\n                    } else {\n                        //Resto de players\n                        if (document.querySelector("#carousel-news footer > p") !== null) {\n                            //1- Video miniatura\n                            videoName = document.querySelector("#carousel-news footer > p").textContent.trim();\n                        } else if (_satellite.getVar("dataLayer:webPageDetails:pageName") == "realmadrid:home" && videoPlayer && videoPlayer.closest("figure") &&  videoPlayer.closest("figure").querySelector("figcaption")) {\n                            // 2- Obras del estadio en la home\n                            videoName =   videoPlayer.closest("figure").querySelector("figcaption").innerText;\n                        }\n                    }\n                        \n\n\t\t\t\t\t//videoID\n\t\t\t\t\tvar idMatch1 = videoSrc.match(/\\/([\\w-]+)_\\d+k\\.mp4$/);\n\t\t\t\t\tvar idMatch2 = videoSrc.match(/\\/([\\w-]+)\\.ism/);\n\t\t\t\t\tvar idMatch3 = videoSrc.match(/\\/([\\w-]+)\\.app\\.mp4$/);\n                    var idMatch4 = videoSrc.match(/\\/([^\\/]+)\\.mp4$/);\n\t\t\t\t\tvar videoID = idMatch1 ? idMatch1[1] : (idMatch2 ? idMatch2[1] : (idMatch3 ? idMatch3[1] : (idMatch4 ? idMatch4[1] : "")));\n\n\n                    if (videoPlayer != null && _satellite.getVar("dataLayer:webPageDetails:pageName") != "realmadrid:rmtv") {\n                        if (!videoPlayer.hasOwnProperty("adb_listenerAdded")) {\n\n                            videoPlayer.playFlag = false;\n                            videoPlayer.endFlag = false;\n                            videoPlayer.video10Flag = false;\n                            videoPlayer.video25Flag = false;\n                            videoPlayer.video50Flag = false;\n                            videoPlayer.video75Flag = false;\n                            videoPlayer.video90Flag = false;\n\n                            //Event vars\n                            var videoTracking = {\n                                videoName: videoName,\n                                videoID: videoID,\n                                videoPlayer: "html5",\n                                videoType: videoType,\n                                videoLang: _satellite.getVar("dataLayer:webPageDetails:country"),\n                                videoSessionID: Math.floor(Math.random() * 100000000000000000).toString()\n                                //videoTimeTotal -> Se setea en videoReady\n                                //videoTimeLapse -> Se setea en videoReady\n                                //videoTimePercentage -> Solo para videoProgress\n                            }\n\n\n                            //videoReady\n                            videoPlayer.addEventListener("loadedmetadata", function () { //canplaythrough\n\n                                var _videoReadyTracking = RMTagManager.utils.copyObject(videoTracking);\n\n                                //Actualizaci\xf3n de variables\n                                _videoReadyTracking.videoTimeLapse = 0;\n                                if (_videoReadyTracking.videoType == "vod") {\n                                    _videoReadyTracking.videoTimeTotal = parseInt(this.duration);\n                                }\n\n                                adobeDataLayer.push({\n                                    event: "videoReady",\n                                    videoTracking: _videoReadyTracking\n                                    //videoPlayerObject: videoPlayer\n                                });\n\n                            });\n\n                            //videoPlay y videoResume\n                            videoPlayer.addEventListener("play", function () {\n\n                                var _videoPlayTracking = RMTagManager.utils.copyObject(videoTracking);\n\n                                //Actualizaci\xf3n de variables\n                                videoTracking.videoTimeLapse = 0;\n                                if (_videoPlayTracking.videoType == "vod") {\n                                    _videoPlayTracking.videoTimeTotal = parseInt(this.duration);\n                                } else if (_videoPlayTracking.videoType == "live") {\n                                    _videoPlayTracking.videoTimeTotal = null;\n                                }\n\n                                if (this.playFlag == false ) {\n\n                                    this.playFlag = true;\n                                    videoTracking.videoTimeLapse = 0;\n\n                                    videoPlayer.video10Flag = false;\n                                    videoPlayer.video25Flag = false;\n                                    videoPlayer.video50Flag = false;\n                                    videoPlayer.video75Flag = false;\n                                    videoPlayer.video90Flag = false;\n\n                                    adobeDataLayer.push({\n                                        event: "videoPlay",\n                                        videoTracking: _videoPlayTracking\n                                    });\n\n                                }/* else {\n\t  \n\t\t\t\t\t\t\t\t//Actualizaci\xf3n de variables\n\t\t\t\t\t\t\t\tvideoTracking.videoTimeLapse = parseInt(this.currentTime);\n\t  \n\t\t\t\t\t\t\t\tadobeDataLayer.push({\n\t\t\t\t\t\t\t\t\tevent: "videoResume",\n\t\t\t\t\t\t\t\t\tvideoTracking: _videoPlayTracking\n\t\t\t\t\t\t\t\t});\n\t  \n\t\t\t\t\t\t\t}*/\n\n                                if (_videoPlayTracking.videoType == "live") //Eliminamos del datalayer\n                                    delete _videoPlayTracking.videoTimeTotal;\n\n                            });\n\n                            //videoComplete\n                            videoPlayer.addEventListener("ended", function () {\n\n                                var _videoEndTracking = RMTagManager.utils.copyObject(videoTracking);\n\n                                //Actualizaci\xf3n de variables\n                                _videoEndTracking.videoTimeLapse = parseInt(this.currentTime);\n                                if (_videoEndTracking.videoType == "vod") {\n                                    _videoEndTracking.videoTimeTotal = parseInt(this.duration);\n                                } else if (_videoEndTracking.videoType == "live") {\n                                    _videoEndTracking.videoTimeTotal = null;\n                                }\n\n                                if (this.endFlag == false) {\n\n                                    this.endFlag = true;\n                                    this.playFlag = false;\n                                    this.video10Flag = false;\n                                    this.video25Flag = false;\n                                    this.video50Flag = false;\n                                    this.video75Flag = false;\n                                    this.video90Flag = false;\n\n                                    adobeDataLayer.push({\n                                        event: "videoComplete",\n                                        videoTracking: _videoEndTracking\n                                    });\n                                }\n\n                                if (_videoEndTracking.videoType == "live") //Eliminamos del datalayer\n                                    delete _videoEndTracking.videoTimeTotal;\n\n                            });\n\n\n                            //videoPause\n                            /*videoPlayer.addEventListener("pause", function () {\n          \n                              var _videoPauseTracking = RMTagManager.utils.copyObject(videoTracking);\n          \n                                //Actualizaci\xf3n de variables\n                                _videoPauseTracking.videoTimeLapse = parseInt(this.currentTime);\n                                if (_videoPauseTracking.videoType == "vod") {\n                                  _videoPauseTracking.videoTimeTotal = parseInt(this.duration);\n                                }else if(_videoPauseTracking.videoType == "live"){\n                                  _videoPauseTracking.videoTimeTotal = null;\n                                }\n          \n                                if (!(videoTracking.videoTimeTotal - videoTracking.videoTimeLapse <= 1 && videoType == "vod")) {\n                                    adobeDataLayer.push({\n                                        event: "videoPause",\n                                        videoTracking: videoTracking\n                                    });\n                                }\n          \n                                if(_videoPauseTracking.videoType == "live") //Eliminamos del datalayer\n                                  delete _videoPauseTracking.videoTimeTotal;\n          \n                            });*/\n\n                            if (videoType == "vod") {\n\n                                //videoProgress\n                                videoPlayer.addEventListener("timeupdate", function () {\n\n                                    var videoTimePercentage = 0;\n                                    var videoProgressEnabled = false;\n                                    var videoTimeTotal = parseInt(this.duration);\n\n                                    //var _videoTracking = Object.assign({}, videoTracking);\n                                    var _videoTracking = RMTagManager.utils.copyObject(videoTracking);\n\n                                    if (videoPlayer.currentTime > parseInt(videoTimeTotal * 0.10) && !this.video10Flag) {\n                                        videoTimePercentage = 10;\n                                        this.video10Flag = true;\n                                        videoProgressEnabled = true;\n                                        //video10\n                                    } else if (videoPlayer.currentTime > parseInt(videoTimeTotal * 0.25) && !this.video25Flag) {\n                                        videoTimePercentage = 25;\n                                        this.video25Flag = true;\n                                        videoProgressEnabled = true;\n                                        //video50\n                                    } else if (videoPlayer.currentTime > parseInt(videoTimeTotal * 0.50) && !this.video50Flag) {\n                                        videoTimePercentage = 50;\n                                        this.video50Flag = true;\n                                        videoProgressEnabled = true;\n                                        //video75\n                                    } else if (videoPlayer.currentTime > parseInt(videoTimeTotal * 0.75) && !this.video75Flag) {\n                                        videoTimePercentage = 75;\n                                        this.video75Flag = true;\n                                        videoProgressEnabled = true;\n                                        //video90\n                                    } else if (videoPlayer.currentTime > parseInt(videoTimeTotal * 0.90) && !this.video90Flag) {\n                                        videoTimePercentage = 90;\n                                        this.video90Flag = true;\n                                        videoProgressEnabled = true;\n                                    }\n\n                                    if (this.playFlag === true && videoProgressEnabled === true) {\n\n                                        //Actualizaci\xf3n de variables\n                                        _videoTracking.videoTimePercentage = videoTimePercentage;\n                                        _videoTracking.videoTimeLapse = parseInt(this.currentTime);\n\n                                        adobeDataLayer.push({\n                                            event: "videoProgress",\n                                            videoTracking: _videoTracking\n                                        });\n\n                                        delete videoTracking.videoTimePercentage;\n\n                                        videoProgressEnabled = false;\n                                    }\n\n                                });\n\n                            }\n\n\n                            videoPlayer.adb_listenerAdded = true;\n                        }\n\n                    }\n                })();\n\n            }\n\t\t},\n\t\tvideoRMTV: function(){\n\t\t\tvar videoPlayerList = document.querySelectorAll("video.vjs-tech")\n\t\n\t\t\tfor (var i = 0; i < videoPlayerList.length; i++) {\n\t\n\t\t\t\tvar videoPlayer = videoPlayerList[i];\n\t\t\t\tvar videoName = "RMTV: " + ((document.querySelector(".rm-tv-schedule__title") != null && document.querySelector(".rm-tv-schedule__title") != "") ? document.querySelector(".rm-tv-schedule__title").innerText.trim() : document.title.trim());\n\t\t\t\tvar videoType = "live";\n\t\t\t\tvar regExpvideoID = /blob\\:https\\:\\/\\/([^\\/]*)\\/([^\\/]*)\\/?/.exec(videoPlayerList[i].src);\n\t\t\t\tvar videoID = regExpvideoID != null ? regExpvideoID[2] : "";\n\t\t\t\tvar videoLang = typeof dataLayer != "undefined" && dataLayer.length > 0 && dataLayer[0].hasOwnProperty("rmtvLang") ? dataLayer[0].rmtvLang : "es";\n                var videoDate = "";\n\t\n                if (videoPlayer != null) {\n\n\t\t\t\t\t// Buscar la fila que indica el programa activo\n\t\t\t\t\tconst activeProgramRow = document.querySelector(\'.rm-tv-schedule__live\');\n\n\t\t\t\t\tif (activeProgramRow !== null) {\n\t\t\t\t\t\t// Extraer la hora del programa\n\t\t\t\t\t\tconst timeElement = activeProgramRow.querySelector(\'.rm-tv-schedule__time time\');\n\t\t\t\t\t\tvideoDate = timeElement !== null ? RMTagManager.utils.formatSpainTime(timeElement.textContent) : \'not_set\';\n\n\t\t\t\t\t\t// Extraer el t\xedtulo del programa\n\t\t\t\t\t\tconst titleElement = activeProgramRow.querySelector(\'.rm-tv-schedule__title\');\n\t\t\t\t\t\tvideoName = titleElement !== null ? ("RMTV: " + titleElement.textContent) : \'not_set\';\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvideoName = document.querySelector(".rm-tv-schedule__title") !== null ? ("RMTV: " + document.querySelector(".rm-tv-schedule__title").textContent) : ("RMTV: " + document.title.trim());\n\t\t\t\t\t}\n\n\t\t\t\t\tvideoDate = RMTagManager.utils.getSpainDate() + \' \' + videoDate;\n\n\n                    if (!videoPlayer.hasOwnProperty("adb_listenerAddedRMTV")) {\n\t\n\t\t\t\t\t\tvideoPlayer.playFlag = false;\n\t\n\t\t\t\t\t\t  //Event vars\n\t\t\t\t\t\t  var videoTracking = {\n\t\t\t\t\t\t\t  videoName: videoName,\n\t\t\t\t\t\t\t  videoID: videoID,\n\t\t\t\t\t\t\t  videoPlayer: "vjs_tech",\n\t\t\t\t\t\t\t  videoType: videoType,\n\t\t\t\t\t\t\t  videoLang: videoLang,\n\t\t\t\t\t\t\t  videoSessionID: Math.floor(Math.random() * 100000000000000000).toString(),\n                              videoDate: videoDate\n\t\t\t\t\t\t  }\n\t\n\t\t\t\t\t\t  //videoPlay y videoResume\n\t\t\t\t\t\t  videoPlayer.addEventListener("play", function () {\n\t\n\t\t\t\t\t\t\t  var _videoPlayTracking = RMTagManager.utils.copyObject(videoTracking);\n\t\t\t\t\t\t\t  _videoPlayTracking.videoName = "RMTV: " + (document.querySelector(".rm-tv-schedule__title") != null && document.querySelector(".rm-tv-schedule__title").innerText != "" ? document.querySelector(".rm-tv-schedule__title").innerText.trim() : document.title);\n\t\n\t\t\t\t\t\t\t  if(this.playFlag == false){\n\t\n\t\t\t\t\t\t\t\t  this.playFlag = true;\n\t\n\t\t\t\t\t\t\t\t  adobeDataLayer.push({\n\t\t\t\t\t\t\t\t\t  event: "videoPlay",\n\t\t\t\t\t\t\t\t\t  videoTracking: _videoPlayTracking\n\t\t\t\t\t\t\t\t  });\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\tvideoPlayer.adb_listenerAddedRMTV = true;\n\t\t\t\t\t}\n\t\n\t\t\t\t}       \n\t\t\t}\n\t\n\t\t},\n\t\tclickRMTV: function () {\n\t\t\tvar btnLang = document.querySelectorAll(\'button.rmtv_lang_es, button.rmtv_lang_int\');\n\t\n\t\t\tif (btnLang.length > 0) {\n\t\t\t\tbtnLang.forEach(function (btnLang, index) {\n\t\t\t\t\tbtnLang.addEventListener(\'click\', function () {\n\t\t\t\t\t\tvar btnSelected = this.classList.value;\n\t\t\t\t\t\tvar mediaLang = "";\n\t\n\t\t\t\t\t\tif (btnSelected.indexOf("rmtv_lang_es") > -1) {\n\t\t\t\t\t\t\tmediaLang = "es";\n\t\t\t\t\t\t} else if (btnSelected.indexOf("rmtv_lang_int") > -1) {\n\t\t\t\t\t\t\tmediaLang = "en"\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Para los idiomas con caracteres no latinos\n\t\t\t\t\t\t\tmediaLang = index === 0 ? "es" : "en";\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tadobeDataLayer.push({\n\t\t\t\t\t\t\t"event": "buttonClick",\n\t\t\t\t\t\t\t"buttonClick": {\n\t\t\t\t\t\t\t\t"buttonName": "rmtv:select_language"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t"webPageDetails": {\n\t\t\t\t\t\t\t\t"mediaLang": mediaLang\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t//Reseteamos los intervals de videos en cada click de cambio de versi\xf3n de RMTV\n\t\t\t\t\t\tif (RMTagManager && RMTagManager.hasOwnProperty("videosActive") && RMTagManager.videosActive.length > 0) {\n\t\t\t\t\t\t\tfor (var i = 0, j = RMTagManager.videosActive.length; i < j; i++) {\n\t\t\t\t\t\t\t\tclearInterval(RMTagManager.videosActive[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tRMTagManager.videosActive = [];\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tvar videoIntervalID = RMTagManager.utils.waitForElement("video.vjs-tech", function () {\n\t\t\t\t\t\t\tRMTagManager.listeners.videoRMTV();\n\t\t\t\t\t\t}, 30000, 100);\n\t\n\t\t\t\t\t\tRMTagManager.videosActive.push(videoIntervalID);\n\t\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n        clickListener: function () {\n\n            // Par\xe1metro itm en noticias\n            if (_satellite.getVar("dataLayer:webPageDetails:pageType") == "news") {\n\n                // Obtener todos los enlaces que apuntan a https://play.realmadrid.com dentro del cuerpo de la noticia\n                const enlaces = document.querySelectorAll(\'article.news-detail a[href^="https://play.realmadrid.com"]\');\n\n                enlaces.forEach(enlace => {\n                    let url = enlace.getAttribute(\'href\');\n\n                    // Verificar si la URL contiene el par\xe1metro itm_campaign\n                    if (url.indexOf(\'itm_campaign\') === -1) {\n                        // A\xf1adir el par\xe1metro itm_campaign si no est\xe1 presente\n                        if (url.indexOf(\'?\') !== -1) {\n                            url += \'&itm_campaign=rm_news-detail_rmplay\';\n                        } else {\n                            url += \'?itm_campaign=rm_news-detail_rmplay\';\n                        }\n\n                        // Actualizar el atributo href del enlace con la nueva URL\n                        enlace.setAttribute(\'href\', url);\n                    }\n                });\n\n            }\n\n        }\n    },\n\tutils: {\n\t\t/**\n\t\t* M\xe9todo para el env\xedo de informaci\xf3n mediante petici\xf3n de pixel, utiliza la funcionalidad navigator.sendBeacon de los navegadores, es compatible para navegadores antiguois\n\t\t* @param url string URL de petici\xf3n del pixel, sin par\xe1metros\n\t\t* @param data objeto con los par\xe1metros a enviar en la petici\xf3n\n\t\t* @param useSendBeacon boolean [opcional] activa o desactiva el uso de navigator.sendBeacon, por defecto es true\n\t\t* @param randomParam string [opcional] indica si se debe a\xf1adir un par\xe1metro random para evitar el cache, el valor pasado ser\xe1 la key del par\xe1metro\n\t\t* @param encoded boolean [opcional] que nos indica si los valores deben ir codificados para URL o no, por defecto ir\xe1n codificados\n\t\t* @return boolean que indica si el env\xedo de los datos es correcto\n\t\t*/\n\t\tsendBeacon: function(url, data, useSendBeacon, randomParam, encoded){\n\n\t\t\tif(typeof url != "string" || typeof data != "object")\n\t\t\t\treturn false;\n\n\t\t\tvar beaconSent = false;\n\n\t\t\ttry{\n\t\t\t\t//Utilizamos la funci\xf3n sendBeacon de navigator, aunque no es soportada por todos los navegadores\n\t\t\t\tif(typeof navigator != "undefined" && typeof navigator.sendBeacon == "function" && (typeof useSendBeacon == "undefined" || useSendBeacon === true)){\n\t\t\t\t\tbeaconSent = navigator.sendBeacon(url, JSON.stringify(data));\n\t\t\t\t//Si el navegador no es compatible con la nueva funci\xf3n de navigator formamos el pixel a mano con un elemento img\n\t\t\t\t}else{\n\t\t\t\t\tvar imgBeacon = new Image(1, 1);\n\n\t\t\t\t\t//Pasamos los datos pasados a string para formar el pixel, los metemos en un array y hacemos un join con &\n\t\t\t\t\tvar dataString = [];\n\t\t\t\t\tfor(var param in data){\n\t\t\t\t\t\tif(typeof encoded != "undefined" && encoded === false)\n\t\t\t\t\t\t\tdataString.push(param + "=" + data[param]);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tdataString.push(param + "=" + encodeURIComponent(data[param]));\n\t\t\t\t\t}\n\n\t\t\t\t\t//El random para el descacheo se define por par\xe1metro, si viene cogemos el valor que se indica, si no, no podemos nada\n\t\t\t\t\tvar randomParamPixel = "";\n\t\t\t\t\tif(typeof randomParam == "string")\n\t\t\t\t\t\t randomParamPixel = randomParam + "=" + String(Math.random()).substr(2, 9);\n\n\t\t\t\t\t//Formamos la petici\xf3n: eliminamos posibles ? en el src\n\t\t\t\t\timgBeacon.src = url.replace(/\\?/ig, "") + "?" + dataString.join("&") + (dataString.length > 0 && randomParamPixel != "" ? "&" : "") + randomParamPixel;\n\t\t\t\t\tbeaconSent = true;\n\t\t\t\t}\n\t\t\t}catch(e){\n\t\t\t\tDTM.notify("Error in sendBeacon: " + e, "error");\n\t\t\t\tbeaconSent = false;\n\t\t\t}\n\n\t\t\treturn beaconSent;\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n para capitalizar las palabras de un texto pasado por par\xe1metro. Ejemplo: "rodrigo valc\xe1rcel" -> "Rodrigo Valc\xe1rcel"\n\t\t* @param text string con el texto a capitalizar\n\t\t* @return string con el texto capitalizado\n\t\t**/\n\t\tcapitalizeText: function(text){\n\n\t\t\ttext = text.trim();\n\n\t\t\tvar textArray = text.split(" ");\n\t\t\tvar textArrayCap = [];\n\n\t\t\tfor(var i = 0, j = textArray.length; i < j; i++)\n\t\t\t    textArrayCap[i] = textArray[i].charAt(0).toUpperCase() + (textArray[i].substr(1));\n\t\t\t\n\t\t\treturn textArrayCap.join(" ");\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n para copiar objetos por valor no por referencia (duplicar)\n\t\t* @param objetoOrigen par\xe1metro con el objeto de Origen a copiar.\n\t\t* return retornamos el objeto duplicado.\n\t\t**/\n\t\tcopyObject: function(objectOrigin){\n\t\t\t\n\t\t\tif(typeof objectOrigin != "object")\n\t\t\t\treturn false;\n\n\t\t\tvar objectResult = {};\n\n\t\t\t//Recorremos los valores del objecto inicial y los copiamos al nuevo, uno por uno\n\t\t\tfor(var param in objectOrigin)\n\t\t\t\tobjectResult[param] = objectOrigin[param];\t\t\t\n\n\t\t\treturn objectResult;\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n par extraer un par\xe1metro de una URL pasada como atributo de la funci\xf3n\n\t\t* @param e string Nombre del par\xe1metro a extraer de la URL\n\t\t* @param r string URL de la que se extraer\xe1 el par\xe1metro, si no es pasada se calcular\xe1 de location.href\n\t\t* @return string valor del par\xe1metro solicitado, si no se encontr\xf3 devolver\xe1 cadena vac\xeda\n\t\t**/\n\t    getQueryParam: function(e, r){\n  \t\t\tvar l="";if(e=void 0===e||""==e?-1:e,r=void 0===r||""==r?window.location.href:r,-1==e){if(l=[],-1!=r.indexOf("?")){var i=r.substr(r.indexOf("?")+1).replace(/\\?/g,"&");i=i.split("&");for(var n=0;n<i.length;n++)if(-1!=i[n].indexOf("=")){var a=i[n].split("=");l[a[0]]=a[1].replace(/#(.*)/g,"")}else l[a]=""}}else{l="",e=e.replace(/[\\[]/,"\\\\[").replace(/[\\]]/,"\\\\]");var c=new RegExp("[\\\\?&]"+e+"=([^&#]*)").exec(r);l=null==c?"":decodeURIComponent(c[1].replace(/\\+/g," ").replace(/#(.*)/g,""))}return l;\n\t    },\n\t    /**\n\t    * Funci\xf3n que devuelve una fecha extra\xedda del HTML en un formato v\xe1lido para Date\n\t    * @param date string con la fecha extra\xedda del HTML\n\t    * @return formatDate string con la fecha en formato YYYY-MM-DD\n\t    **/\n\t    getDate: function(date){\n\n\t    \tvar formatDate = false;\n\n\t    \tvar dateRegexp = /(\\d{2}) (\\w+) (\\d{4})/;\n\n\t    \tvar result = dateRegexp.exec(date);\n\n\t    \tif(result){\n\n\t    \t\tvar monthNamesEN = ["january", "february", "march", "april", "may", "june", "july", "august", "september", "october", "november", "december"];\n\t\t    \tvar monthNamesES = ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre"];\n\n\t\t    \tvar month = result[2].toLowerCase();\n\n\t\t    \tif(monthNamesEN.indexOf(month) != -1)\n\t\t    \t\tmonth = this.formatDate(monthNamesEN.indexOf(month) + 1);\n\t\t    \telse if(monthNamesES.indexOf(month) != -1)\n\t\t    \t\tmonth = this.formatDate(monthNamesES.indexOf(month) + 1);\n\t\t    \telse\n\t\t    \t\tmonth = false;\n\n\t\t    \tif(month)\n\t\t    \t\tformatDate = result[3] + "/" + month + "/" + result[1];\n\t    \t}\n\n\t    \treturn formatDate;\n\t    },\n\t    /**\n\t\t* Funci\xf3n para formatear fechas, a\xf1ade un 0 a la izquierda en caso de tener un \xfanico digito el valor pasado por par\xe1metro\n\t\t* @param date fecha a formatear\n\t\t* @return date fecha formateada\n\t\t*/\n\t\tformatDate: function(date){\n\t\t\tif(date < 10)\n\t\t\t\treturn "0" + date; \n\t\t\treturn date;\n\t\t},\n\t\t/**\n \t\t* Funci\xf3n para obtener la fecha actual en Madrid formateada como aaaa-mm-dd.\n \t\t* Utiliza la zona horaria de Madrid para asegurar la consistencia de la fecha.\n \t\t* @return string con la fecha en formato aaaa-mm-dd\n \t\t*/\n\t\tgetSpainDate: function () {\n\t\t\tlet fechaMadrid = new Date();\n\t\t\t// Formateamos la fecha directamente usando el formato de fecha del est\xe1ndar internacional (ISO)\n\t\t\tlet formatter = new Intl.DateTimeFormat(\'es-ES\', {\n\t\t\t\tyear: \'numeric\',\n\t\t\t\tmonth: \'2-digit\',\n\t\t\t\tday: \'2-digit\',\n\t\t\t\ttimeZone: \'Europe/Madrid\'\n\t\t\t});\n\n\t\t\t// Extraemos las partes de la fecha y las formateamos correctamente\n\t\t\tlet parts = formatter.formatToParts(fechaMadrid);\n\t\t\tlet a\xf1o = parts.find(p => p.type === \'year\').value;\n\t\t\tlet mes = parts.find(p => p.type === \'month\').value;\n\t\t\tlet d\xeda = parts.find(p => p.type === \'day\').value;\n\n\t\t\treturn `${a\xf1o}-${mes}-${d\xeda}`;\n\t\t},\n\t\t/**\n \t\t* Funci\xf3n para convertir una hora especificada al formato hh:mm de la zona horaria de Madrid.\n \t\t* Ajusta la hora a la zona horaria de Madrid y formatea al est\xe1ndar de 24 horas.\n \t\t* @param hora string con la hora a convertir en formato hh:mm\n \t\t* @return string con la hora formateada en formato hh:mm\n \t\t*/\n\t\tformatSpainTime: function (hora) {\n\t\t\tlet fechaActualMadrid = new Date();\n\t\t\t// Aseguramos que configuramos la zona horaria correcta antes de formatear\n\t\t\tlet formatter = new Intl.DateTimeFormat(\'es-ES\', {\n\t\t\t\thour: \'2-digit\',\n\t\t\t\tminute: \'2-digit\',\n\t\t\t\thour12: false,\n\t\t\t\ttimeZone: \'Europe/Madrid\'\n\t\t\t});\n\t\t\t// Asumimos que la hora viene en un formato que puede ser interpretado como una parte del d\xeda\n\t\t\tlet fechaHoraCompleta = new Date(`${this.getSpainDate()}T${hora}`);\n\n\t\t\treturn formatter.format(fechaHoraCompleta);\n\t\t},\n        /**\n \t\t* Funci\xf3n para decodificar y parsear un JWT (JSON Web Token) desde su formato encriptado.\n \t\t* Extrae la carga \xfatil del token y la devuelve en formato JSON.\n \t\t* @param {string} token - Token JWT codificado que se va a decodificar.\n \t\t* @return {object|null} Devuelve un objeto JSON que representa la carga \xfatil decodificada del token o null si hay un error.\n \t\t*/\n\t\tparseJwt: function (token) {\n\t\t\ttry {\n\t\t\t\t// Verifica que el token contenga las tres partes\n\t\t\t\tvar parts = token.split(\'.\');\n\t\t\t\tif (parts.length !== 3) {\n\t\t\t\t\tthrow new Error(\'Token inv\xe1lido. Debe contener tres partes separadas por puntos (.).\');\n\t\t\t\t}\n\n\t\t\t\t// Obtiene la carga \xfatil codificada en Base64 URL\n\t\t\t\tvar base64Url = parts[1];\n\n\t\t\t\t// Reemplaza los caracteres espec\xedficos de Base64 URL por los de Base64 est\xe1ndar\n\t\t\t\tvar base64 = base64Url.replace(/-/g, \'+\').replace(/_/g, \'/\');\n\n\t\t\t\t// Decodifica la cadena en Base64 y convierte cada car\xe1cter en su valor hexadecimal correspondiente\n\t\t\t\tvar jsonPayload = decodeURIComponent(atob(base64).split(\'\').map(function (c) {\n\t\t\t\t\treturn \'%\' + (\'00\' + c.charCodeAt(0).toString(16)).slice(-2);\n\t\t\t\t}).join(\'\'));\n\n\t\t\t\t// Convierte la cadena JSON decodificada en un objeto JavaScript\n\t\t\t\treturn JSON.parse(jsonPayload);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(\'Error al decodificar el token JWT:\', e.message);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n para formatear un campo del Data Layer pasado por par\xe1metro. Lo pasamos al formato establecido en el SDR, susituyendo caracteres no deseados o elimin\xe1ndolos\n\t\t* @param field string con el valor de campo a formatear\n\t\t* @return string con el texto del campo formateado\n\t\t**/\n\t\tformatDataLayerParam: function(field){\n\n\t\t\tvar fieldFormatted = field;\n\n\t\t\t//trim\n\t\t\tfieldFormatted = fieldFormatted.trim();\n\t\t\t\n\t\t\t//toLowerCase\n\t\t\tfieldFormatted = fieldFormatted.toLowerCase();\n\t\t\t\n\t\t\t//Espacios por _\n\t\t\tfieldFormatted = fieldFormatted.replace(/ /ig, "_");\n\t\t\t\n\t\t\t//Guiones medios por _\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\-/ig, "_");\n\n\t\t\t//Dos puntos eliminados\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\:/ig, "");\n\n\t\t\t//Barras por _\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\//ig, "_");\n\n\t\t\t//Barras invertidas eliminadas\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\\\/ig, "");\n\n\t\t\t//Puntos, comas y comillas eliminadas\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\"/ig, "");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\\'/ig, "");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\\u201d/ig, "");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\,/ig, "");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\./ig, "");\n\t\t\t\n\t\t\t//Tildes\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xe1/ig, "a");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xe9/ig, "e");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xed/ig, "i");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xf3/ig, "o");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xfa/ig, "u");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\u0107/ig, "c");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xe0/ig, "a");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xe8/ig, "e");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xec/ig, "i");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xf2/ig, "o");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xf9/ig, "u");\n\n\t\t\t//Caracteres alfabeto espa\xf1ol\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xf1/ig, "n");\n\n\t\t\t//Otros\n\t\t\tfieldFormatted = fieldFormatted.replace(/agenda&.*\\/?/ig, "agenda");\n\n\t\t\treturn fieldFormatted;\n\t\t},\n        /**\n\t\t* Funci\xf3n que comprueba la existencia de una o varias propiedades dentro de un objeto\n\t\t* @param obj object objeto de datos ra\xedz donde se har\xe1 la comprobaci\xf3n\n\t\t* @param propiedades array lista de subpropiedades a evaluar, ordenadas desde la m\xe1s externa a la m\xe1s interna\n\t\t* @return boolean true si todas las subpropiedades existen, false en caso contrario\n\t\t**/\n\t\texistsObjectProperty: function(obj, propiedades){\n\n\t\t\tif(typeof obj != "object")\n\t\t\t\treturn false;\n\t\t\t\n\t\t\tvar currentObj = obj;\n\n\t\t\tfor(var i = 0; i < propiedades.length; i++){\n\n\t\t\t\tvar propiedad = propiedades[i];\n\n\t\t\t\tif(currentObj.hasOwnProperty(propiedad) && typeof currentObj[propiedad] != "undefined")\n\t\t\t\t\tcurrentObj = currentObj[propiedad];\n\t\t\t\telse\n\t\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\t\n\t\t},\n        /**\n\t\t* Funci\xf3n para codificar un texto pasado por par\xe1metro mediante SHA256\n\t\t* @param text string Texto a encriptar\n\t\t* @return string texto encriptado\n\t\t**/\n\t    sha256: function(text){\n\t    \t\n\t    \t//Encriptador\n\t    \tvar sha256=function r(o){function f(r,o){return r>>>o|r<<32-o}for(var t,n,a=Math.pow,c=a(2,32),e="length",i="",h=[],u=8*o[e],v=r.h=r.h||[],l=r.k=r.k||[],s=l[e],g={},k=2;s<64;k++)if(!g[k]){for(t=0;t<313;t+=k)g[t]=k;v[s]=a(k,.5)*c|0,l[s++]=a(k,1/3)*c|0}for(o+="\x80";o[e]%64-56;)o+="\\0";for(t=0;t<o[e];t++){if((n=o.charCodeAt(t))>>8)return;h[t>>2]|=n<<(3-t)%4*8}for(h[h[e]]=u/c|0,h[h[e]]=u,n=0;n<h[e];){var d=h.slice(n,n+=16),p=v;for(v=v.slice(0,8),t=0;t<64;t++){var w=d[t-15],A=d[t-2],C=v[0],M=v[4],A=v[7]+(f(M,6)^f(M,11)^f(M,25))+(M&v[5]^~M&v[6])+l[t]+(d[t]=t<16?d[t]:d[t-16]+(f(w,7)^f(w,18)^w>>>3)+d[t-7]+(f(A,17)^f(A,19)^A>>>10)|0);(v=[A+((f(C,2)^f(C,13)^f(C,22))+(C&v[1]^C&v[2]^v[1]&v[2]))|0].concat(v))[4]=v[4]+A|0}for(t=0;t<8;t++)v[t]=v[t]+p[t]|0}for(t=0;t<8;t++)for(n=3;n+1;n--){var S=v[t]>>8*n&255;i+=(S<16?0:"")+S.toString(16)}return i};\n\n\t    \treturn sha256(text);\n\t    },\n\t\t/**\n\t\t* Funci\xf3n para traducir un campo del Data Layer pasado por par\xe1metro. Lo pasamos al mismo idioma que tiene el campo para la versi\xf3n ES de la p\xe1gina.\n\t\t* @param field string con el valor de campo a traducir\n\t\t* @return string con el texto del campo traducido\n\t\t**/\n\t\ttranslateDataLayerParam: function(param){\n\n\t\t\tvar translations = {\n\t\t\t\t"futbol": "football",\n\t\t\t\t"fussball": "football",\n\t\t\t\t"futebol": "football",\n                "sepak_bola": "football",\n\n\t\t\t\t"basquetebol": "basketball",\n\t\t\t\t"baloncesto": "basketball",\n\n\t\t\t\t"proyectos_area_nacional": "projects",\n\t\t\t\t"national_area_projects": "projects",\n\t\t\t\t"zone_nationale": "projects",\n\t\t\t\t"nationales_gebiet": "projects",\n\t\t\t\t"area_nacional": "projects"\n\t\t\t}\n\n\t\t\tif(translations.hasOwnProperty(param))\n\t\t\t\treturn translations[param];\n\n\t\t\treturn param;\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n para la sincronizaci\xf3n de elementos en p\xe1gina, usada para fijar listeners\n\t\t* @param elementSelector string con el selector CSS del elemento a esperar\n\t\t* @param callback function funci\xf3n a ejecutar cuando el elemento existe\n\t\t* @param limit number <opcional> milisegundos m\xe1ximos a esperar al elemento, por defecto 5000\n\t\t* @param increment number <opcional> milisegundos de cada ciclo del interval, por defecto ser\xe1n 100\n\t\t**/\n\t\twaitForElement: function (elementSelector, callback, limit, increment) {\n\n\t\t\tif (typeof elementSelector != "string" || typeof callback != "function")\n\t\t\t\treturn false;\n\n\t\t\tvar intervalLimit = typeof limit == "number" ? limit : 5000;\n\t\t\tvar intervalCounter = 0;\n\t\t\tvar intervalIncrement = (typeof increment == "number" && increment < intervalLimit) ? increment : 100;\n\n\t\t\tvar intervalID = setInterval(function () {\n\n\t\t\t\tif (document.querySelector(elementSelector) != null) {\n\t\t\t\t\tcallback.call();\n\t\t\t\t\tclearInterval(intervalID);\n\t\t\t\t\t//console.log("waitForElement: Elemento encontrado -", elementSelector);\n\t\t\t\t} else {\n\t\t\t\t\tintervalCounter += intervalIncrement;\n\t\t\t\t\t//console.log("waitForElement: Elemento no encontrado -", elementSelector + ". Seguimos...");\n\t\t\t\t}\n\n\t\t\t\tif (intervalCounter > intervalLimit) {\n\t\t\t\t\tclearInterval(intervalID);\n\t\t\t\t\t//console.log("waitForElement: L\xedmite de tiempo alcanzado -", elementSelector);\n\t\t\t\t}\n\n\n\t\t\t}, intervalIncrement);\n\n\t\t\t//console.log("intervalID: ", intervalID + " - Element: " + elementSelector);\n\t\t\treturn intervalID;\n\t\t},\n\t\t/**\n\t\t* M\xe9todo para establecer una cookie en el navegador del usuario.\n\t\t* @param name string Nombre de la cookie\n\t\t* @param value string Valor de la cookie\n\t\t* @param days number [opcional] N\xfamero de d\xedas antes de que expire la cookie. Si no se especifica, la cookie se convertir\xe1 en una cookie de sesi\xf3n.\n\t\t* @return void\n\t\t*/\n\t\tsetCookie: function(name, value, days) {\n\t\t\tvar expires = "";\n\t\t\tif (days) {\n\t\t\t\tvar date = new Date();\n\t\t\t\tdate.setTime(date.getTime() + (days*24*60*60*1000));\n\t\t\t\texpires = "; expires=" + date.toUTCString();\n\t\t\t}\n\t\t\t// Establece el dominio de la cookie para compartir entre subdominios\n\t\t\tvar domain = "; domain=." + document.location.hostname.split(\'.\').slice(-2).join(\'.\');\n\t\t\tdocument.cookie = name + "=" + (value || "") + expires + domain + "; path=/";\n\t\t},\n\t\t/**\n\t\t* M\xe9todo para obtener el valor de una cookie a partir de su nombre.\n\t\t* @param name string Nombre de la cookie\n\t\t* @return string|null Retorna el valor de la cookie si se encuentra, de lo contrario, retorna null.\n\t\t*/\n\t\tgetCookie: function(name) {\n\t\t\tvar nameEQ = name + "=";\n\t\t\tvar ca = document.cookie.split(\';\');\n\t\t\tfor(var i=0;i < ca.length;i++) {\n\t\t\t\tvar c = ca[i];\n\t\t\t\twhile (c.charAt(0)==\' \') c = c.substring(1,c.length);\n\t\t\t\tif (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tlocalStorage: {\n\t\t\t/**\n\t\t\t* M\xe9todo para el uso seguro del m\xe9todo getItem del localStorage.\n\t\t\t* @param item nombre del item a leer del localStorage\n\t\t\t* @param session booleano true indica que en lugar de localStorage se quiere hacer uso de sessionStorage\n\t\t\t* @return boolean que indica si la lectura del item se hizo de forma correcta (true) o incorrecta (false)\n\t\t\t*/\n\t\t\tgetItem: function(item, session){\n\t\t\t\tvar _item = false;\n\t\t\t\ttry{\n\t\t\t\t\tif(typeof session != "undefined" && session === true && typeof sessionStorage != "undefined" && typeof sessionStorage.setItem == "function")\n\t\t\t\t\t\t_item = sessionStorage.getItem(item);\n\t\t\t\t\telse if(typeof localStorage != "undefined" && typeof localStorage.getItem == "function")\n\t\t\t\t\t\t_item = localStorage.getItem(item);\n\t\t\t\t}catch(e){\n\t\t\t\t\t_item = false;\n\t\t\t\t\tDTM.notify("Error in getItem in localStorage", "error");\n\t\t\t\t}\n\t\t\t\treturn _item;\t\t\t\n\t\t\t},\n\t\t\t/**\n\t\t\t* M\xe9todo para el uso seguro del m\xe9todo removeItem del localStorage.\n\t\t\t* @param item nombre del item a eliminar del localStorage\n\t\t\t* @param session booleano true indica que en lugar de localStorage se quiere hacer uso de sessionStorage\n\t\t\t* @return boolean que indica si la eliminaci\xf3n del item se hizo de forma correcta (true) o incorrecta (false)\n\t\t\t*/\n\t\t\tremoveItem: function(item, session){\n\t\t\t\tvar _item = false;\n\t\t\t\ttry{\n\t\t\t\t\tif(typeof session != "undefined" && session === true && typeof sessionStorage != "undefined" && typeof sessionStorage.setItem == "function"){\n\t\t\t\t\t\tsessionStorage.removeItem(item);\n\t\t\t\t\t\t_item = true;\n\t\t\t\t\t}else if(typeof localStorage != "undefined" && typeof localStorage.removeItem == "function"){\n\t\t\t\t\t\tlocalStorage.removeItem(item);\n\t\t\t\t\t\t_item = true;\n\t\t\t\t\t}\n\t\t\t\t}catch(e){\n\t\t\t\t\t_item = false;\n\t\t\t\t\tDTM.notify("Error in removeItem in localStorage", "error");\n\t\t\t\t}\t\n\t\t\t\treturn _item;\n\t\t\t},\n\t\t\t/**\n\t\t\t* M\xe9todo para el uso seguro del m\xe9todo setItem del localStorage.\n\t\t\t* @param item nombre del item a setear del localStorage\n\t\t\t* @param value valor del item a setear\n\t\t\t* @param session booleano true indica que en lugar de localStorage se quiere hacer uso de sessionStorage\n\t\t\t* @return boolean que indica si el seteo se hizo de forma correcta (true) o incorrecta (false)\n\t\t\t*/\n\t\t\tsetItem: function(item, value, session){\n\t\t\t\tvar _item = false;\n\t\t\t\ttry{\n\t\t\t\t\tif(typeof session != "undefined" && session === true && typeof sessionStorage != "undefined" && typeof sessionStorage.setItem == "function"){\n\t\t\t\t\t\tsessionStorage.setItem(item, value);\n\t\t\t\t\t\t_item = true;\n\t\t\t\t\t}else if(typeof localStorage != "undefined" && typeof localStorage.setItem == "function"){\n\t\t\t\t\t\tlocalStorage.setItem(item, value);\n\t\t\t\t\t\t_item = true;\n\t\t\t\t\t}\n\t\t\t\t}catch(e){\n\t\t\t\t\t_item = false;\n\t\t\t\t\tDTM.notify("Error in setItem in localStorage", "error");\n\t\t\t\t}\t\n\t\t\t\treturn _item;\n\t\t\t}\n\t\t}\n\t},\n\ttools: {\n\t\t//GAds\n\t\tgAds: {\n\t\t\ttrackedPV: false,\n\t\t\tvars: {\n\t\t\t\tadw4ID: "AW-620646835",\n\t\t\t\tpixelSrc: "https://www.googleadservices.com/pagead/conversion/"\n\t\t\t},\n\t\t\tinit: function(){\n\t\t\t\t// No se requiere carga de biblioteca para noscript\n\t\t\t},\n\t\t\ttrackPV: function(){\n\t\t\t\t // Datos para la vista de p\xe1gina\n\t\t\t\t var data = {\n\t\t\t\t\tguid: "ON",\n\t\t\t\t\tscript: 0\n\t\t\t\t};\n\t\t\t\tvar url = this.vars.pixelSrc + this.vars.adw4ID;\n\t\t\t\tRMTagManager.utils.sendBeacon(url, data, false);\n\t\t\t\tthis.trackedPV = true;\n\t\t\t},\n\t\t\ttrackAsyncPV: function(){\n\t\t\t\tthis.trackPV();\n\t\t\t},\n\t\t\ttrackEvent: function(eventName, data){\n\t\t\t\t// Sin eventos instalados\n\t\t\t}\n\t\t},\n\t\t//Meta\n\t\tmeta: {\n\t\t\ttrackedPV: false,\n\t\t    vars: {\n                metaIDs: ["1747733095585048", "290327669773796", "619152566483368"],\n\t\t        pixelSrc: "https://www.facebook.com/tr"\n\t\t    },\n\t\t    init: function(){\n                // Inicializaci\xf3n si es necesaria\t\n            },\n\t\t    trackPV: function(){\n\t\t\t\tvar section = _satellite.getVar("dataLayer:webPageDetails:pageSection");\n\t\t\t\tvar pageType = _satellite.getVar("dataLayer:webPageDetails:pageType");\n\t\t\t\tvar newsType = _satellite.getVar("dataLayer:webPageDetails:newsType");\n                var loadType = _satellite.getVar("dataLayer:webPageDetails:pageLoadType");\n\t\n                if ((loadType == "sequential" && !this.trackedPV) || loadType == "spa") {\n\n                    this.vars.metaIDs.forEach(id => { //Enviamos el evento a todos los ids\n                        //PageView\n                        this.sendCustomEvent("PageView", {}, id);\n                        this.trackedPV = true;\n\n                        // PX EVT Facebook Noticias\n                        if (pageType == "news" || pageType == "noticias") {\n                            this.sendCustomEvent("ViewContent", { content_ids: section, content_type: \'Noticias-\' + newsType }, id);\n                        }\n\n                        // PX EVT Facebook Tour\n                        if (section == "tour") {\n                            this.sendCustomEvent("ViewContent", { content_ids: \'web\', content_type: \'Tour\' }, id);\n                        }\n                    });\n                }\n\t\t\t\t\t\n\t\t        \n\t\t    },\n\t\t\ttrackAsyncPV: function() {\n\t\t\t\tthis.trackPV();\n\t\t\t},\n            trackEvent: function (eventName, eventData) {\n                // PX EVT Facebook Play RM TV\n                if (eventName == "videoPlay" && _satellite.getVar("dataLayer:webPageDetails:pageSection") == "rmtv") {\n                    this.vars.metaIDs.forEach(id => { //Enviamos el evento a todos los ids\n                        this.sendCustomEvent("ViewContent", { content_ids: \'Play\', content_type: \'RM TV\' }, id);\n                    });\n                }\n            },\n\t\t\tcreateDataObject: function(eventType, data, id) {\n\t\t\t\tvar dataObject = {\n\t\t\t\t\t"id": id,\n\t\t\t\t\t"ev": eventType,\n\t\t\t\t\t"noscript": "1"\n\t\t\t\t};\n\t\t\n\t\t\t\tif (data && !this.isEmpty(data)) {\n\t\t\t\t\tdataObject["content_ids"] = data.hasOwnProperty("content_ids") ? data.content_ids : "";\n\t\t\t\t\tdataObject["content_type"] = data.hasOwnProperty("content_type") ? data.content_type : "";\n\t\t\t\t}\n\n                //a\xf1adir video\n\t\t\n\t\t\t\treturn dataObject;\n\t\t\t},\n\t\t\tformatProductList: function(productList) {\n\t\t\t\treturn productList.map(element => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcontent_name: element.hasOwnProperty("_realmadrid") && element._realmadrid.hasOwnProperty("productPersonalization") ? element._realmadrid.productPersonalization : ""\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t},\n\t\t\tsendCustomEvent: function(eventType, data, id) {\n\t\t\t\tvar dataObject = this.createDataObject(eventType, data, id);\n\t\t\t\tRMTagManager.utils.sendBeacon(this.vars.pixelSrc, dataObject, false);\n\t\t\t},\n            isEmpty: function(obj) {\n                for (var prop in obj) {\n                    if (obj.hasOwnProperty(prop)) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n\n\t\t},\n        //Adform\n\t\tadform: {\n\t\t    trackedPV: false,\n\t\t    vars: {\n\t\t        "lib": "https://s2.adform.net/banners/scripts/st/trackpoint-async.js",\n\t\t        "host": "track.adform.net",\n\t\t        "id": 669680,\n\t\t        "divider": "|",\n\t\t        "step": 1\n\t\t    },\n\t\t    trackPV: function(){\n\n\t\t        var pageName = this.getPageName();\n\n\t\t        if(pageName == "")\n\t\t            return false;\n\n\t\t        window._adftrack = Array.isArray(window._adftrack) ? window._adftrack : (window._adftrack ? [window._adftrack] : []);\n\t\t        window._adftrack.push({\n\t\t            HttpHost: this.vars.host,\n\t\t            pm: this.vars.id,\n\t\t            divider: encodeURIComponent(this.vars.divider),\n\t\t            pagename: encodeURIComponent(pageName),\n\t\t            order : { \n\t\t                 itms: [{ \n\t\t                     step: this.vars.step\n\t\t                 }]\n\t\t            }\n\t\t        });\n\n\t\t        this.loadLib();\n\n\t\t        this.trackedPV = true;\n\n\t\t        return true;\n\t\t    },\n\t\t    trackEvent: function(eventName, data){\n\n\t\t        //Eventos de formulario correcto\n\t\t      /*  if(eventName == "formSubmit" && data.hasOwnProperty("formSubmitAction") && data.formSubmitAction == "success"){\n\n\t\t            var pageName = (this.getPageName() + "/Conversion Page");\n\n\t\t            window._adftrack = Array.isArray(window._adftrack) ? window._adftrack : (window._adftrack ? [window._adftrack] : []);\n\t\t            window._adftrack.push({\n\t\t                HttpHost: this.vars.host,\n\t\t                pm: this.vars.id,\n\t\t                divider: encodeURIComponent(this.vars.divider),\n\t\t                pagename: encodeURIComponent(pageName),\n\t\t                order : {\n\t\t                    orderid: Math.floor(Math.random() * 10000000000).toString(),\n\t\t                    itms: [{ \n\t\t                        step: 3\n\t\t                    }]\n\t\t                }\n\t\t            });\n\n\t\t            this.loadLib();\n\t\t        }*/\n\n\t\t    },\n\t\t    loadLib: function(){\n\t\t        var s = document.createElement(\'script\'); \n\t\t        s.type = \'text/javascript\'; \n\t\t        s.async = true; \n\t\t        s.src = this.vars.lib; \n\t\t        var x = document.getElementsByTagName(\'script\')[0]; \n\t\t        x.parentNode.insertBefore(s, x);\n\t\t    },\n\t\t    getPageName: function(){\n\n\t\t        var pageName = "";\n\t\t        \n\t\t        switch(_satellite.getVar("dataLayer:webPageDetails:pageName")){\n\n\t\t            case "realmadrid:area_vip":\n\t\t                pageName = "Realmadrid/area-vip";\n\n\t\t                if(_satellite.getVar("dataLayer:webPageDetails:pageAnchor") == "calendariovip")\n\t\t                    pageName = "Realmadrid/area-vip/calendariovip";\n\n\t\t                break;\n\n\t\t            case "realmadrid:area_vip:landings:areavip_23_24":\n\t\t                pageName = "RealMadrid|Landing/areavip-23-24";\n\t\t                break;\n\n\t\t            case "realmadrid:area_vip:partido_vip:silver_club_grada":\n\t\t            \tpageName = "Realmadrid/partido-vip/silver club grada";\n\t\t            \tbreak;\n\n\t\t            case "realmadrid:area_vip:partido_vip:silver_club_2\xbaanfiteatro":\n\t\t            \tpageName = "Realmadrid/partido-vip/silver club 2 anfiteatro";\n\t\t            \tbreak;\n\n\t\t            default:\n\t\t                pageName = "";\n\n\t\t        }\n\n\t\t        return pageName;\n\t\t        \n\t\t    }\n\t\t}\n\t\t\n\t}\n}\n\nRMTagManager.init();',
language:"javascript"}}]},{id:"RLaded3c4ccc044efe9dcd6d3aa1ccaf4d",name:"03 |  All Pages | Web SDK Send event complete | Adobe Target ContentSquare integration | [Custom Code]",events:[{modulePath:"adobe-alloy/dist/lib/events/sendEventComplete/index.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC0ceb9543a4d14eeda4f5ce2e37350b3f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbcd6a441020741b8b92f0519a03916f3",name:"Event Track | All Pages | ACDL videoResume | Send videoResume event | [Web SDK]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"videoResume"},ruleOrder:50}],conditions:[{modulePath:"onetrust-consent-management-for-cookies/src/lib/conditions/performancecookiesactive.js",settings:{activeGroupFieldValue:"C0002"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:videoResumeEvents%",type:"web.webInteraction.videoResume",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC9fb41d0eb01349e9838bcc8d0b7c6bce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc0ebadac75e94298a357dea2bfb1b284",name:"Event Track | All Pages | ACDL videoReady | Send videoReady event | [Third-party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"videoReady"},ruleOrder:50}],conditions:[{modulePath:"onetrust-consent-management-for-cookies/src/lib/conditions/performancecookiesactive.js",settings:{activeGroupFieldValue:"C0002"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RCc7c2c219c8b74b0b8b9315b4d4968629-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd4ae2797f83d48a198acc0da7fbd2d15",name:"Event Listener | All Pages | Custom Event RMTagManagerPageLoadTracked | Exit Links | [ADCL push linkClick]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerPageLoadTracked",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RCcf909eb3f32b4e788616a425c93f99b3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd5763cd532e04222aaaabf00e623e136",name:"Event Listener | All Pages | Custom Event | Click events | [ACDL push click events]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerPageLoadTracked",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC93a5a920a26f4d48b76a5e63a2e6d677-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3841417683e40eab658b5d71e9abcf6",name:"Page Load Track | All Pages | Direct Call pageLoad | Send pageView sequential event | [Web SDK, ContentSquare, Third-party tags]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageLoad"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("oneTrust:applies")&&_satellite.getVar("oneTrust:loaded")}},timeout:2e3},{modulePath:"onetrust-consent-management-for-cookies/src/lib/conditions/performancecookiesactive.js",settings:{activeGroupFieldValue:"C0002"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:webPageDetails:pageLoadType%",rightOperand:"sequential"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:pageViews%",type:"web.webpagedetails.pageViews",instanceName:"alloy",renderDecisions:!0},timeout:2e4,delayNext:!0},{modulePath:"contentsquare/src/lib/actions/uxaInstallation.js",settings:{setPathInput:"",setQueryInput:"",setPathCheckbox:!1,setQueryCheckbox:!1},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RCe49ab4ab7c44480a97aa31a83ac1b059-source.min.js",language:"javascript",isExternal:!0},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RCd5695e6ff33a497999df13138605b8c2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf767abbee6234fa986e84b03cb65a964",name:"Event Listener | RMTV | ACDL buttonClick | RMTV Video Play Listener | [Custom Code]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerPageLoadTracked",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:webPageDetails:pageName%",rightOperand:"realmadrid:rmtv"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/7bc47c0b7114/962cfa6e27fa/RC2b3548203b6c47738a8b5456358a474d-source.min.js",language:"javascript",isExternal:!0}}]}]};var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){var a,n;return!1!==t(e)&&(void 0===(a=e.constructor)||!1!==t(n=a.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}function n(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function r(e){return e.substr(0,e.indexOf("["))}function o(e,t,a){if(e.length&&dt(t)){var i=e[0];if(1!==e.length){var s=e.slice(1);if(!n(i))return o(s,t[i],a);var c=t[i=r(i)];Array.isArray(c)&&c.forEach((function(e){return o(s,e,a)}))}else t.hasOwnProperty(i)&&"string"==typeof t[i]&&(t[i]=a(t[i]))}}if(window.atob){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=document,c=Object.assign,l=window,u=l,d=function(e,t,a,n){var r,o=Boolean(t&&Array.isArray(a)),i=Boolean(o&&e),s=document.createElement("a");if(o){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=u.location.protocol+e:s.href=e),s.hostname||c(),-1===a.indexOf(s.hostname)){var l=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw l.code="dynamic_host_not_allowed",l}}var d=function(){if(null!=r)return r;if(i){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),r=s.protocol+"//"+e}else r="";return r},g=function(e){return i&&"string"==typeof e?[d(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},f={getTurbineHost:d,decorateWithDynamicHost:g,get isDynamicEnforced(){return o}};return u&&n.onDebugChanged((function(e){e?u.dynamicHostResolver=f:delete u.dynamicHostResolver})),f},g=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(a){t.push({rule:e,event:a})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},f="debug",p=function(e,t){var a=function(){return"true"===e.getItem(f)},n=function(t){e.setItem(f,t)},r=[],o=function(e){r.push(e)};return t.outputEnabled=a(),{onDebugChanged:o,getDebugEnabled:a,setDebugEnabled:function(e){a()!==e&&(n(e),t.outputEnabled=e,r.forEach((function(t){t(e)})))}}},m="Module did not export a function.",y=function(e,t,a){return function(n,r,o){o=o||[];var i=e.getModuleExports(n.modulePath);if("function"!=typeof i)throw new Error(m);var s=e.getModuleDefinition(n.modulePath),c=n.settings||{};!n.hasTransformedFilePaths&&s.filePaths&&(a(c,s.filePaths,n.modulePath),n.hasTransformedFilePaths=!0);var l=t(c,r);return i.bind(null,l).apply(null,o)}},v=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},h={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},b="\ud83d\ude80",w=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":b,P=!1,L=function(e){if(P&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(w),e!==h.DEBUG||window.console[e]||(e=h.INFO),window.console[e].apply(window.console,t)}},D=L.bind(null,h.LOG),T=L.bind(null,h.INFO),E=L.bind(null,h.DEBUG),C=L.bind(null,h.WARN),k=L.bind(null,h.ERROR),S=function(){var e=P;P=!0,L.apply(null,Array.prototype.concat(h.WARN,Array.prototype.slice.call(arguments))),e||(P=!1)},I={log:D,info:T,debug:E,warn:C,error:k,deprecation:S,get outputEnabled(){return P},set outputEnabled(e){P=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:D.bind(null,t),info:T.bind(null,t),debug:E.bind(null,t),warn:C.bind(null,t),error:k.bind(null,t)}}},O=l,_="com.adobe.reactor.",j=function(e,t){var a=_+(t||"");return{getItem:function(t){try{return O[e].getItem(a+t)}catch(e){return null}},setItem:function(t,n){try{return O[e].setItem(a+t,n),!0}catch(e){return!1}}}},R=j,x="dataElements.",N=R("sessionStorage",x),A=R("localStorage",x),M={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},V={},U=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},F=v,q=I,B={setValue:function(e,t,a){var n;switch(t){case M.PAGEVIEW:return void(V[e]=a);case M.SESSION:return void((n=U(a))&&N.setItem(e,n));case M.VISITOR:return void((n=U(a))&&A.setItem(e,n))}},getValue:function(e,t){var a;switch(t){case M.PAGEVIEW:return V.hasOwnProperty(e)?V[e]:null;case M.SESSION:return null===(a=N.getItem(e))?a:JSON.parse(a);case M.VISITOR:return null===(a=A.getItem(e))?a:JSON.parse(a)}}},z=function(e,t,a,n){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+a+(n?"\n"+n:"")},H=function(e,t,a,n,r){return function(o,i){var s=t(o);if(!s)return n?"":void 0;var c,l,u=s.storageDuration;try{c=e.getModuleExports(s.modulePath),l=e.getModuleDefinition(s.modulePath)}catch(e){return void q.error(z(s,o,e.message,e.stack))}if("function"==typeof c){var d,g=s.settings||{};!s.hasTransformedFilePaths&&l.filePaths&&(r(g,l.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{d=c(a(g,i),i)}catch(e){return void q.error(z(s,o,e.message,e.stack))}return u&&(null!=d?B.setValue(o,u,d):d=B.getValue(o,u)),null==d&&null!=s.defaultValue&&(d=s.defaultValue),"string"==typeof d&&(s.cleanText&&(d=F(d)),s.forceLowerCase&&(d=d.toLowerCase())),d}q.error(z(s,o,"Module did not export a function."))}},G=v,W={text:function(e){return e.textContent},cleanText:function(e){return G(e.textContent)}},J=function(e,t,a){for(var n,r=e,o=0,i=t.length;o<i;o++){if(null==r)return;var s=t[o];if(a&&"@"===s.charAt(0)){var c=s.slice(1);r=W[c](r)}else if(r.getAttribute&&(n=s.match(/^getAttribute\((.+)\)$/))){var l=n[1];r=r.getAttribute(l)}else r=r[s]}return r},Q=function(e,t,a){return function(n,r){var o;if(t(n))o=a(n,r);else{var i=n.split("."),s=i.shift();"this"===s?r&&(o=J(r.element,i,!0)):"event"===s?r&&(o=J(r,i)):"target"===s?r&&(o=J(r.target,i)):o=J(e[s],i)}return o}},$=function(e,t){return function(a){var n=a.split(".")[0];return Boolean(t(a)||"this"===n||"event"===n||"target"===n||e.hasOwnProperty(n))}},K=function(e,t,a){var n={exports:{}};return e.call(n.exports,n,n.exports,t,a),n.exports},X=K,Y=I,Z=function(){var e={},t=function(t){var a=e[t];if(!a)throw new Error("Module "+t+" not found.");return a},a=function(){Object.keys(e).forEach((function(e){try{n(e)}catch(a){var t="Error initializing module "+e+". "+a.message+(a.stack?"\n"+a.stack:"");Y.error(t)}}))},n=function(e){var a=t(e);return a.hasOwnProperty("exports")||(a.exports=X(a.definition.script,a.require,a.turbine)),a.exports};return{registerModule:function(t,a,n,r,o){var i={definition:a,extensionName:n,require:r,turbine:o};i.require=r,e[t]=i},hydrateCache:a,getModuleExports:n,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ee=I,te=!1,ae=function(e){return function(t,a){var n=e._monitors;n&&(te||(ee.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),te=!0),n.forEach((function(e){e[t]&&e[t](a)})))}},ne=I,re=function(e,t,a){var n,r,o,i,s=[],c=function(n,r,o){if(!e(r))return n;s.push(r);var i=t(r,o);return s.pop(),null==i&&a?"":i};return n=function(e,t){var a=/^%([^%]+)%$/.exec(e);return a?c(e,a[1],t):e.replace(/%(.+?)%/g,(function(e,a){return c(e,a,t)}))},r=function(e,t){for(var a={},n=Object.keys(e),r=0;r<n.length;r++){var o=n[r],s=e[o];a[o]=i(s,t)}return a},o=function(e,t){for(var a=[],n=0,r=e.length;n<r;n++)a.push(i(e[n],t));return a},i=function(e,t){return"string"==typeof e?n(e,t):Array.isArray(e)?o(e,t):"object"==typeof e&&null!==e?r(e,t):e},function(e,t){return s.length>10?(ne.error("Data element circular reference detected: "+s.join(" -> ")),e):i(e,t)}},oe=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var a in t)e[a]=t[a]}}},ie="undefined"!=typeof window&&window.Promise||void 0!==i&&i.Promise,se=ie,ce=function(e,t,a){return function(n,r,o,i){return i.then((function(){var i,s=n.delayNext;return new se((function(t,a){var r=e(n,o,[o]);if(!s)return t();var c=n.timeout,l=new se((function(e,t){i=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));se.race([r,l]).then(t,a)})).catch((function(e){return clearTimeout(i),e=t(e),a(n,r,e),se.reject(e)})).then((function(){clearTimeout(i)}))}))}},le=ie,ue=function(e,t,a,n,r){return function(o,i,s,c){return c.then((function(){var c;return new le((function(t,a){var n=e(o,s,[s]),r=o.timeout,i=new le((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+r/1e3+" seconds to complete. "))}),r)}));le.race([n,i]).then(t,a)})).catch((function(e){return clearTimeout(c),e=t(e),n(o,i,e),le.reject(e)})).then((function(e){if(clearTimeout(c),!a(o,e))return r(o,i),le.reject()}))}))}},de=ie.resolve(),ge=function(e,t,a){return function(n,r){return n.conditions&&n.conditions.forEach((function(t){de=e(t,n,r,de)})),n.actions&&n.actions.forEach((function(e){de=t(e,n,r,de)})),de=(de=de.then((function(){a(n)}))).catch((function(){}))}},fe=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},pe=function(e,t,a,n){return function(r,o){var i;if(r.conditions)for(var s=0;s<r.conditions.length;s++){i=r.conditions[s];try{var c=e(i,o,[o]);if(fe(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(i,c))return a(i,r),!1}catch(e){return n(i,r,e),!1}}return!0}},me=function(e,t){return function(a,n){e(a,n)&&t(a,n)}},ye=function(e){return function(t){var a=e.getModuleDefinition(t.modulePath);return a&&a.displayName||t.modulePath}},ve=function(e){return function(t){var a=t.rule,n=t.event,r=e.getModuleDefinition(n.modulePath).name;return{$type:e.getModuleExtensionName(n.modulePath)+"."+r,$rule:{id:a.id,name:a.name}}}},he=function(e,t,a,n,r,o){return function(i,s){var c=s.rule,l=s.event;l.settings=l.settings||{};try{var u=r(s);t(l,null,[function(t){var n=a(u,t);i((function(){e(n,c)}))}])}catch(e){o.error(n(l,c,e))}}},be=function(e,t,a,n){return function(r,o,i){var s=t(r);a.error(e(s,o.name,i)),n("ruleActionFailed",{rule:o,action:r})}},we=function(e,t,a,n){return function(r,o,i){var s=t(r);a.error(e(s,o.name,i)),n("ruleConditionFailed",{rule:o,condition:r})}},Pe=function(e,t,a){return function(n,r){var o=e(n);t.log('Condition "'+o+'" for rule "'+r.name+'" was not met.'),a("ruleConditionFailed",{rule:r,condition:n})}},Le=function(e,t){return function(a){e.log('Rule "'+a.name+'" fired.'),t("ruleCompleted",{rule:a})}},De=function(e,t,a){return function(n,r){var o;if(n.actions)for(var i=0;i<n.actions.length;i++){o=n.actions[i];try{e(o,r,[r])}catch(e){return void t(o,n,e)}}a(n)}},Te=function(e,t,a,n){return function(r,o){n("ruleTriggered",{rule:o}),e?a(o,r):t(o,r)}},Ee=function(e,t,a){return'Failed to execute "'+e+'" for "'+t+'" rule. '+a.message+(a.stack?"\n"+a.stack:"")},Ce=function(e,t){return t&&!e.negate||!t&&e.negate},ke=[],Se=!1,Ie=function(e){Se?e():ke.push(e)},Oe=function(e,t,a){e(t).forEach((function(e){a(Ie,e)})),Se=!0,ke.forEach((function(e){e()})),ke=[]},_e=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},je={};Object.defineProperty(je,"__esModule",{value:!0}),je.isPlainObject=a;var Re,xe=I,Ne=c,{isPlainObject:Ae}=je,Me=function(e,t){return Ae(t=t||{})?t=Ne({},t,e):Ne(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return xe.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ve=function(e,t){return function(a,n){var r=e[a];if(r){var o=r.modules;if(o)for(var i=Object.keys(o),s=0;s<i.length;s++){var c=i[s],l=o[c];if(l.shared&&l.name===n)return t.getModuleExports(c)}}}},Ue=function(e,t){return function(){return t?e(t):{}}},Fe=function(e,t,a){return function(n){if(a){var r=n.split(".");r.splice(r.length-1||1,0,"min"),n=r.join(".")}return e(t)+n}},qe=".js",Be=function(e){return e.substr(0,e.lastIndexOf("/"))},ze=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},He=function(e,t){ze(t,qe)||(t+=qe);var a=t.split("/"),n=Be(e).split("/");return a.forEach((function(e){e&&"."!==e&&(".."===e?n.length&&n.pop():n.push(e))})),n.join("/")},Ge={exports:{}};Re=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var n in a)t[n]=a[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(n){function r(){}function o(t,a,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var i=JSON.stringify(a);/^[\{\[]/.test(i)&&(a=i)}catch(e){}a=n.write?n.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+a+s}}function i(e,a){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],i=0;i<o.length;i++){var s=o[i].split("="),c=s.slice(1).join("=");a||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(n.read||n)(c,l)||t(c),a)try{c=JSON.parse(c)}catch(e){}if(r[l]=c,e===l)break}catch(e){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return i(e,!1)},r.getJSON=function(e){return i(e,!0)},r.remove=function(t,a){o(t,"",e(a,{expires:-1}))},r.defaults={},r.withConverter=a,r}return a((function(){}))},Ge.exports=Re();var We=Ge.exports,Je={get:We.get,set:We.set,remove:We.remove},Qe=ie,$e=function(e,t){return new Qe((function(a,n){t.onload=function(){a(t)},t.onerror=function(){n(new Error("Failed to load script "+e))}}))},Ke=function(e){var t={};if(!e||"string"!=typeof e)return t;var a=e.trim().replace(/^[?#&]/,""),n=new URLSearchParams(a),r=n.keys();do{var o=r.next(),i=o.value;if(i){var s=n.getAll(i);1===s.length?t[i]=s[0]:t[i]=s}}while(!1===o.done);return t},Xe=function(e){var t="{{space}}",a=new URLSearchParams;return Object.keys(e).forEach((function(n){var r=e[n];"string"==typeof e[n]?r=r.replace(/ /g,t):["object","undefined"].includes(typeof r)&&!Array.isArray(r)&&(r=""),Array.isArray(r)?r.forEach((function(e){a.append(n,e)})):a.append(n,r)})),a.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")},Ye="@adobe/reactor-",Ze={cookie:Je,document:s,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=$e(e,t);return document.getElementsByTagName("head")[0].appendChild(t),a},"object-assign":c,promise:ie,"query-string":{parse:function(e){return Ke(e)},stringify:function(e){return Xe(e)}},window:l},et=function(e){return function(t){if(0===t.indexOf(Ye)){var a=t.substr(Ye.length),n=Ze[a];if(n)return n}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},tt=Ve,at=Ue,nt=Fe,rt=I,ot=He,it=et,st=function(e,t,a,n,r,o,i){var s=e.extensions,c=e.buildInfo,l=e.environment,u=e.property.settings;if(s){var d=tt(s,t);Object.keys(s).forEach((function(g){var f=s[g],p=f.settings;Array.isArray(f.filePaths)&&(p=o(p,f.filePaths));var m=at(n,p);if(f.modules){var y=rt.createPrefixedLogger(f.displayName),v=nt(i,f.hostedLibFilesBaseUrl,c.minified),h={buildInfo:c,environment:l,property:{name:e.property.name,id:e.property.id},getDataElementValue:r,getExtensionSettings:m,getHostedLibFileUrl:v,getSharedModule:d,logger:y,propertySettings:u,replaceTokens:n,onDebugChanged:a.onDebugChanged,get debugEnabled(){return a.getDebugEnabled()}};Object.keys(f.modules).forEach((function(e){var a=f.modules[e],n=it((function(a){var n=ot(e,a);return t.getModuleExports(n)}));t.registerModule(e,a,g,n,h)}))}})),t.hydrateCache()}return t},ct=Je,lt=I,ut=function(e,t,a,n,r){var o=lt.createPrefixedLogger("Custom Script");e.track=function(e){lt.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=o,e.notify=function(e,t){switch(lt.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:o.info(e);break;case 4:o.warn(e);break;case 5:o.error(e);break;default:o.log(e)}},e.getVar=n,e.setVar=r,e.setCookie=function(e,t,a){var n="",r={};a&&(n=", { expires: "+a+" }",r.expires=a);var o='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+n+").";lt.deprecation(o),ct.set(e,t,r)},e.readCookie=function(e){return lt.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),ct.get(e)},e.removeCookie=function(e){lt.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),ct.remove(e)},e.cookie=ct,e.pageBottom=function(){},e.setDebug=a;var i=!1;Object.defineProperty(e,"_container",{get:function(){return i||(lt.warn("_satellite._container may change at any time and should only be used for debugging."),i=!0),t}})},{isPlainObject:dt}=je,gt=s,ft=c,pt=d,mt=g,yt=p,vt=y,ht=H,bt=Q,wt=$,Pt=Z,Lt=ae,Dt=re,Tt=oe,Et=ce,Ct=ue,kt=ge,St=pe,It=me,Ot=ye,_t=ve,jt=he,Rt=be,xt=we,Nt=Pe,At=Le,Mt=De,Vt=Te,Ut=Ee,Ft=Ce,qt=Oe,Bt=_e,zt=Me,Ht=j,Gt=st,Wt=ut,Jt=function(e,t){return function(a,n,r){return e&&dt(a)&&Object.keys(a).length&&Array.isArray(n)&&n.length?(n.forEach((function(e){Boolean(null!=r&&/^core\/.*actions.*\/customCode\.js$/.test(r))&&"source"===e&&!a.isExternal||o(e.split("."),a,t)})),a):a}},Qt=I,$t=window._satellite;if($t&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var Kt=$t.container;delete $t.container;var Xt=ft({},Kt.buildInfo);Object.defineProperty(Xt,"environment",{get:function(){return Qt.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),Kt.environment.stage}}),Kt.buildInfo=Xt;var Yt,Zt=yt(Ht("localStorage"),Qt),ea="";gt.currentScript&&gt.currentScript.getAttribute("src")&&(ea=gt.currentScript.getAttribute("src"));try{Yt=pt(ea,Boolean(Kt.company.dynamicCdnEnabled),Kt.company.cdnAllowList,Zt)}catch(e){throw Qt.warn("Please review the following error:"),e}var ta,aa=Jt(Yt.isDynamicEnforced,Yt.decorateWithDynamicHost),na=Pt(),ra=Kt.property.settings.undefinedVarsReturnEmpty,oa=Kt.property.settings.ruleComponentSequencingEnabled,ia=Kt.dataElements||{},sa=function(e){return ia[e]},ca=function(){return ta.apply(null,arguments)},la=ht(na,sa,ca,ra,aa),ua={},da=Tt(ua),ga=wt(ua,sa),fa=bt(ua,sa,la);ta=Dt(ga,fa,ra),Wt($t,Kt,Zt.setDebugEnabled,fa,da),Gt(Kt,na,Zt,ta,la,aa,Yt.decorateWithDynamicHost);var pa=Lt($t),ma=vt(na,ta,aa),ya=Ot(na),va=Nt(ya,Qt,pa),ha=xt(Ut,ya,Qt,pa),ba=Rt(Ut,ya,Qt,pa),wa=At(Qt,pa),Pa=jt(Vt(oa,It(St(ma,Ft,va,ha),Mt(ma,ba,wa)),kt(Ct(ma,Bt,Ft,ha,va),Et(ma,Bt,ba),wa),pa),ma,zt,Ut,_t(na),Qt);qt(mt,Kt.rules||[],Pa)}return e($t)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();