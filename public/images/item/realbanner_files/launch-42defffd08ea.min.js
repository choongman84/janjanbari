// For license information, see `https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/launch-42defffd08ea.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2024-11-22T09:54:25Z",turbineBuildDate:"2024-08-22T17:32:44Z",turbineVersion:"28.0.0"},environment:{id:"ENe436a3984b9945b2b0edb5fa373afa77",stage:"production"},dataElements:{"aep:xdm:productListRemoval":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"productListRemovals",match:{matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"productListRemoval",type:"other"},webPageDetails:{URL:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",metatags_list:"%dataLayer:webPageDetails:metatagsList%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{order:{currencyCode:"%dataLayer:webPageDetails:currency%"},productListRemovals:{value:1}},eventType:"commerce.productListRemovals",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},productListItems:"%dataLayer:productListItems%",implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:orderInfo:priceTotal":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("priceTotal")?parseFloat(e.orderInfo.priceTotal):0}}},"dataLayer:webPageDetails:userAgent":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("userAgent")?e.webPageDetails.userAgent:""}}},"dataLayer:orderInfo:purchaseID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("purchaseID")?e.orderInfo.purchaseID:""}}},"aep:xdm:productViews":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"productListAdds",match:{matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"productViews",type:"other"},webPageDetails:{URL:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",metatags_list:"%dataLayer:webPageDetails:metatagsList%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{order:{currencyCode:"%dataLayer:webPageDetails:currency%"},shipping:{shippingAmount:"%dataLayer:orderInfo:shippingAmount%",shippingMethod:"%dataLayer:orderInfo:shippingMethod%"},_realmadrid:{funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"}},promotionID:"%dataLayer:promotion:promotionID%",productViews:{value:1}},eventType:"commerce.productViews",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},productListItems:"%dataLayer:productListItems%",implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:user:userGender":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userGender")?e.user.userGender:""}}},"dataLayer:linkClick:linkPath":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkClick")&&e.linkClick.hasOwnProperty("linkPath")?e.linkClick.linkPath:""}}},"queryParam:utm_campaign":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("utm_campaign"):""}}},"dataLayer:orderInfo:paymentType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("paymentType")?e.orderInfo.paymentType:""}}},"dataLayer:formTracking:formMetatags":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formMetatags")?e.formTracking.formMetatags:[]}}},"dataLayer:webPageDetails:pageDomain":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageDomain")&&""!=e.webPageDetails.pageDomain?e.webPageDetails.pageDomain:location.host}}},"aep:xdm:productListAdd":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"productListAdds",match:{matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"productListAdd",type:"other"},webPageDetails:{URL:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",metatags_list:"%dataLayer:webPageDetails:metatagsList%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{order:{currencyCode:"%dataLayer:webPageDetails:currency%"},productListAdds:{value:1}},eventType:"commerce.productListAdds",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},productListItems:"%dataLayer:productListItems%",implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:identification:idpID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("identification")&&e.identification.hasOwnProperty("idpID")?e.identification.idpID:""}}},"dataLayer:webPageDetails:pageLevel3":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLevel3")&&""!=e.webPageDetails.pageLevel3?e.webPageDetails.pageLevel3:""}}},"aep:xdm:paymentInfo":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"addressInfo",match:{matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"paymentInfo",type:"other",_realmadrid:{eventCounter:{paymentInfo:1}}},webPageDetails:{URL:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",metatags_list:"%dataLayer:webPageDetails:metatagsList%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{order:{payments:[{paymentType:"%dataLayer:orderInfo:paymentType%"}],currencyCode:"%dataLayer:webPageDetails:currency%"}},eventType:"commerce.paymentInfo",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},productListItems:"%dataLayer:productListItems%",implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:promotion:promotionValue":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("promotion")&&e.promotion.hasOwnProperty("promotionValue")?e.promotion.promotionValue:null}}},"dataLayer:webPageDetails:advantageName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("advantageName")?e.webPageDetails.advantageName:""}}},"dataLayer:linkClick:linkName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkClick")&&e.linkClick.hasOwnProperty("linkName")?e.linkClick.linkName:""}}},"dataLayer:webInteraction:moduleType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webInteraction")&&e.webInteraction.hasOwnProperty("moduleType")?e.webInteraction.moduleType:""}}},"dataLayer:formTracking:formErrorFieldsDetail":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formErrorFieldsDetail")?"object"==typeof e.formTracking.formErrorFieldsDetail?JSON.stringify(e.formTracking.formErrorFieldsDetail):e.formTracking.formErrorFieldsDetail:""}}},"document.location.hash":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return document.location.hash}}},"dataLayer:scrollTracking:scrollModule":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("scrollTracking")&&e.scrollTracking.hasOwnProperty("scrollModule")?e.scrollTracking.scrollModule:""}}},"dataLayer:webPageDetails:pageTopDomain":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageTopDomain")&&""!=e.webPageDetails.pageTopDomain?e.webPageDetails.pageTopDomain:location.host.substr(location.host.lastIndexOf("."))}}},"dataLayer:campaign:campaignContent":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("campaignContent")?e.campaign.campaignContent:_satellite.getVar("queryParam:utm_content")}}},"document.location.pathname":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return document.location.pathname}}},"dataLayer:state":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:""}},"dataLayer:linkClick:linkID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkClick")&&e.linkClick.hasOwnProperty("linkID")?e.linkClick.linkID:""}}},"queryParam:utm_content":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("utm_content"):""}}},"dataLayer:webPageDetails:metatagsList":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("metatagsList")&&"string"==typeof e.webPageDetails.metatagsList?e.webPageDetails.metatagsList:_satellite.getVar("dataLayer:webPageDetails:pageMetatags").toString()}}},"dataLayer:campaign:campaignID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("campaignID")?e.campaign.campaignID:_satellite.getVar("queryParam:utm_campaign")}}},"dataLayer:orderInfo:tax":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("tax")?e.orderInfo.tax:null}}},"dataLayer:webPageDetails:canonicalURLValid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("canonicalURLValid")?e.webPageDetails.canonicalURLValid:""}}},"dataLayer:filter:filterKeyword":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterKeyword")?e.filter.filterKeyword:""}}},"metaPixel:id":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"1166490870370427"}},"aep:xdm:checkoutEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"checkout",match:{matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"checkout",type:"other"},webPageDetails:{URL:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",metatags_list:"%dataLayer:webPageDetails:metatagsList%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{order:{payments:[{paymentType:"%dataLayer:orderInfo:paymentType%"}],currencyCode:"%dataLayer:webPageDetails:currency%"},checkouts:{value:1}},eventType:"commerce.checkouts",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},productListItems:"%dataLayer:productListItems%",implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:login:loginErrorMessage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("login")&&e.login.hasOwnProperty("loginErrorMessage")?e.login.loginErrorMessage:""}}},"dataLayer:siteSearch:siteSearchMethod":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("siteSearch")&&e.siteSearch.hasOwnProperty("siteSearchMethod")?e.siteSearch.siteSearchMethod:""}}},"dataLayer:socialNetwork:socialNetworkAction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("socialNetwork")&&e.socialNetwork.hasOwnProperty("socialNetworkAction")?e.socialNetwork.socialNetworkAction:""}}},"dataLayer:user:userCategory":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userCategory")?e.user.userCategory:""}}},"dataLayer:user:hashedPhone":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("hashedPhone")?e.user.hashedPhone:""}}},"dataLayer:linkClick:linkPosition":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkPosition")&&e.linkClick.hasOwnProperty("linkPosition")?e.linkClick.linkPosition:""}}},"dataLayer:promotion:promotionID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("promotion")&&e.promotion.hasOwnProperty("promotionID")?e.promotion.promotionID:""}}},"dataLayer:filter:filterSection":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterSection")?e.filter.filterSection:""}}},"dataLayer:linkClick:linkURL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkClick")&&e.linkClick.hasOwnProperty("linkURL")?e.linkClick.linkURL:""}}},"dataLayer:consents:consentsUpdated":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("consents")&&e.consents.hasOwnProperty("consentsUpdated")?e.consents.consentsUpdated:""}}},"dataLayer:videoTracking:videoID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoID")?e.videoTracking.videoID:""}}},"aep:xdm:addressInfo":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"addressInfo",match:{matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"addressInfo",type:"other",_realmadrid:{eventCounter:{addressInfo:1}}},webPageDetails:{URL:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",metatags_list:"%dataLayer:webPageDetails:metatagsList%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{order:{payments:[{paymentType:"%dataLayer:orderInfo:paymentType%"}],currencyCode:"%dataLayer:webPageDetails:currency%"}},eventType:"commerce.addressInfo",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},productListItems:"%dataLayer:productListItems%",implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"queryParam:utm_source":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("utm_source"):""}}},"dataLayer:filter:filterMoment":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterMoment")?e.filter.filterMoment:""}}},"oneTrust:applies":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!0}}},"dataLayer:webPageDetails:pageName":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state")
;return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageName")&&""!=e.webPageDetails.pageName?e.webPageDetails.pageName:location.host+location.pathname}}},"dataLayer:login:loginMethod":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("login")&&e.login.hasOwnProperty("loginMethod")?e.login.loginMethod:""}}},"facebook:accountID":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"619152566483368"}},"dataLayer:formTracking:formSubmitAction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formSubmitAction")?e.formTracking.formSubmitAction:""}}},"dataLayer:productListItems":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("productListItems")&&"object"==typeof e.productListItems?e.productListItems:[]}}},"dataLayer:user:externalID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("externalID")?e.user.externalID:""}}},"dataLayer:campaign:campaignMedium":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("campaignMedium")?e.campaign.campaignMedium:_satellite.getVar("queryParam:utm_medium")}}},"dataLayer:webPageDetails:newsName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsName")?e.webPageDetails.newsName:""}}},"dataLayer:webPageDetails:matchTitle":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("matchTitle")?e.webPageDetails.matchTitle:""}}},"dataLayer:formTracking:formLocation":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formLocation")?e.formTracking.formLocation:""}}},"dataLayer:linkClick:moduleType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkClick")&&e.linkClick.hasOwnProperty("moduleType")?e.linkClick.moduleType:""}}},"dataLayer:user:userLoyaltyStatus":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userLoyaltyStatus")?e.user.userLoyaltyStatus:""}}},"aep:setConsent":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{collect:{val:"y"},metadata:{time:(new Date).toISOString()}}}}},"dataLayer:login:loginErrorFields":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("login")&&e.login.hasOwnProperty("loginErrorFields")?e.login.loginErrorFields:[]}}},"dataLayer:webPageDetails:pageAnchor":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");if(e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageAnchor")&&""!=e.webPageDetails.pageAnchor)return e.webPageDetails.pageAnchor;var t=document.location.href;return-1!=t.indexOf("#")?t.substr(t.indexOf("#")+1).replace(/[\?].*?$/g,""):""}}},"dataLayer:photoTracking:photoProgress":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("photoTracking")&&e.photoTracking.hasOwnProperty("photoProgress")?e.photoTracking.photoProgress:""}}},"dataLayer:photoTracking:photoID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("photoTracking")&&e.photoTracking.hasOwnProperty("photoID")?e.photoTracking.photoID:""}}},"dataLayer:user:userLifetimeValue":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userLifetimeValue")?e.user.userLifetimeValue:null}}},"queryParam:intcid":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("itm_campaign"):""}}},"dataLayer:socialNetwork:socialNetworkErrorMessage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("socialNetwork")&&e.socialNetwork.hasOwnProperty("socialNetworkErrorMessage")?e.socialNetwork.socialNetworkErrorMessage:""}}},"dataLayer:videoTracking:videoPlayerObject":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoPlayerObject")?e.videoTracking.videoPlayerObject:""}}},"dataLayer:formTracking:formType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formType")?e.formTracking.formType:""}}},"dataLayer:webPageDetails:pageLevel2":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLevel2")&&""!=e.webPageDetails.pageLevel2?e.webPageDetails.pageLevel2:""}}},"dataLayer:photoTracking:photoAuthor":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("photoTracking")&&e.photoTracking.hasOwnProperty("photoAuthor")?e.photoTracking.photoAuthor:""}}},"dataLayer:orderInfo:promotionValue":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("promotionValue")?e.orderInfo.promotionValue:null}}},"dataLayer:scrollTracking:scrollPercentage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state"),t=null;if(e.hasOwnProperty("scrollTracking")&&e.scrollTracking.hasOwnProperty("scrollPercentage"))try{t=parseInt(e.scrollTracking.scrollPercentage)}catch(e){t=null}return t}}},"dataLayer:user:gdprStatus":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("gdprStatus")?e.user.gdprStatus:"not_set"}}},"dataLayer:shipping:shippingMethod":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("shipping")&&e.shipping.hasOwnProperty("shippingMethod")?e.shipping.shippingMethod:""}}},"datalayer:logout:logoutErrorMessage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("logout")&&e.logout.hasOwnProperty("logoutErrorMessage")?e.logout.logoutErrorMessage:""}}},"dataLayer:funnelInfo:funnelPlace":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("funnelInfo")&&e.funnelInfo.hasOwnProperty("funnelPlace")?e.funnelInfo.funnelPlace:""}}},"dataLayer:siteSearch:searchAction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("siteSearch")&&e.siteSearch.hasOwnProperty("searchAction")?e.siteSearch.searchAction:""}}},"dataLayer:user:adsBlockedStatus":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("adsBlockedStatus")?e.user.adsBlockedStatus:""}}},"aep:trackingServer":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="edge.adobedc.net";return-1!=location.host.indexOf("realmadrid.com")&&(e="dc.realmadrid.com"),e}}},"dataLayer:formTracking:formName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formName")?e.formTracking.formName:""}}},"dataLayer:orderInfo:shippingMethod":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("shippingMethod")?e.orderInfo.shippingMethod:""}}},"dataLayer:linkClick:linkType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("linkClick")&&e.linkClick.hasOwnProperty("linkType")&&""!==e.linkClick.linkType?e.linkClick.linkType:"other"}}},"dataLayer:webReferrer:previousName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webReferrer")&&e.webReferrer.hasOwnProperty("previousName")&&""!=e.webReferrer.previousName?e.webReferrer.previousName:""}}},"dataLayer:webPageDetails:pageMoment":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageMoment")&&""!=e.webPageDetails.pageMoment?e.webPageDetails.pageMoment:""}}},"dataLayer:webPageDetails:pageTitle":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageTitle")&&""!=e.webPageDetails.pageTitle?e.webPageDetails.pageTitle:document.title}}},"dataLayer:webPageDetails:newsType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsType")?e.webPageDetails.newsType:""}}},"dataLayer:webPageDetails:newsUrl":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsUrl")?e.webPageDetails.newsUrl:""}}},"dataLayer:videoTracking:videoTemplate":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoTemplate")?e.videoTracking.videoTemplate:""}}},"dataLayer:login:loginAction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("login")&&e.login.hasOwnProperty("loginAction")?e.login.loginAction:""}}},"dataLayer:orderInfo:shippingAmount":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("shippingAmount")?parseFloat(e.orderInfo.shippingAmount):0}}},"aep:datastreamID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="1"===_satellite.getVar("dataLayer:user:gdprStatus"),t="production"===_satellite.environment.stage?"prod":"dev",a={dev:{accept:"946a24ca-1c6a-4e98-a336-895325832f68",reject:"d5c0c7c4-f18d-4c73-a9aa-eeae506721a7"},prod:{accept:"602d1c8d-ea15-4207-8651-d5076975a508",reject:"8bc454d0-89de-4767-91e4-7433f9ea71dc"}};return e?a[t].accept:a[t].reject}}},"aep:xdm:consentsUpdated":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"consentsUpdated",match:{team:"%dataLayer:webPageDetails:team%",matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{type:"other",_realmadrid:{eventCounter:{consentsUpdated:1},consentTracking:{consentsUpdated:"%dataLayer:consents:consentsUpdated%",consentManagerVendor:"%dataLayer:consents:consentManagerVendor%"}}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",viewName:"%dataLayer:webPageDetails:pagePath%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",canonicalURL:"%dataLayer:webPageDetails:canonicalURL%",metatags_list:"%dataLayer:webPageDetails:metatagsList%",brandedContent:"%dataLayer:webPageDetails:brandedContent%",canonicalURLValid:"%dataLayer:webPageDetails:canonicalURLValid%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{_realmadrid:{funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"}}},eventType:"web.webInteraction.consentTracking.consentsUpdated",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:webPageDetails:pageTemplate":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageTemplate")&&""!=e.webPageDetails.pageTemplate?e.webPageDetails.pageTemplate:""}}},"dataLayer:webPageDetails:newsCategory":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsCategory")?e.webPageDetails.newsCategory:""}}},"dataLayer:siteSearch:siteSearchResultsNumber":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("siteSearch")&&e.siteSearch.hasOwnProperty("siteSearchResultsNumber")?e.siteSearch.siteSearchResultsNumber:null}}},"dataLayer:formTracking:formSubmitError":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formSubmitError")?e.formTracking.formSubmitError:""}}},"aep:xdm:consentBannerShow":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"consentBannerShow",match:{team:"%dataLayer:webPageDetails:team%",matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{type:"other",_realmadrid:{eventCounter:{consentBannerShow:1}}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",viewName:"%dataLayer:webPageDetails:pagePath%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",canonicalURL:"%dataLayer:webPageDetails:canonicalURL%",metatags_list:"%dataLayer:webPageDetails:metatagsList%",brandedContent:"%dataLayer:webPageDetails:brandedContent%",canonicalURLValid:"%dataLayer:webPageDetails:canonicalURLValid%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{_realmadrid:{funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"}}},eventType:"web.webInteraction.consentTracking.consentBannerShow",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:webPageDetails:newsTitle":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsTitle")?e.webPageDetails.newsTitle:""}}},"aep:xdm:formSubmitEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"formSubmit",match:{matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"formSubmit",type:"other",_realmadrid:{eventCounter:{formSubmit:1},formTracking:{formName:"%dataLayer:formTracking:formName%",formSubmitError:"%dataLayer:formTracking:formSubmitError%",formSubmitAction:"%dataLayer:formTracking:formSubmitAction%"},buttonTracking:{buttonName:"%dataLayer:buttonClick:buttonName%"}}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",metatags_list:"%dataLayer:webPageDetails:metatagsList%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{_realmadrid:{funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"}}},eventType:"web.webInteraction.formTracking.formSubmit",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:webReferrer:previousPageURL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webReferrer")&&e.webReferrer.hasOwnProperty("previousPageURL")&&""!=e.webReferrer.previousPageURL?e.webReferrer.previousPageURL:document.referrer}}},"dataLayer:webPageDetails:team":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("team")?e.webPageDetails.team:""}}},"identityMap - testEmail":{modulePath:"adobe-alloy/dist/lib/dataElements/identityMap/index.js",settings:{Email:[{id:"%testEmail%",primary:!1,authenticatedState:"authenticated"}],IdPID:[{id:"%testEmail%",primary:!1,authenticatedState:"authenticated"}]}},"dataLayer:consents:consentManagerVendor":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("consents")&&e.consents.hasOwnProperty("consentManagerVendor")?e.consents.consentManagerVendor:""}}},"dataLayer:videoTracking:videoType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoType")?e.videoTracking.videoType:""}}},"dataLayer:user:userLoginStatus":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userLoginStatus")?e.user.userLoginStatus:""}}},"dataLayer:socialNetwork:socialNetworkPlatform":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("socialNetwork")&&e.socialNetwork.hasOwnProperty("socialNetworkPlatform")?e.socialNetwork.socialNetworkPlatform:""}}},"dataLayer:webPageDetails:siteEnviroment":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("siteEnviroment")&&""!=e.webPageDetails.siteEnviroment?e.webPageDetails.siteEnviroment:-1!==location.host.indexOf(".realmadrid.com")?"pro":"stage"}}},"dataLayer:videoTracking:videoTimePercentage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state"),t=null;if(e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoTimePercentage"))try{t=parseInt(e.videoTracking.videoTimePercentage)}catch(e){t=null}return t}}},"dataLayer:videoTracking:videoTimeTotal":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state"),t=null;if(e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoTimeTotal"))try{t=parseInt(e.videoTracking.videoTimeTotal)}catch(e){t=null}return t}}},"dataLayer:register:registerLoyalType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("register")&&e.register.hasOwnProperty("registerLoyalType")?e.register.registerLoyalType:""}}},"gtm:accountID":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"GTM-WJF7H22"}},"contentsquare:priceTotal":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:orderInfo:priceTotal");return"number"!=typeof e?e=0:0==e&&(e=1),e}}},"dataLayer:webPageDetails:newsAuthor":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsAuthor")?e.webPageDetails.newsAuthor:""}}},"queryParam:workflow":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("workflow"):""}}},"dataLayer:user:userOneTrustPreferences":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userOneTrustPreferences")?e.user.userOneTrustPreferences:""}}},"queryParam:utm_medium":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("utm_medium"):""}}},"dataLayer:webInteraction:interactionElementTitle":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webInteraction")&&e.webInteraction.hasOwnProperty("interactionElementTitle")?e.webInteraction.interactionElementTitle:""}}},"setConsent value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{collect:{val:"y"},metadata:{time:(new Date).toISOString()}}}}},"dataLayer:buttonClick:buttonName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("buttonClick")&&e.buttonClick.hasOwnProperty("buttonName")?e.buttonClick.buttonName:""}}},"dataLayer:webPageDetails:pageLoadType":{defaultValue:"sequential",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLoadType")&&""!=e.webPageDetails.pageLoadType?e.webPageDetails.pageLoadType:"sequential"}}},"queryParam:utm_term":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof RMTagManager?RMTagManager.utils.getQueryParam("utm_term"):""}}},"dataLayer:webPageDetails:pageLevel1":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLevel1")&&""!=e.webPageDetails.pageLevel1?e.webPageDetails.pageLevel1:""}}},"dataLayer:photoTracking:photoAdvanceType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("photoTracking")&&e.photoTracking.hasOwnProperty("photoAdvanceType")?e.photoTracking.photoAdvanceType:""}}},"dataLayer:videoTracking:videoPlayer":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoPlayer")?e.videoTracking.videoPlayer:""}}},"dataLayer:promotion:promotionName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("promotion")&&e.promotion.hasOwnProperty("promotionName")?e.promotion.promotionName:""}}},"dataLayer:funnelInfo:funnelSeat":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("funnelInfo")&&e.funnelInfo.hasOwnProperty("funnelSeat")?e.funnelInfo.funnelSeat:""}}},"dataLayer:formTracking:formTemplate":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formTemplate")?e.formTracking.formTemplate:""}}},"dataLayer:campaign:campaignTerm":{modulePath:"core/src/lib/dataElements/customCode.js",
settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("campaignTerm")?e.campaign.campaignTerm:_satellite.getVar("queryParam:utm_term")}}},"aep:xdm:productSelection":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"productSelection",match:{matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"productSelection",type:"other",_realmadrid:{eventCounter:{productSelection:1}}},webPageDetails:{URL:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",metatags_list:"%dataLayer:webPageDetails:metatagsList%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{order:{currencyCode:"%dataLayer:webPageDetails:currency%"}},eventType:"commerce.productSelection",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},productListItems:"%dataLayer:productListItems%",implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:orderInfo:coupon":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("coupon")?e.orderInfo.coupon:""}}},"dataLayer:formTracking:moduloType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("moduloType")?e.formTracking.moduloType:""}}},getEventID:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return RMTagManager.dataLayer.getEventID()}}},"dataLayer:webPageDetails:brandedContent":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("brandedContent")?e.webPageDetails.brandedContent:""}}},event_merge_id:{modulePath:"adobe-alloy/dist/lib/dataElements/eventMergeId/index.js",settings:{cacheId:"080f9927-9db0-4f16-8dcb-ec2bc4c9eea2"}},"dataLayer:webPageDetails:country":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("country")?e.webPageDetails.country:""}}},"dataLayer:campaign:campaignSource":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("campaignSource")?e.campaign.campaignSource:_satellite.getVar("queryParam:utm_source")}}},"dataLayer:campaign:intCampaign":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("intCampaign")?e.campaign.intCampaign:_satellite.getVar("queryParam:intcid")}}},"dataLayer:orderInfo:promotionName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("promotionName")?e.orderInfo.promotionName:""}}},"dataLayer:shipping:shippingAmount":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("shipping")&&e.shipping.hasOwnProperty("shippingAmount")?parseFloat(e.shipping.shippingAmount):0}}},"dataLayer:user:userAge":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userAge")?e.user.userAge:null}}},"dataLayer:videoTracking:videoLocation":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoLocation")?e.videoTracking.videoLocation:""}}},"dataLayer:webPageDetails:playerName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("playerName")&&""!=e.webPageDetails.playerName?e.webPageDetails.playerName:""}}},"dataLayer:webReferrer:referrer":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webReferrer")&&e.webReferrer.hasOwnProperty("referrer")&&""!=e.webReferrer.referrer?e.webReferrer.referrer:document.referrer}}},"dataLayer:filter:filterType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterType")?e.filter.filterType:""}}},"dataLayer:user:currentCartTotal":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("currentCartTotal")&&"number"==typeof e.user.currentCartTotal?e.user.currentCartTotal:0}}},"dataLayer:filter:moduleType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("moduleType")?e.filter.moduleType:""}}},"aep:xdm:linkEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"linkClick",match:{matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{URL:"%dataLayer:linkClick:linkURL%",name:"linkClick",type:"%dataLayer:linkClick:linkType%",region:"%dataLayer:linkClick:linkPosition%",linkClicks:{id:"%dataLayer:linkClick:linkID%",value:1},_realmadrid:{link:{url:"%dataLayer:linkClick:linkURL%",name:"%dataLayer:linkClick:linkName%",path:"%dataLayer:linkClick:linkPath%"}}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",metatags_list:"%dataLayer:webPageDetails:metatagsList%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{_realmadrid:{funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"}}},eventType:"web.webinteraction.linkClicks",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:webPageDetails:pageLang":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLang")&&""!=e.webPageDetails.pageLang?e.webPageDetails.pageLang:document.documentElement.lang?document.documentElement.lang:""}}},"dataLayer:videoTracking:videoName":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoName")?e.videoTracking.videoName:""}}},"dataLayer:filter:filterCategory":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterCategory")?e.filter.filterCategory:""}}},"dataLayer:webPageDetails:currency":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("currency")?e.webPageDetails.currency:""}}},"dataLayer:webPageDetails:canonicalURL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("canonicalURL")?e.webPageDetails.canonicalURL:""}}},"dataLayer:filter:filterAction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterAction")?e.filter.filterAction:""}}},"dataLayer:webPageDetails:newsDate":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");if(e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("newsDate")){var t=e.webPageDetails.newsDate;if(!/^([\d]{4})\-([\d]{2})\-([\d]{2})$/.exec(t)){var a=/^([\d]{2})\/([\d]{2})\/([\d]{4})$/.exec(t);t=a?a[3]+"-"+a[2]+"-"+a[1]:""}return t}return null}}},"aep:xdm:videoPlayEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"formSubmit",match:{matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"videoPlay",type:"other",_realmadrid:{eventCounter:{videoPlay:1},videoTracking:{videoName:"%dataLayer:videoTracking:videoName%",videoPlayer:"%dataLayer:videoTracking:videoPlayer%"},buttonTracking:{buttonName:"%dataLayer:buttonClick:buttonName%"}}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",metatags_list:"%dataLayer:webPageDetails:metatagsList%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{_realmadrid:{funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"}}},eventType:"web.webInteraction.videoTracking.videoPlay",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:webPageDetails:pageType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageType")&&""!=e.webPageDetails.pageType?e.webPageDetails.pageType:""}}},"cookie:usuario":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"usuario"}},"dataLayer:webPageDetails:pagePath":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pagePath")&&""!=e.webPageDetails.pagePath?e.webPageDetails.pagePath:location.pathname}}},"dataLayer:user:hashedEmail":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("hashedEmail")?e.user.hashedEmail:""}}},"dataLayer:webPageDetails:pageLevel4":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLevel4")&&""!=e.webPageDetails.pageLevel4?e.webPageDetails.pageLevel4:""}}},"dataLayer:webPageDetails:tmsVersion":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("tmsVersion")&&""!=e.webPageDetails.tmsVersion?e.webPageDetails.tmsVersion:RMTagManager.version}}},"dataLayer:webPageDetails:pageLevel5":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageLevel5")&&""!=e.webPageDetails.pageLevel5?e.webPageDetails.pageLevel5:""}}},"dataLayer:orderInfo:promotionID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("promotionID")?e.orderInfo.promotionID:""}}},"dataLayer:webPageDetails:cms":{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("cms")?e.webPageDetails.cms:""}}},"dataLayer:webPageDetails:pageSection":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageSection")&&""!=e.webPageDetails.pageSection?e.webPageDetails.pageSection:"no-section"}}},"dataLayer:webPageDetails:pageChannel":{defaultValue:"web",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageChannel")?e.webPageDetails.pageChannel:"web"}}},"outbrain:accountID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"es-ES"==_satellite.getVar("dataLayer:webPageDetails:pageLang")?"006fbd1661fd41f03f7320b724df6abef0":"006995018bf0187c6d1409c62defc0cc27"}}},"dataLayer:webPageDetails:pageID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageID")&&""!=e.webPageDetails.pageID?e.webPageDetails.pageID:""}}},"dataLayer:videoTracking:videoMetatags":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoMetatags")?e.videoTracking.videoMetatags:[]}}},"dataLayer:funnelInfo:funnelType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("funnelInfo")&&e.funnelInfo.hasOwnProperty("funnelType")?e.funnelInfo.funnelType:""}}},"dataLayer:videoTracking:videoTimeLapse":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state"),t=null;if(e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoTimeLapse"))try{t=parseInt(e.videoTracking.videoTimeLapse)}catch(e){t=null}return t}}},"aep:xdm:siteSearchEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"videoPlay",match:{matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"siteSearch",type:"other",_realmadrid:{moduleType:"%dataLayer:webInteraction:moduleType%",siteSearch:{searchAction:"%dataLayer:siteSearch:searchAction%",siteSearchTerm:"%dataLayer:siteSearch:siteSearchTerm%",siteSearchMethod:"%dataLayer:siteSearch:siteSearchMethod%",searchErrorMessage:"%dataLayer:siteSearch:searchErrorMessage%",siteSearchResultsNumber:"%dataLayer:siteSearch:siteSearchResultsNumber%"},eventCounter:{siteSearch:1},interactionElementType:"%dataLayer:webInteraction:interactionElementType%",interactionElementTitle:"%dataLayer:webInteraction:interactionElementTitle%"}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",metatags_list:"%dataLayer:webPageDetails:metatagsList%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{_realmadrid:{funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"}}},eventType:"web.webInteraction.siteSearch",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"DE - test1":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"test1"}},"oneTrust:loaded":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof OneTrust}}},"data.__adobe.target":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={__adobe:{target:{}}};try{1==_satellite.getVar("Madridistas_click_premium-8-carousel_unetecomopremium")&&(e.__adobe.target["profile.clickUneteComoPremium"]="true")}catch(e){}return e}}},"dataLayer:webInteraction:interactionElementType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webInteraction")&&e.webInteraction.hasOwnProperty("interactionElementType")?e.webInteraction.interactionElementType:""}}},"dataLayer:siteSearch:siteSearchTerm":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("siteSearch")&&e.siteSearch.hasOwnProperty("siteSearchTerm")?e.siteSearch.siteSearchTerm:""}}},"dataLayer:webReferrer:previousPagePath":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");if(e.hasOwnProperty("webReferrer")&&e.webReferrer.hasOwnProperty("previousPagePath")&&""!=e.webReferrer.previousPagePath)return e.webReferrer.previousPagePath;var t=/^(\w+):\/\/([^\/]+)([^\?]+)/.exec(document.referrer);return null!=t?t[3]:""}}},"dataLayer:user:currentCart":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("currentCart")&&"object"==typeof e.user.currentCart?e.user.currentCart:[]}}},"aep:xdm:pageViews":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},match:{matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},campaign:{id:"%dataLayer:campaign:campaignID%",term:"%dataLayer:campaign:campaignTerm%",medium:"%dataLayer:campaign:campaignMedium%",source:"%dataLayer:campaign:campaignSource%",content:"%dataLayer:campaign:campaignContent%",intCampaign:"%dataLayer:campaign:intCampaign%"},identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",viewName:"%dataLayer:webPageDetails:pagePath%",pageViews:{id:"%dataLayer:webPageDetails:pageName%",value:1},_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",canonicalURL:"%dataLayer:webPageDetails:canonicalURL%",metatags_list:"%dataLayer:webPageDetails:metatagsList%",canonicalURLValid:"%dataLayer:webPageDetails:canonicalURLValid%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{_realmadrid:{funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"}}},eventType:"web.webpagedetails.pageViews",marketing:{campaignName:"%dataLayer:campaign:campaignID%",trackingCode:"%dataLayer:campaign:cid%",campaignGroup:"%dataLayer:campaign:campaignSource%"},_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:orderInfo:currencyCode":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("orderInfo")&&e.orderInfo.hasOwnProperty("currencyCode")?e.orderInfo.currencyCode.toUpperCase():""}}},"datalayer:logout:logoutAction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("logout")&&e.logout.hasOwnProperty("logoutAction")?e.logout.logoutAction:""}}},"dataLayer:campaign:cid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");if(e.hasOwnProperty("campaign")&&e.campaign.hasOwnProperty("cid"))return e.campaign.cid;var t=";",a=_satellite.getVar("dataLayer:campaign:campaignID"),n=_satellite.getVar("dataLayer:campaign:campaignSource"),r=_satellite.getVar("dataLayer:campaign:campaignMedium"),o=_satellite.getVar("dataLayer:campaign:campaignTerm"),i=_satellite.getVar("dataLayer:campaign:campaignContent")
;return""==a&&""==n&&""==r&&""==o&&""==i?"":_satellite.getVar("dataLayer:campaign:campaignID")+t+_satellite.getVar("dataLayer:campaign:campaignSource")+t+_satellite.getVar("dataLayer:campaign:campaignMedium")+t+_satellite.getVar("dataLayer:campaign:campaignTerm")+t+_satellite.getVar("dataLayer:campaign:campaignContent")}}},"aep:xdm:shippingInfoEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"shippingInfo",match:{team:"%dataLayer:webPageDetails:team%",matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"shippingInfo",type:"other",_realmadrid:{link:{url:"%dataLayer:linkClick:linkURL%",path:"%dataLayer:linkClick:linkPath%"},moduleType:"%dataLayer:webInteraction:moduleType%",eventCounter:{shippingInfo:1},buttonTracking:{buttonName:"%dataLayer:buttonClick:buttonName%"},interactionElementType:"%dataLayer:webInteraction:interactionElementType%",interactionElementTitle:"%dataLayer:webInteraction:interactionElementTitle%"}},webPageDetails:{name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",mediaLang:"%dataLayer:webPageDetails:mediaLang%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",metatags_list:"%dataLayer:webPageDetails:metatagsList%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{shipping:{shippingAmount:"%dataLayer:shipping:shippingAmount%",shippingMethod:"%dataLayer:shipping:shippingMethod%"},_realmadrid:{funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"},promotionValue:"%dataLayer:promotion:promotionValue%"},promotionID:"%dataLayer:promotion:promotionID%"},eventType:"commerce.shippingInfo",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},productListItems:"%dataLayer:productListItems%",implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"aep:xdm:purchaseEvents":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{_realmadrid:{news:{newsUrl:"%dataLayer:webPageDetails:newsUrl%",newsDate:"%dataLayer:webPageDetails:newsDate%",newsName:"%dataLayer:webPageDetails:newsName%",newsType:"%dataLayer:webPageDetails:newsType%",newsTitle:"%dataLayer:webPageDetails:newsTitle%",newsAuthor:"%dataLayer:webPageDetails:newsAuthor%",newsCategory:"%dataLayer:webPageDetails:newsCategory%"},user:{userAge:"%dataLayer:user:userAge%",userType:"%dataLayer:user:userType%",gdprStatus:"%dataLayer:user:gdprStatus%",userGender:"%dataLayer:user:userGender%",loginStatus:"%dataLayer:user:userLoginStatus%",userCategory:"%dataLayer:user:userCategory%",adsBlockedStatus:"%dataLayer:user:adsBlockedStatus%",userLifeTimeValue:"%dataLayer:user:userLifetimeValue%",userLoyaltystatus:"%dataLayer:user:userLoyaltyStatus%",onetrustPreferences:"%dataLayer:user:userOneTrustPreferences%"},event:"purchase",match:{matchTitle:"%dataLayer:webPageDetails:matchTitle%",matchTournament:"%dataLayer:webPageDetails:matchTournament%"},other:{playerName:"%dataLayer:webPageDetails:playerName%",advantageName:"%dataLayer:webPageDetails:advantageName%"},eventID:"%getEventID%",identities:{idpID:"%dataLayer:identification:idpID%"}},webReferrer:{_realmadrid:{previousURL:"%dataLayer:webReferrer:previousPageURL%",previousName:"%dataLayer:webReferrer:previousName%",previousPath:"%dataLayer:webReferrer:previousPagePath%"}},webInteraction:{name:"purchase",type:"other"},webPageDetails:{URL:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",server:"%dataLayer:webPageDetails:pageDomain%",_realmadrid:{id:"%dataLayer:webPageDetails:pageID%",url:"%dataLayer:webPageDetails:pageURL%",name:"%dataLayer:webPageDetails:pageName%",path:"%dataLayer:webPageDetails:pagePath%",type:"%dataLayer:webPageDetails:pageType%",title:"%dataLayer:webPageDetails:pageTitle%",domain:"%dataLayer:webPageDetails:pageDomain%",level1:"%dataLayer:webPageDetails:pageLevel1%",level2:"%dataLayer:webPageDetails:pageLevel2%",level3:"%dataLayer:webPageDetails:pageLevel3%",level4:"%dataLayer:webPageDetails:pageLevel4%",level5:"%dataLayer:webPageDetails:pageLevel5%",moment:"%dataLayer:webPageDetails:pageMoment%",country:"%dataLayer:webPageDetails:country%",section:"%dataLayer:webPageDetails:pageSection%",currency:"%dataLayer:webPageDetails:currency%",language:"%dataLayer:webPageDetails:pageLang%",metatags:"%dataLayer:webPageDetails:pageMetatags%",template:"%dataLayer:webPageDetails:pageTemplate%",topDomain:"%dataLayer:webPageDetails:pageTopDomain%",metatags_list:"%dataLayer:webPageDetails:metatagsList%"},siteSection:"%dataLayer:webPageDetails:pageSection%"}},commerce:{order:{payments:[{paymentType:"%dataLayer:orderInfo:paymentType%"}],taxAmount:"%dataLayer:orderInfo:tax%",priceTotal:"%dataLayer:orderInfo:priceTotal%",purchaseID:"%dataLayer:orderInfo:purchaseID%",currencyCode:"%dataLayer:orderInfo:currencyCode%",discountAmount:"%dataLayer:orderInfo:promotionValue%"},shipping:{shippingAmount:"%dataLayer:orderInfo:shippingAmount%",shippingMethod:"%dataLayer:orderInfo:shippingMethod%"},purchases:{value:1},_realmadrid:{tax:"%dataLayer:orderInfo:tax%",coupon:"%dataLayer:orderInfo:coupon%",funnel:{funnelSeat:"%dataLayer:funnelInfo:funnelSeat%",funnelType:"%dataLayer:funnelInfo:funnelType%",funnelPlace:"%dataLayer:funnelInfo:funnelPlace%"},purchaseID:"%dataLayer:orderInfo:purchaseID%",promotionValue:"%dataLayer:orderInfo:promotionValue%"}},eventType:"commerce.purchases",_realmadrid:{identification:{idpID:"%dataLayer:identification:idpID%"}},productListItems:"%dataLayer:productListItems%",implementationDetails:{_realmadrid:{cms:"%dataLayer:webPageDetails:cms%",userAgent:"%dataLayer:webPageDetails:userAgent%",tmsVersion:"%dataLayer:webPageDetails:tmsVersion%",pageChannel:"%dataLayer:webPageDetails:pageChannel%",datastreamID:"%aep:datastreamID%",pageLoadType:"%dataLayer:webPageDetails:pageLoadType%"}}},sandbox:{name:"dev"}}},"dataLayer:formTracking:formId":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("formTracking")&&e.formTracking.hasOwnProperty("formId")?e.formTracking.formId:""}}},"dataLayer:webPageDetails:matchTournament":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("matchTournament")?e.webPageDetails.matchTournament:""}}},"dataLayer:filter:filterErrorMessage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("filterErrorMessage")?e.filter.filterErrorMessage:""}}},testEmail:{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"test@test.com"}},"dataLayer:siteSearch:searchErrorMessage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("siteSearch")&&e.siteSearch.hasOwnProperty("searchErrorMessage")?e.siteSearch.searchErrorMessage:""}}},"dataLayer:videoTracking:videoLang":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("videoTracking")&&e.videoTracking.hasOwnProperty("videoLang")?e.videoTracking.videoLang:""}}},"dataLayer:scrollTracking:scrollType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("scrollTracking")&&e.scrollTracking.hasOwnProperty("scrollType")?e.scrollTracking.scrollType:""}}},"dataLayer:webPageDetails:pageMetatags":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageMetatags")&&"object"==typeof e.webPageDetails.pageMetatags?e.webPageDetails.pageMetatags:[]}}},"dataLayer:webPageDetails:pageURL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("webPageDetails")&&e.webPageDetails.hasOwnProperty("pageURL")&&""!=e.webPageDetails.pageURL?e.webPageDetails.pageURL:location.href}}},"dataLayer:user:userType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer:state");return e.hasOwnProperty("user")&&e.user.hasOwnProperty("userType")?e.user.userType:""}}}},extensions:{"gcoe-adobe-client-data-layer":{displayName:"Adobe Client Data Layer",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP6e4c031a8b7640d7ac3fab013fa28b17/",settings:{dataLayerName:"adobeDataLayer",injectLibrary:!0},modules:{"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js":{name:"datalayer-computed-state",displayName:"Data Layer Computed State",script:function(e,t,a){"use strict";e.exports=function(e){if(null!=e){var t=n();if(void 0!==t)return""!==e.path?t.getState(e.path):t.getState()}};var n=a("../util/getDataLayer")}},"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js":{name:"datalayer-push",displayName:"Data Pushed",script:function(e,t,a){"use strict";e.exports=function(e,t){if(null!=e){var a=e.method,r=e.eventKey,o=e.scope,i=n(),s=function(e){var a={message:e,beforeState:{},afterState:{},fullState:i.getState()};t(a)},c={};void 0!==o&&(c.scope=o),"allData"===a?i.push((function(e){e.addEventListener("adobeDataLayer:change",s,c)})):"allEvents"===a?i.push((function(e){e.addEventListener("adobeDataLayer:event",s,c)})):"specificEvent"===a&&""!==r&&i.push((function(e){e.addEventListener(r,s,c)}))}};var n=a("../util/getDataLayer")}},"gcoe-adobe-client-data-layer/src/lib/main.js":{script:function(e,t,a,n){var r=n.getExtensionSettings(),o=r.dataLayerName,i=r.injectLibrary;if(window.adobeDataLayer=window.adobeDataLayer||[],"object"!=typeof window.adobeDataLayer&&(n.logger.log("Initializing adobeDataLayer to [] as it isn't an object yet."),window.adobeDataLayer=[]),"adobeDataLayer"!==o&&("object"==typeof window[o]?(n.logger.log('Using "'+o+'" instead of "adobeDataLayer" as data layer name.'),window.adobeDataLayer.push((function(e){for(var t=0;t<window[o].length;t++)e.push(window[o][t]);window[o]=e}))):n.logger.warn('Could not use "'+o+'" instead of "adobeDataLayer", because the object does not exist!')),i&&void 0===window.adobeDataLayer.getState){function s(e,t){return l(e)||d(e,t)||p(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return a}}function l(e){if(Array.isArray(e))return e}function u(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=p(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw r}}}}function p(e,t){if(e){if("string"==typeof e)return g(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.logger.log("Initializing adobeDataLayer as it wasn't found during the initialization."),function e(t,n,r){function o(s,c){if(!n[s]){if(!t[s]){var d="function"==typeof a&&a;if(!c&&d)return d(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return o(t[s][1][e]||e)}),u,u.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof a&&a,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,a){(function(e){(function(){function n(e,t){for(var a=-1,n=null==e?0:e.length,r=0,o=[];++a<n;){var i=e[a];t(i,a,e)&&(o[r++]=i)}return o}function r(e,t){for(var a=-1,n=null==e?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}function o(e,t){for(var a=-1,n=t.length,r=e.length;++a<n;)e[r+a]=t[a];return e}function i(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(t(e[a],a,e))return!0;return!1}function s(e,t,a){var n=e.length;for(a+=-1;++a<n;)if(t(e[a],a,e))return a;return-1}function c(e){return e!=e}function d(e){return function(t){return e(t)}}function l(e){var t=-1,a=Array(e.size);return e.forEach((function(e,n){a[++t]=[n,e]})),a}function u(e){var t=Object;return function(a){return e(t(a))}}function p(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=e})),a}function g(){}function m(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function y(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function v(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function h(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new v;++t<a;)this.add(e[t])}function b(e){this.size=(this.__data__=new y(e)).size}function w(e,t){var a,n=ha(e),r=!n&&va(e),o=!n&&!r&&ba(e),i=!n&&!r&&!o&&Pa(e);if(n=n||r||o||i){r=e.length;for(var s=String,c=-1,d=Array(r);++c<r;)d[c]=s(c);r=d}else r=[];for(a in s=r.length,e)!t&&!bt.call(e,a)||n&&("length"==a||o&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||te(a,s))||r.push(a);return r}function L(e,t,a){(a===qe||ge(e[t],a))&&(a!==qe||t in e)||T(e,t,a)}function P(e,t,a){var n=e[t];bt.call(e,t)&&ge(n,a)&&(a!==qe||t in e)||T(e,t,a)}function D(e,t){for(var a=e.length;a--;)if(ge(e[a][0],t))return a;return-1}function T(e,t,a){"__proto__"==t&&Rt?Rt(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function I(e,t,a,n,r,o){var i,s=1&t,c=2&t,d=4&t;if(a&&(i=r?a(e,n,r,o):a(e)),i!==qe)return i;if(!he(e))return e;if(n=ha(e)){if(i=function(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&bt.call(e,"index")&&(a.index=e.index,a.input=e.input),a}(e),!s)return B(e,i)}else{var l=ia(e),u="[object Function]"==l||"[object GeneratorFunction]"==l;if(ba(e))return U(e,s);if("[object Object]"==l||"[object Arguments]"==l||u&&!r){if(i=c||u?{}:Z(e),!s)return c?function(e,t){return z(e,oa(e),t)}(e,function(e,t){return e&&z(t,_e(t),e)}(i,e)):function(e,t){return z(e,ra(e),t)}(e,function(e,t){return e&&z(t,ke(t),e)}(i,e))}else{if(!tt[l])return r?e:{};i=function(e,t,a){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return q(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return t=a?q(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return F(e,a);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return(t=new e.constructor(e.source,Ke.exec(e))).lastIndex=e.lastIndex,t;case"[object Symbol]":return Yt?Object(Yt.call(e)):{}}}(e,l,s)}}if(r=(o=o||new b).get(e))return r;if(o.set(e,i),La(e))return e.forEach((function(n){i.add(I(n,t,a,n,e,o))})),i;if(wa(e))return e.forEach((function(n,r){i.set(r,I(n,t,a,r,e,o))})),i;c=d?c?K:W:c?_e:ke;var p=n?qe:c(e);return function(e,t){for(var a=-1,n=null==e?0:e.length;++a<n&&!1!==t(e[a],a,e););}(p||e,(function(n,r){p&&(n=e[r=n]),P(i,r,I(n,t,a,r,e,o))})),i}function C(e,t){for(var a=0,n=(t=V(t,e)).length;null!=e&&a<n;)e=e[ie(t[a++])];return a&&a==n?e:qe}function E(e,t,a){return t=t(e),ha(e)?t:o(t,a(e))}function S(e){if(null==e)e=e===qe?"[object Undefined]":"[object Null]";else if(xt&&xt in Object(e)){var t=bt.call(e,xt),a=e[xt];try{e[xt]=qe;var n=!0}catch(e){}var r=Lt.call(e);n&&(t?e[xt]=a:delete e[xt]),e=r}else e=Lt.call(e);return e}function O(e,t){return null!=e&&bt.call(e,t)}function k(e,t){return null!=e&&t in Object(e)}function _(e){return be(e)&&"[object Arguments]"==S(e)}function j(e,t,a,n,r){if(e===t)t=!0;else if(null==e||null==t||!be(e)&&!be(t))t=e!=e&&t!=t;else e:{var o,i,s=ha(e),c=ha(t),d="[object Object]"==(o="[object Arguments]"==(o=s?"[object Array]":ia(e))?"[object Object]":o);if(c="[object Object]"==(i="[object Arguments]"==(i=c?"[object Array]":ia(t))?"[object Object]":i),(i=o==i)&&ba(e)){if(!ba(t)){t=!1;break e}d=!(s=!0)}if(i&&!d)r=r||new b,t=s||Pa(e)?J(e,t,a,n,j,r):function(e,t,a,n,r,o,i){switch(a){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!o(new Ct(e),new Ct(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return ge(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=l;case"[object Set]":if(s=s||p,e.size!=t.size&&!(1&n))break;return(a=i.get(e))?a==t:(n|=2,i.set(e,t),t=J(s(e),s(t),n,r,o,i),i.delete(e),t);case"[object Symbol]":if(Yt)return Yt.call(e)==Yt.call(t)}return!1}(e,t,o,a,n,j,r);else{if(!(1&a)&&(s=d&&bt.call(e,"__wrapped__"),o=c&&bt.call(t,"__wrapped__"),s||o)){t=j(e=s?e.value():e,t=o?t.value():t,a,n,r=r||new b);break e}if(i)t:if(r=r||new b,s=1&a,o=W(e),c=o.length,i=W(t).length,c==i||s){for(d=c;d--;){var u=o[d];if(!(s?u in t:bt.call(t,u))){t=!1;break t}}if((i=r.get(e))&&r.get(t))t=i==t;else{i=!0,r.set(e,t),r.set(t,e);for(var g=s;++d<c;){var f=e[u=o[d]],m=t[u];if(n)var y=s?n(m,f,u,t,e,r):n(f,m,u,e,t,r);if(y===qe?f!==m&&!j(f,m,a,n,r):!y){i=!1;break}g=g||"constructor"==u}i&&!g&&(a=e.constructor)!=(n=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof a&&a instanceof a&&"function"==typeof n&&n instanceof n)&&(i=!1),r.delete(e),r.delete(t),t=i}}else t=!1;else t=!1}}return t}function x(e){return"function"==typeof e?e:null==e?Re:"object"==f(e)?ha(e)?function(e,t){return ae(e)&&t==t&&!he(t)?re(ie(e),t):function(a){var n=Se(a,e);return n===qe&&n===t?Oe(a,e):j(t,n,3)}}(e[0],e[1]):function(e){var t=function(e){for(var t=ke(e),a=t.length;a--;){var n=t[a],r=e[n];t[a]=[n,r,r==r&&!he(r)]}return t}(e);return 1==t.length&&t[0][2]?re(t[0][0],t[0][1]):function(a){return a===e||function(e,t){var a=t.length,n=a;if(null==e)return!n;for(e=Object(e);a--;)if((r=t[a])[2]?r[1]!==e[r[0]]:!(r[0]in e))return!1;for(;++a<n;){var r,o=(r=t[a])[0],i=e[o],s=r[1];if(r[2]){if(i===qe&&!(o in e))return!1}else if(r=new b,void 0!==qe||!j(s,i,3,void 0,r))return!1}return!0}(a,t)}}(e):Ne(e)}function R(e){if(!ne(e))return Mt(e);var t,a=[];for(t in Object(e))bt.call(e,t)&&"constructor"!=t&&a.push(t);return a}function A(e,t,a,n,r){e!==t&&aa(t,(function(o,i){if(he(o)){var s=r=r||new b,c="__proto__"==i?qe:e[i],d="__proto__"==i?qe:t[i];if(f=s.get(d))L(e,i,f);else{var l=(f=n?n(c,d,i+"",e,t,s):qe)===qe;if(l){var u=ha(d),p=!u&&ba(d),g=!u&&!p&&Pa(d),f=d;u||p||g?f=ha(c)?c:me(c)?B(c):p?U(d,!(l=!1)):g?F(d,!(l=!1)):[]:we(d)||va(d)?va(f=c)?f=Ce(c):(!he(c)||a&&ye(c))&&(f=Z(d)):l=!1}l&&(s.set(d,f),A(f,d,a,n,s),s.delete(d)),L(e,i,f)}}else(s=n?n("__proto__"==i?qe:e[i],o,i+"",e,t,r):qe)===qe&&(s=o),L(e,i,s)}),_e)}function N(e){if("string"==typeof e)return e;if(ha(e))return r(e,N)+"";if(Pe(e))return Zt?Zt.call(e):"";var t=e+"";return"0"==t&&1/e==-Fe?"-0":t}function M(e,t){var a;if((t=V(t,e)).length<2)a=e;else{var n=0,r=-1,o=-1,i=(a=t).length;for(n<0&&(n=i<-n?0:i+n),(r=i<r?i:r)<0&&(r+=i),i=r<n?0:r-n>>>0,n>>>=0,r=Array(i);++o<i;)r[o]=a[o+n];a=C(e,r)}null==(e=a)||delete e[ie(le(t))]}function V(e,t){return ha(e)?e:ae(e,t)?[e]:fa(Ee(e))}function U(e,t){if(t)return e.slice();var a=e.length;return a=Et?Et(a):new e.constructor(a),e.copy(a),a}function q(e){var t=new e.constructor(e.byteLength);return new Ct(t).set(new Ct(e)),t}function F(e,t){return new e.constructor(t?q(e.buffer):e.buffer,e.byteOffset,e.length)}function B(e,t){var a=-1,n=e.length;for(t=t||Array(n);++a<n;)t[a]=e[a];return t}function z(e,t,a){var n=!a;a=a||{};for(var r=-1,o=t.length;++r<o;){var i=t[r],s=qe;s===qe&&(s=e[i]),n?T(a,i,s):P(a,i,s)}return a}function G(e){return function(e){return ga(oe(e,void 0,Re),e+"")}((function(t,a){var n,r=-1,o=a.length,i=1<o?a[o-1]:qe,s=2<o?a[2]:qe;if(i=3<e.length&&"function"==typeof i?(o--,i):qe,n=s){n=a[0];var c=a[1];if(he(s)){var d=f(c);n=!!("number"==d?fe(s)&&te(c,s.length):"string"==d&&c in s)&&ge(s[c],n)}else n=!1}for(n&&(i=o<3?qe:i,o=1),t=Object(t);++r<o;)(s=a[r])&&e(t,s,r,i);return t}))}function H(e){return we(e)?qe:e}function J(e,t,a,n,r,o){var s=1&a,c=e.length;if(c!=(d=t.length)&&!(s&&c<d))return!1;if((d=o.get(e))&&o.get(t))return d==t;var d=-1,l=!0,u=2&a?new h:qe;for(o.set(e,t),o.set(t,e);++d<c;){var p=e[d],g=t[d];if(n)var f=s?n(g,p,d,t,e,o):n(p,g,d,e,t,o);if(f!==qe){if(f)continue;l=!1;break}if(u){if(!i(t,(function(e,t){if(!u.has(t)&&(p===e||r(p,e,a,n,o)))return u.push(t)}))){l=!1;break}}else if(p!==g&&!r(p,g,a,n,o)){l=!1;break}}return o.delete(e),o.delete(t),l}function W(e){return E(e,ke,ra)}function K(e){return E(e,_e,oa)}function Q(e,t){var a=(a=g.iteratee||Ae)===Ae?x:a;return arguments.length?a(e,t):a}function $(e,t){var a=e.__data__,n=f(t);return("string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?a["string"==typeof t?"string":"hash"]:a.map}function X(e,t){var a=null==e?qe:e[t];return!he(a)||wt&&wt in a||!(ye(a)?Dt:Xe).test(se(a))?qe:a}function Y(e,t,a){for(var n=-1,r=(t=V(t,e)).length,o=!1;++n<r;){var i=ie(t[n]);if(!(o=null!=e&&a(e,i)))break;e=e[i]}return o||++n!=r?o:!!(r=null==e?0:e.length)&&ve(r)&&te(i,r)&&(ha(e)||va(e))}function Z(e){return"function"!=typeof e.constructor||ne(e)?{}:ea(St(e))}function ee(e){return ha(e)||va(e)||!!(jt&&e&&e[jt])}function te(e,t){var a=f(e);return!!(t=null==t?9007199254740991:t)&&("number"==a||"symbol"!=a&&Ze.test(e))&&-1<e&&0==e%1&&e<t}function ae(e,t){if(ha(e))return!1;var a=f(e);return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!Pe(e))||Ge.test(e)||!ze.test(e)||null!=t&&e in Object(t)}function ne(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||yt)}function re(e,t){return function(a){return null!=a&&a[e]===t&&(t!==qe||e in Object(a))}}function oe(e,t,a){return t=Vt(t===qe?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=Vt(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];for(r=-1,o=Array(t+1);++r<t;)o[r]=n[r];return o[t]=a(i),function(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}(e,this,o)}}function ie(e){if("string"==typeof e||Pe(e))return e;var t=e+"";return"0"==t&&1/e==-Fe?"-0":t}function se(e){if(null==e)return"";try{return ht.call(e)}catch(e){}return e+""}function ce(e,t,a){var n=null==e?0:e.length;return n?((a=null==a?0:Te(a))<0&&(a=Vt(n+a,0)),s(e,Q(t,3),a)):-1}function de(e){return null!=e&&e.length?function e(t,a,n,r,i){var s=-1,c=t.length;for(n=n||ee,i=i||[];++s<c;){var d=t[s];0<a&&n(d)?1<a?e(d,a-1,n,r,i):o(i,d):r||(i[i.length]=d)}return i}(e,1):[]}function le(e){var t=null==e?0:e.length;return t?e[t-1]:qe}function ue(e,t){function a(){var n=arguments,r=t?t.apply(this,n):n[0],o=a.cache;return o.has(r)?o.get(r):(n=e.apply(this,n),a.cache=o.set(r,n)||o,n)}if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");return a.cache=new(ue.Cache||v),a}function pe(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ge(e,t){return e===t||e!=e&&t!=t}function fe(e){return null!=e&&ve(e.length)&&!ye(e)}function me(e){return be(e)&&fe(e)}function ye(e){return!!he(e)&&("[object Function]"==(e=S(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function ve(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}function he(e){var t=f(e);return null!=e&&("object"==t||"function"==t)}function be(e){return null!=e&&"object"==f(e)}function we(e){return!(!be(e)||"[object Object]"!=S(e))&&(null===(e=St(e))||"function"==typeof(e=bt.call(e,"constructor")&&e.constructor)&&e instanceof e&&ht.call(e)==Pt)}function Le(e){return"string"==typeof e||!ha(e)&&be(e)&&"[object String]"==S(e)}function Pe(e){return"symbol"==f(e)||be(e)&&"[object Symbol]"==S(e)}function De(e){return e?(e=Ie(e))===Fe||e===-Fe?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Te(e){var t=(e=De(e))%1;return e==e?t?e-t:e:0}function Ie(e){if("number"==typeof e)return e;if(Pe(e))return Be;if(he(e)&&(e=he(e="function"==typeof e.valueOf?e.valueOf():e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(Je,"");var t=$e.test(e);return t||Ye.test(e)?nt(e.slice(2),t?2:8):Qe.test(e)?Be:+e}function Ce(e){return z(e,_e(e))}function Ee(e){return null==e?"":N(e)}function Se(e,t,a){return(e=null==e?qe:C(e,t))===qe?a:e}function Oe(e,t){return null!=e&&Y(e,t,k)}function ke(e){return fe(e)?w(e):R(e)}function _e(e){if(fe(e))e=w(e,!0);else if(he(e)){var t,a=ne(e),n=[];for(t in e)("constructor"!=t||!a&&bt.call(e,t))&&n.push(t);e=n}else{if(t=[],null!=e)for(a in Object(e))t.push(a);e=t}return e}function je(e){return null==e?[]:function(e,t){return r(t,(function(t){return e[t]}))}(e,ke(e))}function xe(e){return function(){return e}}function Re(e){return e}function Ae(e){return x("function"==typeof e?e:I(e,1))}function Ne(e){return ae(e)?function(e){return function(t){return null==t?qe:t[e]}}(ie(e)):function(e){return function(t){return C(t,e)}}(e)}function Me(){return[]}function Ve(){return!1}function Ue(){}var qe,Fe=1/0,Be=NaN,ze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ge=/^\w*$/,He=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Je=/^\s+|\s+$/g,We=/\\(\\)?/g,Ke=/\w*$/,Qe=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,Xe=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var tt={};tt["[object Arguments]"]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object DataView]"]=tt["[object Boolean]"]=tt["[object Date]"]=tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Map]"]=tt["[object Number]"]=tt["[object Object]"]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object Symbol]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Error]"]=tt["[object Function]"]=tt["[object WeakMap]"]=!1;var at,nt=parseInt,rt="object"==f(e)&&e&&e.Object===Object&&e,ot="object"==("undefined"==typeof self?"undefined":f(self))&&self&&self.Object===Object&&self,it=rt||ot||Function("return this")(),st="object"==f(a)&&a&&!a.nodeType&&a,ct=st&&"object"==f(t)&&t&&!t.nodeType&&t,dt=ct&&ct.exports===st,lt=dt&&rt.process;e:{try{at=lt&&lt.binding&&lt.binding("util");break e}catch(d){}at=void 0}var ut,pt=at&&at.isMap,gt=at&&at.isSet,ft=at&&at.isTypedArray,mt=Array.prototype,yt=Object.prototype,vt=it["__core-js_shared__"],ht=Function.prototype.toString,bt=yt.hasOwnProperty,wt=(ut=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||""))?"Symbol(src)_1."+ut:"",Lt=yt.toString,Pt=ht.call(Object),Dt=RegExp("^"+ht.call(bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tt=dt?it.Buffer:qe,It=it.Symbol,Ct=it.Uint8Array,Et=Tt?Tt.a:qe,St=u(Object.getPrototypeOf),Ot=Object.create,kt=yt.propertyIsEnumerable,_t=mt.splice,jt=It?It.isConcatSpreadable:qe,xt=It?It.toStringTag:qe,Rt=function(){try{var e=X(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),At=Object.getOwnPropertySymbols,Nt=Tt?Tt.isBuffer:qe,Mt=u(Object.keys),Vt=Math.max,Ut=Date.now,qt=X(it,"DataView"),Ft=X(it,"Map"),Bt=X(it,"Promise"),zt=X(it,"Set"),Gt=X(it,"WeakMap"),Ht=X(Object,"create"),Jt=se(qt),Wt=se(Ft),Kt=se(Bt),Qt=se(zt),$t=se(Gt),Xt=It?It.prototype:qe,Yt=Xt?Xt.valueOf:qe,Zt=Xt?Xt.toString:qe,ea=function(e){return he(e)?Ot?Ot(e):(Ue.prototype=e,e=new Ue,Ue.prototype=qe,e):{}};m.prototype.clear=function(){this.__data__=Ht?Ht(null):{},this.size=0},m.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},m.prototype.get=function(e){var t=this.__data__;return Ht?"__lodash_hash_undefined__"===(e=t[e])?qe:e:bt.call(t,e)?t[e]:qe},m.prototype.has=function(e){var t=this.__data__;return Ht?t[e]!==qe:bt.call(t,e)},m.prototype.set=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,
a[e]=Ht&&t===qe?"__lodash_hash_undefined__":t,this},y.prototype.clear=function(){this.__data__=[],this.size=0},y.prototype.delete=function(e){var t=this.__data__;return!((e=D(t,e))<0||(e==t.length-1?t.pop():_t.call(t,e,1),--this.size,0))},y.prototype.get=function(e){var t=this.__data__;return(e=D(t,e))<0?qe:t[e][1]},y.prototype.has=function(e){return-1<D(this.__data__,e)},y.prototype.set=function(e,t){var a=this.__data__,n=D(a,e);return n<0?(++this.size,a.push([e,t])):a[n][1]=t,this},v.prototype.clear=function(){this.size=0,this.__data__={hash:new m,map:new(Ft||y),string:new m}},v.prototype.delete=function(e){return e=$(this,e).delete(e),this.size-=e?1:0,e},v.prototype.get=function(e){return $(this,e).get(e)},v.prototype.has=function(e){return $(this,e).has(e)},v.prototype.set=function(e,t){var a=$(this,e),n=a.size;return a.set(e,t),this.size+=a.size==n?0:1,this},h.prototype.add=h.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},h.prototype.has=function(e){return this.__data__.has(e)},b.prototype.clear=function(){this.__data__=new y,this.size=0},b.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},b.prototype.get=function(e){return this.__data__.get(e)},b.prototype.has=function(e){return this.__data__.has(e)},b.prototype.set=function(e,t){var a=this.__data__;if(a instanceof y){var n=a.__data__;if(!Ft||n.length<199)return n.push([e,t]),this.size=++a.size,this;a=this.__data__=new v(n)}return a.set(e,t),this.size=a.size,this};var ta=function(e,t){if(null==e)return e;if(!fe(e))return function(e,t){return e&&aa(e,t,ke)}(e,t);for(var a=e.length,n=-1,r=Object(e);++n<a&&!1!==t(r[n],n,r););return e},aa=function(e,t,a){for(var n=-1,r=Object(e),o=(a=a(e)).length;o--;){var i=a[++n];if(!1===t(r[i],i,r))break}return e},na=Rt?function(e,t){return Rt(e,"toString",{configurable:!0,enumerable:!1,value:xe(t),writable:!0})}:Re,ra=At?function(e){return null==e?[]:(e=Object(e),n(At(e),(function(t){return kt.call(e,t)})))}:Me,oa=At?function(e){for(var t=[];e;)o(t,ra(e)),e=St(e);return t}:Me,ia=S;(qt&&"[object DataView]"!=ia(new qt(new ArrayBuffer(1)))||Ft&&"[object Map]"!=ia(new Ft)||Bt&&"[object Promise]"!=ia(Bt.resolve())||zt&&"[object Set]"!=ia(new zt)||Gt&&"[object WeakMap]"!=ia(new Gt))&&(ia=function(e){var t=S(e);if(e=(e="[object Object]"==t?e.constructor:qe)?se(e):"")switch(e){case Jt:return"[object DataView]";case Wt:return"[object Map]";case Kt:return"[object Promise]";case Qt:return"[object Set]";case $t:return"[object WeakMap]"}return t});var sa,ca,da,la,ua,pa,ga=(la=na,pa=ua=0,function(){var e=Ut(),t=16-(e-pa);if(pa=e,0<t){if(800<=++ua)return arguments[0]}else ua=0;return la.apply(qe,arguments)}),fa=(da=(ca=ue(ca=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(He,(function(e,a,n,r){t.push(n?r.replace(We,"$1"):a||e)})),t},(function(e){return 500===da.size&&da.clear(),e}))).cache,ca),ma=(sa=ce,function(e,t,a){var n=Object(e);if(!fe(e)){var r=Q(t,3);e=ke(e),t=function(e){return r(n[e],e,n)}}return-1<(t=sa(e,t,a))?n[r?e[t]:t]:qe});ue.Cache=v;var ya,va=_(function(){return arguments}())?_:function(e){return be(e)&&bt.call(e,"callee")&&!kt.call(e,"callee")},ha=Array.isArray,ba=Nt||Ve,wa=pt?d(pt):function(e){return be(e)&&"[object Map]"==ia(e)},La=gt?d(gt):function(e){return be(e)&&"[object Set]"==ia(e)},Pa=ft?d(ft):function(e){return be(e)&&ve(e.length)&&!!et[S(e)]},Da=G((function(e,t,a){A(e,t,a)})),Ta=G((function(e,t,a,n){A(e,t,a,n)})),Ia=ga(oe(ya=function(e,t){var a={};if(null==e)return a;var n=!1;t=r(t,(function(t){return t=V(t,e),n=n||1<t.length,t})),z(e,K(e),a),n&&(a=I(a,7,H));for(var o=t.length;o--;)M(a,t[o]);return a},qe,de),ya+"");g.constant=xe,g.flatten=de,g.iteratee=Ae,g.keys=ke,g.keysIn=_e,g.memoize=ue,g.merge=Da,g.mergeWith=Ta,g.negate=pe,g.omit=Ia,g.property=Ne,g.reject=function(e,t){return(ha(e)?n:function(e,t){var a=[];return ta(e,(function(e,n,r){t(e,n,r)&&a.push(e)})),a})(e,pe(Q(t,3)))},g.toPlainObject=Ce,g.values=je,g.cloneDeep=function(e){return I(e,5)},g.cloneDeepWith=function(e,t){return I(e,5,t="function"==typeof t?t:qe)},g.eq=ge,g.find=ma,g.findIndex=ce,g.get=Se,g.has=function(e,t){return null!=e&&Y(e,t,O)},g.hasIn=Oe,g.identity=Re,g.includes=function(e,t,a,n){if(e=fe(e)?e:je(e),a=a&&!n?Te(a):0,n=e.length,a<0&&(a=Vt(n+a,0)),Le(e))e=a<=n&&-1<e.indexOf(t,a);else{if(n=!!n){if(t==t)e:{for(a-=1,n=e.length;++a<n;)if(e[a]===t){e=a;break e}e=-1}else e=s(e,c,a);n=-1<e}e=n}return e},g.isArguments=va,g.isArray=ha,g.isArrayLike=fe,g.isArrayLikeObject=me,g.isBuffer=ba,g.isEmpty=function(e){if(null==e)return!0;if(fe(e)&&(ha(e)||"string"==typeof e||"function"==typeof e.splice||ba(e)||Pa(e)||va(e)))return!e.length;var t=ia(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(ne(e))return!R(e).length;for(var a in e)if(bt.call(e,a))return!1;return!0},g.isEqual=function(e,t){return j(e,t)},g.isFunction=ye,g.isLength=ve,g.isMap=wa,g.isNull=function(e){return null===e},g.isObject=he,g.isObjectLike=be,g.isPlainObject=we,g.isSet=La,g.isString=Le,g.isSymbol=Pe,g.isTypedArray=Pa,g.last=le,g.stubArray=Me,g.stubFalse=Ve,g.toFinite=De,g.toInteger=Te,g.toNumber=Ie,g.toString=Ee,g.VERSION="4.17.5",ct&&((ct.exports=g)._=g,st._=g)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t){t.exports={itemType:{DATA:"data",FCTN:"fctn",EVENT:"event",LISTENER_ON:"listenerOn",LISTENER_OFF:"listenerOff"},dataLayerEvent:{CHANGE:"adobeDataLayer:change",EVENT:"adobeDataLayer:event"},listenerScope:{PAST:"past",FUTURE:"future",ALL:"all"}}},{}],3:[function(e,t){var a=e("../custom-lodash"),n=e("../version.json").version,r=a.cloneDeep,o=a.get,i=e("./item"),s=e("./listener"),c=e("./listenerManager"),d=e("./constants"),l=e("./utils/customMerge");t.exports=function(e){function t(e){v=l(v,e.data)}function a(e){function a(e){return 0===m.length||e.index>m.length-1?[]:m.slice(0,e.index).map((function(e){return i(e)}))}e.valid?{data:function(e){t(e),g.triggerListeners(e)},fctn:function(e){e.config.call(m,m)},event:function(e){e.data&&t(e),g.triggerListeners(e)},listenerOn:function(e){var t=s(e);switch(t.scope){case d.listenerScope.PAST:var n,r=u(a(e));try{for(r.s();!(n=r.n()).done;){var o=n.value;g.triggerListener(t,o)}}catch(e){r.e(e)}finally{r.f()}break;case d.listenerScope.FUTURE:g.register(t);break;case d.listenerScope.ALL:if(g.register(t)){var i,c=u(a(e));try{for(c.s();!(i=c.n()).done;){var l=i.value;g.triggerListener(t,l)}}catch(e){c.e(e)}finally{c.f()}}}},listenerOff:function(e){g.unregister(s(e))}}[e.type](e):p(e)}function p(e){var t="The following item cannot be handled by the data layer because it does not have a valid format: "+JSON.stringify(e.config);console.error(t)}var g,f=e||{},m=[],y=[],v={},h={getState:function(){return v},getDataLayer:function(){return m}};return Array.isArray(f.dataLayer)||(f.dataLayer=[]),y=f.dataLayer.splice(0,f.dataLayer.length),(m=f.dataLayer).version=n,v={},g=c(h),m.push=function(e){var t=arguments,n=arguments;if(Object.keys(t).forEach((function(e){var r=i(t[e]);switch(r.valid||(p(r),delete n[e]),r.type){case d.itemType.DATA:case d.itemType.EVENT:a(r);break;case d.itemType.FCTN:delete n[e],a(r);break;case d.itemType.LISTENER_ON:case d.itemType.LISTENER_OFF:delete n[e]}})),n[0])return Array.prototype.push.apply(this,n)},m.getState=function(e){return e?o(r(v),e):r(v)},m.addEventListener=function(e,t,n){a(i({on:e,handler:t,scope:n&&n.scope,path:n&&n.path}))},m.removeEventListener=function(e,t){a(i({off:e,handler:t}))},function(){for(var e=0;e<y.length;e++)m.push(y[e])}(),h}},{"../custom-lodash":1,"../version.json":14,"./constants":2,"./item":5,"./listener":7,"./listenerManager":8,"./utils/customMerge":10}],4:[function(e,t){var a={Manager:e("./dataLayerManager")};window.adobeDataLayer=window.adobeDataLayer||[],window.adobeDataLayer.version?console.warn("Adobe Client Data Layer v".concat(window.adobeDataLayer.version," has already been imported/initialized on this page. You may be erroneously loading it a second time.")):a.Manager({dataLayer:window.adobeDataLayer}),t.exports=a},{"./dataLayerManager":3}],5:[function(e,t){var a=e("../custom-lodash"),n=a.isPlainObject,r=a.isEmpty,o=a.omit,i=a.find,s=e("./utils/dataMatchesContraints"),c=e("./itemConstraints"),d=e("./constants");t.exports=function(e,t){var a=e,l=t,u=i(Object.keys(c),(function(e){return s(a,c[e])}))||"function"==typeof a&&d.itemType.FCTN||n(a)&&d.itemType.DATA,p=function(){var e=o(a,Object.keys(c.event));if(!r(e))return e}();return{config:a,type:u,data:p,valid:!!u,index:l}}},{"../custom-lodash":1,"./constants":2,"./itemConstraints":6,"./utils/dataMatchesContraints":11}],6:[function(e,t){t.exports={event:{event:{type:"string"},eventInfo:{optional:!0}},listenerOn:{on:{type:"string"},handler:{type:"function"},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}},listenerOff:{off:{type:"string"},handler:{type:"function",optional:!0},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}}}},{}],7:[function(e,t){var a=e("./constants");t.exports=function(e){return{event:e.config.on||e.config.off,handler:e.config.handler||null,scope:e.config.scope||e.config.on&&a.listenerScope.ALL||null,path:e.config.path||null}}},{"./constants":2}],8:[function(e,t){var a=e("../custom-lodash").cloneDeep,n=e("./constants"),r=e("./utils/listenerMatch"),o=e("./utils/indexOfListener");t.exports=function(e){function t(e,t){if(r(e,t)){var n=[a(t.config)];e.handler.apply(s.getDataLayer(),n)}}var i={},s=e,c=o.bind(null,i);return{register:function(e){var t=e.event;return Object.prototype.hasOwnProperty.call(i,t)?-1===c(e)&&(i[e.event].push(e),!0):(i[e.event]=[e],!0)},unregister:function(e){var t=e.event;if(Object.prototype.hasOwnProperty.call(i,t))if(e.handler||e.scope||e.path){var a=c(e);-1<a&&i[t].splice(a,1)}else i[t]=[]},triggerListeners:function(e){(function(e){var t=[];switch(e.type){case n.itemType.DATA:t.push(n.dataLayerEvent.CHANGE);break;case n.itemType.EVENT:t.push(n.dataLayerEvent.EVENT),e.data&&t.push(n.dataLayerEvent.CHANGE),e.config.event!==n.dataLayerEvent.CHANGE&&t.push(e.config.event)}return t})(e).forEach((function(a){if(Object.prototype.hasOwnProperty.call(i,a)){var n,r=u(i[a]);try{for(r.s();!(n=r.n()).done;)t(n.value,e)}catch(a){r.e(a)}finally{r.f()}}}))},triggerListener:function(e,a){t(e,a)}}}},{"../custom-lodash":1,"./constants":2,"./utils/indexOfListener":12,"./utils/listenerMatch":13}],9:[function(e,t){var a=e("../../custom-lodash"),n=a.has,r=a.get;t.exports=function(e,t){for(var a=t.substring(0,t.lastIndexOf("."));a;){if(n(e,a)&&null==r(e,a))return!0;a=a.substring(0,a.lastIndexOf("."))}return!1}},{"../../custom-lodash":1}],10:[function(e,t){var a=e("../../custom-lodash"),n=a.cloneDeepWith,r=a.isObject,o=a.isArray,i=a.reject,s=a.mergeWith,c=a.isNull;t.exports=function(e,t){return s(e,t,(function(e,t){if(null==t)return null})),function(e,t){return n(e,(a=1<arguments.length&&void 0!==t?t:function(e){return!e},function e(t){if(r(t)){if(o(t))return i(t,a).map((function(t){return n(t,e)}));for(var s={},c=0,d=Object.keys(t);c<d.length;c++){var l=d[c];a(t[l])||(s[l]=n(t[l],e))}return s}}));var a}(e,c)}},{"../../custom-lodash":1}],11:[function(e,t){var a=e("../../custom-lodash"),n=a.find,r=a.includes;t.exports=function(e,t){return void 0===n(Object.keys(t),(function(a){var n=t[a].type,o=a&&t[a].values,i=!t[a].optional,s=e[a],c=f(s),d=n&&c!==n,l=o&&!r(o,s);return i?!s||d||l:s&&(d||l)}))}},{"../../custom-lodash":1}],12:[function(e,t){var a=e("../../custom-lodash").isEqual;t.exports=function(e,t){var n=t.event;if(Object.prototype.hasOwnProperty.call(e,n)){var r,o=u(e[n].entries());try{for(o.s();!(r=o.n()).done;){var i=s(r.value,2),c=i[0],d=i[1];if(a(d.handler,t.handler))return c}}catch(e){o.e(e)}finally{o.f()}}return-1}},{"../../custom-lodash":1}],13:[function(e,t){function a(e,t){return!t.data||!e.path||n(t.data,e.path)||o(t.data,e.path)}var n=e("../../custom-lodash").has,r=e("../constants"),o=e("./ancestorRemoved");t.exports=function(e,t){var n=e.event,o=t.config,i=!1;return t.type===r.itemType.DATA?n===r.dataLayerEvent.CHANGE&&(i=a(e,t)):t.type===r.itemType.EVENT&&(n!==r.dataLayerEvent.EVENT&&n!==o.event||(i=a(e,t)),t.data&&n===r.dataLayerEvent.CHANGE&&(i=a(e,t))),i}},{"../../custom-lodash":1,"../constants":2,"./ancestorRemoved":9}],14:[function(e,t){t.exports={version:"2.0.2"}},{}]},{},[4])}}},"gcoe-adobe-client-data-layer/src/lib/util/getDataLayer.js":{script:function(e,t,a,n){"use strict";e.exports=function(){var e=n.getExtensionSettings();return window[e.dataLayerName]}}}}},adobegoogledatalayer:{displayName:"Google Data Layer",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP2f3baf761f0d4c4e942d3c5e7afcd399/",settings:{dataLayer:"dataLayer"},modules:{"adobegoogledatalayer/src/lib/events/gtmDlPushEvent.js":{name:"gtm-dl-push-event",displayName:"Google DL Push Event",script:function(e,t,a,n){"use strict";const r=a("../helpers/constants"),o=a("../helpers/instantiateGtmDlHelper"),i=[],s=n.getExtensionSettings().doConvertArrayEvents,c=function(e){i.forEach((function(t){const a=t.settings,n=t.trigger,{method:o,valueIsRegex:i,eventKey:c}=a,d=e&&e.detail&&e.detail.eventModel?e.detail.eventModel:void 0;s&&d&&!d.event&&d[0]===r.KEYWORD_EVENT&&d[1]&&(d.event=d[1],d.gaArrayEvent=d[2]?d[2]:void 0);const l=d&&d.event,u={event:e.detail};if(o!==r.METHOD_ALLCHANGES)if(l)if(o!==r.METHOD_ALLEVENTS){if(o===r.METHOD_SPECIFICEVENT)if(i){const e=new RegExp(c);String(l).match(e)&&n(u)}else c===l&&n(u)}else n(u);else o===r.METHOD_ALLDATA&&n(u);else n(u)}))};let d=function(){document.addEventListener(r.DATALAYERCHANGE,c),d=function(){}};e.exports=function(e,t){i.push({settings:e,trigger:t}),d(),o()}}},"adobegoogledatalayer/src/lib/helpers/instantiateGtmDlHelper.js":{script:function(e,t,a,n){"use strict";const r=a("./constants"),o=a("./getDataLayer");a("./getHelper")(),e.exports=()=>{n.logger.debug("instantiating helper..."),window.extensionGoogleDataLayer.dataLayerHelper=window.extensionGoogleDataLayer.dataLayerHelper||new window.extensionGoogleDataLayer.DataLayerHelper(o(),{listener:function(e,t){document.dispatchEvent(new CustomEvent(r.DATALAYERCHANGE,{bubbles:!1,detail:{dataLayerModel:Object.assign({},e),eventModel:Object.assign({},t)}}))},listenToPast:!0})}}},"adobegoogledatalayer/src/lib/helpers/constants.js":{script:function(e){"use strict";const t={DATALAYERCHANGE:"dataLayerChange",METHOD_SPECIFICEVENT:"specificEvent",METHOD_ALLEVENTS:"allEvents",METHOD_ALLDATA:"allData",METHOD_ALLCHANGES:"allChanges",DEFAULTDATALAYER:"dataLayer",KEYWORD_EVENT:"event"};e.exports=Object.freeze(t)}},"adobegoogledatalayer/src/lib/helpers/getDataLayer.js":{script:function(e,t,a,n){"use strict";e.exports=()=>{const e=n.getExtensionSettings().dataLayer;return window[e]=window[e]||[],window[e]}}},"adobegoogledatalayer/src/lib/helpers/getHelper.js":{script:function(e){"use strict";e.exports=()=>{!function(){function e(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var a=e[t];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")}function t(e,t){if(t)e:{var a=u;e=e.split(".");for(var n=0;n<e.length-1;n++){var r=e[n];if(!(r in a))break e;a=a[r]}(t=t(n=a[e=e[e.length-1]]))!=n&&null!=t&&l(a,e,{configurable:!0,writable:!0,value:t})}}function a(e){return null==e?String(e):(e=g.exec(Object.prototype.toString.call(Object(e))))?e[1].toLowerCase():"object"}function n(e,t){return Object.prototype.hasOwnProperty.call(Object(e),t)}function r(e){if(!e||"object"!=a(e)||e.nodeType||e==e.window)return!1;try{if(e.constructor&&!n(e,"constructor")&&!n(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(var t in e);return void 0===t||n(e,t)}function o(e,t){var a={},n=a;e=e.split(".");for(var r=0;r<e.length-1;r++)n=n[e[r]]={};return n[e[e.length-1]]=t,a}function i(e,t){var o,s=!e._clear;for(o in e)if(n(e,o)){var c=e[o];"array"===a(c)&&s?("array"===a(t[o])||(t[o]=[]),i(c,t[o])):r(c)&&s?(r(t[o])||(t[o]={}),i(c,t[o])):t[o]=c}delete t._clear}function s(e,t,a){t="function"==typeof(t=void 0===t?{}:t)?{listener:t,listenToPast:void 0!==a&&a,processNow:!0,commandProcessors:{}}:{listener:t.listener||function(){},listenToPast:t.listenToPast||!1,processNow:void 0===t.processNow||t.processNow,commandProcessors:t.commandProcessors||{}},this.a=e,this.m=t.listener,this.l=t.listenToPast,this.g=this.i=!1,this.b={},this.f=[],this.c=t.commandProcessors,this.h=d(this);var n=this.a.push,r=this;this.a.push=function(){var e=[].slice.call(arguments,0),t=n.apply(r.a,e);return c(r,e),t},t.processNow&&this.process()}function c(e,t,n){if(n=void 0!==n&&n,e.i&&(e.f.push.apply(e.f,t),!e.g))for(;0<e.f.length;){if("array"===a(t=e.f.shift()))e:{var s=e.b;a(t[0]);for(var c=t[0].split("."),d=c.pop(),l=t.slice(1),u=0;u<c.length;u++){if(void 0===s[c[u]])break e;s=s[c[u]]}try{s[d].apply(s,l)}catch(e){}}else if("arguments"===a(t)){if(c=e,d=[],l=t[0],c.c[l])for(s=c.c[l].length,u=0;u<s;u++)d.push(c.c[l][u].apply(c.h,[].slice.call(t,1)));e.f.push.apply(e.f,d)}else if("function"==typeof t)try{t.call(e.h)}catch(e){}else{if(!r(t))continue;for(var p in t)i(o(p,t[p]),e.b)}n||(e.g=!0,e.m(e.b,t),e.g=!1)}}function d(e){return{set:function(t,a){i(o(t,a),e.b)},get:function(t){return e.get(t)}}}var l="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,a){return e==Array.prototype||e==Object.prototype||(e[t]=a.value),e},u=e(this),p="function"==typeof Object.assign?Object.assign:function(e,t){for(var a=1;a<arguments.length;a++){var n=arguments[a];if(n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t("Object.assign",(function(e){return e||p}));var g=/\[object (Boolean|Number|String|Function|Array|Date|RegExp|Arguments)\]/;s.prototype.process=function(){this.registerProcessor("set",(function(){var e={};return 1===arguments.length&&"object"===a(arguments[0])?e=arguments[0]:2===arguments.length&&"string"===a(arguments[0])&&(e=o(arguments[0],arguments[1])),e})),this.i=!0;for(var e=this.a.length,t=0;t<e;t++)c(this,[this.a[t]],!this.l)},s.prototype.get=function(e){var t=this.b;e=e.split(".");for(var a=0;a<e.length;a++){if(void 0===t[e[a]])return;t=t[e[a]]}return t},s.prototype.j=function(){return Object.assign({},this.b)},s.prototype.flatten=function(){this.a.splice(0,this.a.length),this.a[0]={},i(this.b,this.a[0])},s.prototype.registerProcessor=function(e,t){e in this.c||(this.c[e]=[]),this.c[e].push(t)},s.prototype.registerProcessor=s.prototype.registerProcessor,s.prototype.flatten=s.prototype.flatten,s.prototype.getComputedState=s.prototype.j,s.prototype.get=s.prototype.get,s.prototype.process=s.prototype.process,window.extensionGoogleDataLayer=window.extensionGoogleDataLayer||{},window.extensionGoogleDataLayer.DataLayerHelper=s}()}}}}},"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP94e8a1fa8c014ff5ab3d1579625cdc72/",settings:{instances:[{name:"alloy",edgeDomain:"%aep:trackingServer%",edgeConfigId:"602d1c8d-ea15-4207-8651-d5076975a508",onBeforeEventSend:function(e){function t(e,t){if("object"!=typeof e)return!1;for(var a=e,n=0;n<t.length;n++){var r=t[n];if(!a.hasOwnProperty(r)||void 0===a[r])return!1;a=a[r]}return!0}try{if(!t(e,["xdm","web","_realmadrid","news","newsDate"])||"object"==typeof e.xdm.web._realmadrid.news.newsDate&&null!==e.xdm.web._realmadrid.news.newsDate||delete e.xdm.web._realmadrid.news.newsDate,t(e,["xdm","web","_realmadrid","user","userAge"])&&"number"!=typeof e.xdm.web._realmadrid.user.userAge&&delete e.xdm.web._realmadrid.user.userAge,t(e,["xdm","web","_realmadrid","user","userLifeTimeValue"])&&"number"!=typeof e.xdm.web._realmadrid.user.userLifeTimeValue&&delete e.xdm.web._realmadrid.user.userLifeTimeValue,t(e,["xdm","commerce","order","priceTotal"])&&"number"!=typeof e.xdm.commerce.order.priceTotal&&delete e.xdm.commerce.order.priceTotal,t(e,["xdm","commerce","_realmadrid","tax"])&&"number"!=typeof e.xdm.commerce._realmadrid.tax&&delete e.xdm.commerce._realmadrid.tax,t(e,["xdm","commerce","_realmadrid","promotionValue"])&&"number"!=typeof e.xdm.commerce._realmadrid.promotionValue&&delete e.xdm.commerce._realmadrid.promotionValue,!t(e,["xdm","productListItems"])||"object"==typeof e.xdm.productListItems&&0!==e.xdm.productListItems.length||delete e.xdm.productListItems,t(e,["xdm","web","webInteraction","_realmadrid","videoTracking","videoTimeTotal"])&&"number"!=typeof e.xdm.web.webInteraction._realmadrid.videoTracking.videoTimeTotal&&delete e.xdm.web.webInteraction._realmadrid.videoTracking.videoTimeTotal,t(e,["xdm","web","webInteraction","_realmadrid","videoTracking","videoTimePercentage"])&&"number"!=typeof e.xdm.web.webInteraction._realmadrid.videoTracking.videoTimePercentage&&delete e.xdm.web.webInteraction._realmadrid.videoTracking.videoTimePercentage,t(e,["xdm","web","webInteraction","_realmadrid","videoTracking","videoTimeLapse"])&&"number"!=typeof e.xdm.web.webInteraction._realmadrid.videoTracking.videoTimeLapse&&delete e.xdm.web.webInteraction._realmadrid.videoTracking.videoTimeLapse,t(e,["xdm","web","webInteraction","_realmadrid","siteSearch","siteSearchResultsNumber"])&&"number"!=typeof e.xdm.web.webInteraction._realmadrid.siteSearch.siteSearchResultsNumber&&delete e.xdm.web.webInteraction._realmadrid.siteSearch.siteSearchResultsNumber,t(e,["xdm","web","webInteraction","_realmadrid","formTracking","formErrorFieldsDetail"])&&"string"!=typeof e.xdm.web.webInteraction._realmadrid.formTracking.formErrorFieldsDetail&&delete e.xdm.web.webInteraction._realmadrid.formTracking.formErrorFieldsDetail,t(e,["xdm","web","webInteraction","_realmadrid","formTracking","formSubmitError"])&&"string"!=typeof e.xdm.web.webInteraction._realmadrid.formTracking.formSubmitError&&delete e.xdm.web.webInteraction._realmadrid.formTracking.formSubmitError,t(e,["xdm","web","webReferrer","_realmadrid","previousName"])&&"string"!=typeof e.xdm.web.webReferrer._realmadrid.previousName&&delete e.xdm.web.webReferrer._realmadrid.previousName,(t(e,["xdm","commerce","order","currencyCode"])&&"string"!=typeof e.xdm.commerce.order.currencyCode||t(e,["xdm","commerce","order","currencyCode"])&&"string"==typeof e.xdm.commerce.order.currencyCode&&!/^[A-Z]{3}$/.test(e.xdm.commerce.order.currencyCode))&&delete e.xdm.commerce.order.currencyCode,t(e,["xdm","commerce","shipping","shippingAmount"])&&"number"!=typeof e.xdm.commerce.shipping.shippingAmount&&delete e.xdm.commerce.shipping.shippingAmount,t(e,["xdm","productListItems"])&&"object"==typeof e.xdm.productListItems&&e.xdm.productListItems.length>0)for(var a=0;a<e.xdm.productListItems.length;a++)t(e.xdm.productListItems[a],["priceTotal"])&&"number"!=typeof e.xdm.productListItems[a].priceTotal&&delete e.xdm.productListItems[a].priceTotal,t(e.xdm.productListItems[a],["quantity"])&&"number"!=typeof e.xdm.productListItems[a].quantity&&delete e.xdm.productListItems[a].quantity,t(e.xdm.productListItems[a],["_realmadrid","productPromotionValue"])&&"number"!=typeof e.xdm.productListItems[a]._realmadrid.productPromotionValue&&delete e.xdm.productListItems[a]._realmadrid.productPromotionValue}catch(e){_satellite.logger.error("Error in Web SDK Workarounds: "+e)}},idMigrationEnabled:!1,stagingEdgeConfigId:"946a24ca-1c6a-4e98-a336-895325832f68",clickCollectionEnabled:!1,developmentEdgeConfigId:"946a24ca-1c6a-4e98-a336-895325832f68",thirdPartyCookiesEnabled:!1}]},modules:{"adobe-alloy/dist/lib/dataElements/xdmObject/index.js":{name:"xdm-object",displayName:"XDM object",script:function(e){"use strict";e.exports=function(e){return e.data}}},"adobe-alloy/dist/lib/dataElements/identityMap/index.js":{name:"identity-map",displayName:"Identity map",script:function(e,t,a,n){"use strict";var r=a("./createIdentityMap")({logger:n.logger});e.exports=function(e){return r(e)}}},"adobe-alloy/dist/lib/dataElements/eventMergeId/index.js":{name:"event-merge-id",displayName:"Event merge ID",script:function(e,t,a){"use strict";var n=a("./createEventMergeId"),r=a("../../instanceManager/index"),o=a("../../index").eventMergeIdCache;e.exports=n({instanceManager:r,eventMergeIdCache:o})}},"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:function(e,t,a,n){"use strict";var r,o=a("./createSendEvent"),i=a("../../instanceManager/index"),s=a("../../index").sendEventCallbackStorage,c=a("../../utils/createGetConfigOverrides");e.exports=o({instanceManager:i,sendEventCallbackStorage:s,getConfigOverrides:c(null===(r=n.environment)||void 0===r?void 0:r.stage)})}},"adobe-alloy/dist/lib/events/sendEventComplete/index.js":{name:"send-event-complete",displayName:"Send event complete",script:function(e,t,a){"use strict";var n=a("../../index").sendEventCallbackStorage,r=a("./createSendEventComplete");e.exports=r({sendEventCallbackStorage:n})}},"adobe-alloy/dist/lib/instanceManager/index.js":{script:function(e,t,a,n){"use strict";var r,o=a("../alloy"),i=o.createInstance,s=o.createEventMergeId,c=a("./createInstanceManager"),d=a("./injectWrapOnBeforeEventSend"),l=a("../utils/createGetConfigOverrides"),u=d({version:"2.27.0"});e.exports=c({turbine:n,window:window,createInstance:i,createEventMergeId:s,orgId:_satellite.company.orgId,wrapOnBeforeEventSend:u,getConfigOverrides:l(null===(r=n.environment)||void 0===r?void 0:r.stage)})}},"adobe-alloy/dist/lib/dataElements/identityMap/createIdentityMap.js":{script:function(e){"use strict";e.exports=function(e){var t=e.logger;return function(e){return Object.keys(e).reduce((function(a,n){var r=e[n].filter((function(e,a){var r=e.id,o="string"==typeof r&&r.length;return o||t.log("The identifier at ".concat(n,"[").concat(a,"] was removed from the identity map because its ID is not a populated string. Its ID value is:"),r),o}));return r.length?a[n]=r:t.log("The ".concat(n," namespace was removed from the identity map because it contains no identifiers.")),a}),{})}}}},"adobe-alloy/dist/lib/dataElements/eventMergeId/createEventMergeId.js":{script:function(e){"use strict";e.exports=function(e){var t=e.instanceManager,a=e.eventMergeIdCache;return function(e){var n=e.cacheId,r=a.getByCacheId(n);return r||(r=t.createEventMergeId().eventMergeId,a.set(n,r)),r}}}},"adobe-alloy/dist/lib/index.js":{script:function(e,t,a){"use strict";var n=a("./createEventMergeIdCache"),r=a("./createSendEventCallbackStorage"),o=a("./createMediaCollectionSessionStorage"),i=a("./createVariableStore");t.eventMergeIdCache=n(),t.sendEventCallbackStorage=r(),t.mediaCollectionSessionStorage=o(),t.variableStore=i()}},"adobe-alloy/dist/lib/alloy.js":{script:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(null==e)return{};var a,n,r=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function o(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;a[n]=e[n]}return a}function i(e,t){return d(e)||c(e,t)||v(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,o,i,s=[],c=!0,d=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=o.call(a)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){d=!0,r=e}finally{try{if(!c&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(d)throw r}}return s}}function d(e){if(Array.isArray(e))return e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){p(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t,a){return(t=g(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function g(e){var t=f(e,"string");return"symbol"==L(t)?t:t+""}function f(e,t){if("object"!=L(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e){return b(e)||h(e)||v(e)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return w(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?w(e,t):void 0}}function h(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e){if(Array.isArray(e))return w(e)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function P(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)e[n]=a[n]}return e}function D(e,t){function a(a,n,r){if("undefined"!=typeof document){"number"==typeof(r=P({},t,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in r)r[i]&&(o+="; "+i,!0!==r[i]&&(o+="="+r[i].split(";")[0]));return document.cookie=a+"="+e.write(n,a)+o}}function n(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var a=document.cookie?document.cookie.split("; "):[],n={},r=0;r<a.length;r++){var o=a[r].split("="),i=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(n[s]=e.read(i,s),t===s)break}catch(e){}}return t?n[t]:n}}return Object.create({set:a,get:n,remove:function(e,t){a(e,"",P({},t,{expires:-1}))},withAttributes:function(e){return D(this.converter,P({},this.attributes,e))},withConverter:function(e){return D(P({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function T(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function I(){return me||(me=1,fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){for(var a={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=a.parser[t.strictMode?"strict":"loose"].exec(e),r={},o=14;o--;)r[a.key[o]]=n[o]||"";return r[a.q.name]={},r[a.key[12]].replace(a.q.parser,(function(e,t,n){t&&(r[a.q.name][t]=n)})),r}}),fe}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Da[e[t+0]]+Da[e[t+1]]+Da[e[t+2]]+Da[e[t+3]]+"-"+Da[e[t+4]]+Da[e[t+5]]+"-"+Da[e[t+6]]+Da[e[t+7]]+"-"+Da[e[t+8]]+Da[e[t+9]]+"-"+Da[e[t+10]]+Da[e[t+11]]+Da[e[t+12]]+Da[e[t+13]]+Da[e[t+14]]+Da[e[t+15]]).toLowerCase()}function E(){if(!ye){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ye=crypto.getRandomValues.bind(crypto)}return ye(Ia)}function S(e,t,a){if(Ca.randomUUID&&!t&&!e)return Ca.randomUUID();var n=(e=e||{}).random||(e.rng||E)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){a=a||0;for(var r=0;r<16;++r)t[a+r]=n[r];return t}return C(n)}function O(e){return"object"===L(e)||void 0===e}function k(){return{matches:function(e,t){
var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(O(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!O(a[r])&&n===String(a[r]).toLowerCase())return!0;return!1}}}function _(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(O(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!O(a[r])&&n===String(a[r]).toLowerCase())return!1;return!0}}}function j(){return{matches:function(e,t){return void 0!==e[t]&&null!==e[t]}}}function x(){return{matches:function(e,t){return void 0===e[t]||null===e[t]}}}function R(e){return"number"==typeof e}function A(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!R(n))return!1;for(var r=0;r<a.length;r+=1)if(R(a[r])&&n>a[r])return!0;return!1}}}function N(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!R(n))return!1;for(var r=0;r<a.length;r+=1)if(R(a[r])&&n>=a[r])return!0;return!1}}}function M(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!R(n))return!1;for(var r=0;r<a.length;r+=1)if(R(a[r])&&n<a[r])return!0;return!1}}}function V(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!R(n))return!1;for(var r=0;r<a.length;r+=1)if(R(a[r])&&n<=a[r])return!0;return!1}}}function U(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(O(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!O(a[r])&&-1!==n.indexOf(String(a[r]).toLowerCase()))return!0;return!1}}}function q(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(O(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!O(a[r])&&-1!==n.indexOf(String(a[r]).toLowerCase()))return!1;return!0}}}function F(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(O(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!O(a[r])&&n.startsWith(String(a[r]).toLowerCase()))return!0;return!1}}}function B(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(O(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!O(a[r])&&n.endsWith(a[r].toLowerCase()))return!0;return!1}}}function z(e){return Bs[e]}function G(e){return void 0===e}function H(e,t,a){switch(t){case Us.GREATER_THAN:return e>a;case Us.GREATER_THAN_OR_EQUAL_TO:return e>=a;case Us.LESS_THAN:return e<a;case Us.LESS_THAN_OR_EQUAL_TO:return e<=a;case Us.EQUALS:return e===a;case Us.NOT_EQUALS:return e!==a;default:return!1}}function J(e,t){for(var a=0;a<t.length;a+=1)if(!G(e[t[a]]))return e[t[a]]}function W(e,t){for(var a=Object.keys(e),n=0;n<a.length;n+=1){var r=a[n],o=t.event;if((void 0===o?{}:o)[a[n]]!==e[r])return!1}return!0}function K(e,t,a,n){return e.reduce((function(e,r){var o=J(r,zs);if(!o)return e;var i=t.events[o];if(!i)return e;var s=J(r,Gs);if(!s)return e;var c=i[s];if(!c)return e;if(!W(r,c))return e;var d=c.count,l=void 0===d?1:d;return G(a)||G(n)||c.timestamp>=a&&c.timestamp<=n?e+l:e}),0)}function Q(e,t,a,n){var r=a;return e.every((function(e){var a=J(e,zs);if(!a)return!1;var o=t.events[a];if(!o)return!1;var i=J(e,Gs);if(!i)return!1;var s=o[i];if(!W(e,s))return!1;if(null===s||G(s)||0===s.count)return!1;var c=(G(r)||s.timestamp>=r)&&(G(n)||s.timestamp<=n);return r=s.timestamp,c}))?1:0}function $(e,t){for(var a=!0,n=0;n<t.length;n+=1)a=a&&t[n].evaluate(e);return a}function X(e,t){for(var a=!1,n=0;n<t.length;n+=1)if(a=a||t[n].evaluate(e))return!0;return!1}function Y(e,t){return{version:e,rules:t}}function Z(e,t){return{execute:function(a){return e.evaluate(a)?t:[]},toString:function(){return"Rule{condition=".concat(e,", consequences=").concat(t,"}")}}}function ee(e,t){return{evaluate:function(e){return t.evaluate(e)},toString:function(){return"Condition{type=".concat(e,", definition=").concat(t,"}")}}}function te(e,t,a){return{id:e,type:t,detail:a}}function ae(e,t){return{evaluate:function(a){return qs.AND===e?$(a,t):qs.OR===e&&X(a,t)}}}function ne(e,t,a){return{evaluate:function(n){var r=z(t);return!!r&&r.matches(n,e,a)}}}function re(e,t,a,n,r,o){return{evaluate:function(i){return H(Fs.ORDERED===o?Q(e,i,n,r):K(e,i,n,r),t,a)}}}function oe(e){return ne(e.key,e.matcher,e.values)}function ie(e){return ae(e.logic,e.conditions.map(ce))}function se(e){var t=e.events,a=e.from,n=e.to;return re(t,e.matcher,e.value,a,n,e.searchType)}function ce(e){var t=e.type,a=e.definition;if(Vs.MATCHER===t)return ee(t,oe(a));if(Vs.GROUP===t)return ee(t,ie(a));if(Vs.HISTORICAL===t)return ee(t,se(a));throw new Error("Can not parse condition")}function de(e){return te(e.id,e.type,e.detail)}function le(e){var t=e.condition,a=e.consequences;return Z(ce(t),a.map(de))}function ue(e){return Y(e.version,e.rules.map(le))}function pe(e){var t=ue(e),a=t.version,n=t.rules;return{execute:function(e){return n.map((function(t){return t.execute(e)})).filter((function(e){return e.length>0}))},getVersion:function(){return a},numRules:function(){return n.length}}}Object.defineProperty(t,"__esModule",{value:!0}),t.deepAssign=t.createInstance=t.createEventMergeId=void 0;for(var ge,fe,me,ye,ve=n(a("@adobe/reactor-query-string")),he=["datastreamId"],be=["edgeConfigOverrides"],we=["xdm","data","documentUnloading","type","mergeId","datasetId","edgeConfigOverrides"],Le=["priority"],Pe=["priority"],De=["priority"],Te=["trackingLabel","scopeType"],Ie=["standard","version"],Ce=function(e){return null==e},Ee=function(e){return!Ce(e)&&!Array.isArray(e)&&"object"===L(e)},Se=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.length<2?Object.assign.apply(Object,t):t.reduce((function(e,t){return Ee(t)&&Object.keys(t).forEach((function(a){var n;Array.isArray(t[a])?Array.isArray(e[a])?(n=e[a]).push.apply(n,m(t[a])):e[a]=m(t[a]):e[a]=t[a]})),e}))},Oe=D({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),ke={get:Oe.get.bind(Oe),set:Oe.set.bind(Oe),remove:Oe.remove.bind(Oe),withConverter:Oe.withConverter.bind(Oe)},_e=function(e,t){Object.keys(t).forEach((function(a){Ee(e[a])&&Ee(t[a])?_e(e[a],t[a]):e[a]=t[a]}))},je=t.deepAssign=function(e){if(Ce(e))throw new TypeError('deepAssign "target" cannot be null or undefined');for(var t=Object(e),a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return n.forEach((function(e){return _e(t,Object(e))})),t},xe=function(e,t){return function(a){var n=t.split(".").reduce((function(e,t){return e[t]=e[t]||{},e[t]}),e);je(n,a)}},Re=function(){var e=[];return{add:function(t){e.push(t)},call:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return Promise.all(e.map((function(e){return e.apply(void 0,a)})))}}},Ae=function(e){var t=e.logger,a=e.cookieJar;return u(u({},a),{},{set:function(e,n,r){t.info("Setting cookie",u({name:e,value:n},r)),a.set(e,n,r)}})},Ne=function(){var e=0,t=Promise.resolve();return{addTask:function(a){e+=1;var n=function(){return a().finally((function(){e-=1}))};return t=t.then(n,n)},get length(){return e}}},Me=function(){for(var e=[],t=0;t<256;t++){for(var a=t,n=0;n<8;n++)a=1&a?3988292384^a>>>1:a>>>1;e.push(a)}return function(t,a){t=unescape(encodeURIComponent(t)),a||(a=0),a=~a;for(var n=0;n<t.length;n++){var r=255&(a^t.charCodeAt(n));a=a>>>8^e[r]}return(a=~a)>>>0}}(),Ve=function(){var e={};return e.promise=new Promise((function(t,a){e.resolve=t,e.reject=a})),e},Ue=function(e,t){return e===t},qe=function(e,t,a){for(var n=0;n<e.length;n+=1)if(a(e[n],t))return n;return-1},Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue;return e.filter((function(a,n){return qe(e,a,t)===n}))},Be=function(e,t){return e.appendChild(t)},ze=function(e,t){Object.keys(t).forEach((function(a){if("style"===a&&Ee(t[a])){var n=t[a];Object.keys(n).forEach((function(t){e.style[t]=n[t]}))}else e[a]=t[a]}))},Ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:document).createElement(e);return Object.keys(t).forEach((function(e){r.setAttribute(e,t[e])})),ze(r,a),n.forEach((function(e){return Be(r,e)})),r},He="BODY",Je="IFRAME",We="IMG",Ke="DIV",Qe="STYLE",$e="SCRIPT",Xe="HEAD",Ye=function(e){var t=e.src,a=e.currentDocument,n=void 0===a?document:a;return new Promise((function(e,a){Ge(We,{src:t},{onload:e,onerror:a,onabort:a},[],n)}))},Ze=function(e){return"function"==typeof e},et=function(e){return Array.isArray(e)&&e.length>0},tt=function(e){return Array.isArray(e)?e:null==e?[]:[].slice.call(e)},at=/^\s*>/,nt=function(e,t){return at.test(t)?tt(e.querySelectorAll(":scope ".concat(t))):tt(e.querySelectorAll(t))},rt=":shadow",ot=function(e){return e.split(rt)},it=function(e,t){var a=t;if(!a.startsWith(">"))return a;var n=e instanceof Element||e instanceof Document?":scope":":host";return"".concat(n," ").concat(a)},st=function(e,t){var a=ot(t);if(a.length<2)return nt(e,t);for(var n=e,r=0;r<a.length;r+=1){var o=a[r].trim();if(""===o&&n.shadowRoot)n=n.shadowRoot;else{var i=it(n,o),s=nt(n,i);if(0===s.length||!s[0]||!s[0].shadowRoot)return s;n=s[0].shadowRoot}}},ct=function(e){return-1!==e.indexOf(rt)},dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return ct(e)?st(t,e):nt(t,e)},lt="MutationObserver",ut="requestAnimationFrame",pt={childList:!0,subtree:!0},gt="visibilityState",ft="visible",mt=100,yt=5e3,vt=function(e){return new Error("Could not find: ".concat(e))},ht=function(e){return new Promise(e)},bt=function(e){return Ze(e[lt])},wt=function(e,t,a,n,r){return ht((function(o,i){var s,c=new e[lt]((function(){var e=r(a);et(e)&&(c.disconnect(),s&&clearTimeout(s),o(e))}));s=setTimeout((function(){c.disconnect(),i(vt(a))}),n),c.observe(t,pt)}))},Lt=function(e){return e[gt]===ft},Pt=function(e,t,a,n){return ht((function(r,o){var i=function(){var a=n(t);et(a)?r(a):e[ut](i)};i(),setTimeout((function(){o(vt(t))}),a)}))},Dt=function(e,t,a){return ht((function(n,r){var o=function(){var t=a(e);et(t)?n(t):setTimeout(o,mt)};o(),setTimeout((function(){r(vt(e))}),t)}))},Tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yt,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,o=t(e);return et(o)?Promise.resolve(o):bt(n)?wt(n,r,e,a,t):Lt(r)?Pt(n,e,a,t):Dt(e,a,t)},It=function(e,t){return t.matches?t.matches(e):t.msMatchesSelector(e)},Ct=function(e){var t=e.parentNode;return t?t.removeChild(e):null},Et={name:"Adobe Alloy"},St={style:{display:"none",width:0,height:0}},Ot=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.appendNode,n=void 0===a?Be:a,r=t.awaitSelector,o=void 0===r?Tt:r,s=t.createNode,c=void 0===s?Ge:s,d=t.fireImage,l=void 0===d?Ye:d,u=l,p=function(){return o(He).then((function(t){var a=i(t,1)[0];return e||(e=c(Je,Et,St),n(a,e))}))},g=function(e){var t=e.src;return p().then((function(e){var a=e.contentWindow.document;return l({src:t,currentDocument:a})}))};return function(e){var t=e.hideReferrer,a=e.url;return t?g({src:a}):u({src:a})}},kt=function(e){return Ee(e)&&0===Object.keys(e).length},_t=function(e,t){return Ce(e)||!Ee(e)?e:Object.keys(e).reduce((function(a,n){var r=e[n];if(Ee(r)){var o=_t(r,t);return kt(o)?a:u(u({},a),{},p({},n,o))}return t(r)?u(u({},a),{},p({},n,r)):a}),{})},jt="com.adobe.alloy.",xt=function(e,t){return e.slice(-t)},Rt="".concat(jt,"getTld"),At=function(e,t){for(var a="",n=e.location.hostname.toLowerCase().split("."),r=1;r<n.length&&!t.get(Rt);)a=xt(n,r+=1).join("."),t.set(Rt,Rt,{domain:a});return t.remove(Rt,{domain:a}),a},Nt="kndctr",Mt=function(e){return e.replace("@","_")},Vt=function(e,t){return"".concat(Nt,"_").concat(Mt(e),"_").concat(t)},Ut=function(e,t){var a={};return e.forEach((function(e){var n=t(e);a[n]||(a[n]=[]),a[n].push(e)})),a},qt="Chrome",Ft="Edge",Bt="EdgeChromium",zt="Firefox",Gt="IE",Ht="Safari",Jt="Unknown",Wt=function(e){var t,a=!1;return function(){return a||(a=!0,t=e()),t}},Kt=[qt,Ft,Bt,Gt,Jt],Qt=function(e){var t=e.getBrowser;return Wt((function(){return Kt.includes(t())}))},$t="identity",Xt="consent",Yt="cluster",Zt=function(e){var t=e.orgId,a=Vt(t,$t);return function(){return Boolean(ke.get(a))}},ea=function(e,t){for(var a=Object.keys(e),n=0;n<a.length;n+=1){var r=a[n];if(e[r].test(t))return r}return Jt},ta=function(e){var t=e.userAgent;return Wt((function(){return ea(p(p(p(p(p(p({},Ft,/Edge\/([0-9\._]+)/),Bt,/Edg\/([0-9\.]+)/),qt,/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/),zt,/Firefox\/([0-9\.]+)(?:\s|$)/),Gt,/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/),Ht,/Version\/([0-9\._]+).*Safari/),t)}))},aa=function(e,t,a){return{getItem:function(n){try{return e[t].getItem(a+n)}catch(e){return null}},setItem:function(n,r){try{return e[t].setItem(a+n,r),!0}catch(e){return!1}},clear:function(){try{return Object.keys(e[t]).forEach((function(n){n.startsWith(a)&&e[t].removeItem(n)})),!0}catch(e){return!1}}}},na=function(e){return function(t){var a=jt+t;return{session:aa(e,"sessionStorage",a),persistent:aa(e,"localStorage",a)}}},ra=function(e,t){return e.filter((function(e){return t.includes(e)}))},oa=function(e){return"boolean"==typeof e},ia=function(e){return"number"==typeof e&&!Number.isNaN(e)},sa=function(e){var t=parseInt(e,10);return ia(t)&&e===t},ca=function(e,t){return 0===t.indexOf("".concat(Nt,"_").concat(Mt(e),"_"))},da=function(e){return"string"==typeof e},la=function(e){return da(e)&&e.length>0},ua=function(){},pa=T(I()),ga=function(e){var t={},a=e.split(".");switch(a.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=a[1];break;case 3:t.subdomain="www"===a[0]?"":a[0],t.domain=e,t.topLevelDomain=a[2];break;case 4:t.subdomain="www"===a[0]?"":a[0],t.domain=e,t.topLevelDomain="".concat(a[2],".").concat(a[3])}return t},fa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ga;da(e)||(e="");var a=pa(e)||{},n=a.host,r=void 0===n?"":n,o=a.path,i=void 0===o?"":o,s=a.query,c=void 0===s?"":s,d=a.anchor;return u({path:i,query:c,fragment:void 0===d?"":d},t(r))},ma=function(e){if(Ce(e)||"object"!==L(e))return null;var t=_t(e,(function(e){return!(Ce(e)||!oa(e)&&!ia(e)&&!la(e)&&!et(e))}));return kt(t)?null:t},ya=function(e){return e instanceof Error?e:new Error(e)},va=function(e){var t=e.error,a=e.message;try{t.message=a}catch(e){}},ha=function(e){var t=e.error,a=e.message,n=ya(t),r="".concat(a,"\nCaused by: ").concat(n.message);return va({error:n,message:r}),n},ba=function(e){return da(e)&&"true"===e.toLowerCase()},wa=function(e,t){if(ia(e)||da(e)){var a=Math.round(Number(e));if(!Number.isNaN(a))return a}return t},La=function(e,t,a){return"".concat(e).padStart(t,a)},Pa=function(e){var t=e.getFullYear(),a=La(e.getMonth()+1,2,"0"),n=La(e.getDate(),2,"0"),r=La(e.getHours(),2,"0"),o=La(e.getMinutes(),2,"0"),i=La(e.getSeconds(),2,"0"),s=La(e.getMilliseconds(),3,"0"),c=wa(e.getTimezoneOffset(),0),d=c>0?"-":"+",l=La(Math.floor(Math.abs(c)/60),2,"0"),u=La(Math.abs(c)%60,2,"0");return"".concat(t,"-").concat(a,"-").concat(n,"T").concat(r,":").concat(o,":").concat(i,".").concat(s).concat(d).concat(l,":").concat(u)},Da=[],Ta=0;Ta<256;++Ta)Da.push((Ta+256).toString(16).slice(1));var Ia=new Uint8Array(16),Ca={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},Ea=function(e){return function(t,a){return null==t?t:e.call(this,t,a)}},Sa=function(e,t){return function(a,n){return t.call(this,e.call(this,a,n),n)}},Oa=function(e,t){return function(a,n){var r=this,o=[],i=[e,t].reduce((function(e,t){try{return t.call(r,e,n)}catch(t){return o.push(t),e}}),a);if(o.length)throw new Error(o.join("\n"));return i}},ka=function(e,t,a){return Object.assign(Sa(e,t),e,a)},_a=function(e,t,a){return Object.assign(Sa(e,Ea(t)),e,a)},ja=function(e,t,a){return Object.assign(Oa(Ea(t),e),e,a)},xa=function(e,t,a,n){if(!e)throw new Error("'".concat(a,"': Expected ").concat(n,", but got ").concat(JSON.stringify(t),"."))},Ra=function(e,t){return xa(oa(e),e,t,"true or false"),e},Aa=function(e,t){return xa(Ze(e),e,t,"a function"),e},Na=function(e,t){return function(a,n){var r,o=this,i=e.find((function(e){try{return r=e.call(o,a,n),!0}catch(e){return!1}}));return xa(i,a,n,t),r}},Ma=function(e){return function(t,a){var n=this;xa(Array.isArray(t),t,a,"an array");var r=[],o=t.map((function(o,i){try{return e.call(n,o,"".concat(a,"[").concat(i,"]"),t)}catch(e){return void r.push(e.message)}}));if(r.length)throw new Error(r.join("\n"));return o}},Va=function(e){return function(t){return null==t?e:t}},Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This field has been deprecated";return function(t,a){var n=e;return void 0!==t&&(a&&(n="'".concat(a,"': ").concat(n)),this&&this.logger&&this.logger.warn(n)),t}},qa=function(e){return function(t,a){return xa(t===e,t,a,"".concat(e)),t}},Fa=function(e){return function(t,a){var n=this;xa(Ee(t),t,a,"an object");var r=[],o={};if(Object.keys(t).forEach((function(i){var s=t[i],c=a?"".concat(a,".").concat(i):i;try{var d=e.call(n,s,c);void 0!==d&&(o[i]=d)}catch(e){r.push(e.message)}})),r.length)throw new Error(r.join("\n"));return o}},Ba=function(e,t){return function(a,n){return xa(a>=t,a,n,"".concat(e," greater than or equal to ").concat(t)),a}},za=function(e,t){return function(a,n){return xa(a<=t,a,n,"".concat(e," less than or equal to ").concat(t)),a}},Ga=function(e){return function(t,a){var n=[];if(Object.keys(t).forEach((function(t){if(!e[t]){var r=a?"".concat(a,".").concat(t):t;n.push("'".concat(r,"': Unknown field."))}})),n.length)throw new Error(n.join("\n"));return t}},Ha=function(e){return function(t,a){return Ee(t)?xa(!kt(t),t,a,e):xa(t.length>0,t,a,e),t}},Ja=function(e){return function(t,a){var n=this;xa(Ee(t),t,a,"an object");var r=[],o={};if(Object.keys(e).forEach((function(i){var s=t[i],c=e[i],d=a?"".concat(a,".").concat(i):i;try{var l=c.call(n,s,d);void 0!==l&&(o[i]=l)}catch(e){r.push(e.message)}})),Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty.call(o,e)||(o[e]=t[e])})),r.length)throw new Error(r.join("\n"));return o}},Wa=function(e,t,a){return function(n,o){xa(Ee(n),n,o,"an object");var i=n[e],s=n[a],c=r(n,[e,a].map(g)),d=t(i,o);if(void 0!==d){var l="The field '".concat(e,"' is deprecated. Use '").concat(a,"' instead.");if(o&&(l="'".concat(o,"': ").concat(l)),void 0!==s&&s!==d)throw new Error(l);this&&this.logger&&this.logger.warn(l)}return u(p({},a,s||d),c)}},Ka=function(){var e=[];return function(t,a){return xa(-1===e.indexOf(t),t,a,"a unique value across instances"),e.push(t),t}},Qa=function(e){for(var t=Object.create(null),a=0;a<e.length;a+=1){var n=e[a];if(n in t)return!1;t[n]=!0}return!0},$a=function(){return function(e,t){return xa(Qa(e),e,t,"array values to be unique"),e}},Xa=/^[a-z0-9.-]{1,}$/i,Ya=function(e,t){return xa(Xa.test(e),e,t,"a valid domain"),e},Za=function(e,t){return xa(sa(e),e,t,"an integer"),e},en=function(e,t){return xa(ia(e),e,t,"a number"),e},tn=function(e){try{return null!==RegExp(e)}catch(e){return!1}},an=function(e,t){return xa(tn(e),e,t,"a regular expression"),e},nn=function(e,t){if(null==e)throw new Error("'".concat(t,"' is a required option"));return e},rn=function(e,t){return xa(da(e),e,t,"a string"),e},on=function(e){return function(t,a){return xa(e.test(t),t,a,"does not match the ".concat(e.toString())),t}},sn=function(e){return e};sn.default=function(e){return ka(this,Va(e))},sn.required=function(){return ka(this,nn)},sn.deprecated=function(e){return ka(this,Ua(e))};var cn=function(){return _a(this,Ya)},dn=function(e){return _a(this,Ba("an integer",e))},ln=function(e){return _a(this,Ba("a number",e))},un=function(e){return _a(this,za("a number",e))},pn=function(){return _a(this,Za,{minimum:dn})},gn=function(){return _a(this,Ha("a non-empty string"))},fn=function(){return _a(this,Ha("a non-empty array"))},mn=function(){return _a(this,Ha("a non-empty object"))},yn=function(){return _a(this,an)},vn=function(e){return _a(this,on(e))},hn=function(){return _a(this,Ka())},bn=function(){return _a(this,$a())},wn=function(){return this},Ln=function(e){return _a(this,Ma(e),{nonEmpty:fn,uniqueItems:bn})},Pn=function(){return _a(this,Ra)},Dn=function(){return _a(this,Aa)},Tn=function(e){return _a(this,qa(e))},In=function(){return _a(this,en,{minimum:ln,maximum:un,integer:pn,unique:hn})},Cn=function(e){return _a(this,Fa(e),{nonEmpty:mn})},En=function(e){return{noUnknownFields:function(){return _a(this,Ga(e))},nonEmpty:mn,concat:function(t){var a=u(u({},e),t.schema);return _a(this,t,En(a))},renamed:function(e,t,a){return ja(this,Wa(e,t,a))},schema:e}},Sn=function(e){return _a(this,Ja(e),En(e))},On=function(){return _a(this,rn,{regexp:yn,domain:cn,nonEmpty:gn,unique:hn,matches:vn})},kn=function(e,t){return ka(this,Na(e,t))}.bind(sn),_n=wn.bind(sn),jn=Ln.bind(sn),xn=Pn.bind(sn),Rn=Dn.bind(sn),An=Tn.bind(sn),Nn=In.bind(sn),Mn=Cn.bind(sn),Vn=Sn.bind(sn),Un=On.bind(sn),qn=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return kn(t.map(An),"one of these values: ".concat(JSON.stringify(t)))},Fn=Mn(jn(Vn({authenticatedState:qn("ambiguous","authenticated","loggedOut"),id:Un(),namespace:Vn({code:Un()}).noUnknownFields(),primary:xn(),xid:Un()}).noUnknownFields()).required()),Bn=Vn({}),zn="alloy_debug",Gn=function(e){var t=e.console,a=e.locationSearch,n=e.createLogger,r=e.instanceName,o=e.createNamespacedStorage,i=e.getMonitors,s=ve.default.parse(a),c=o("instance.".concat(r,".")),d=c.session.getItem("debug"),l="true"===d,u=null===d,p=function(){return l},g=function(e,t){var a=t.fromConfig;a&&!u||(l=e),a||(c.session.setItem("debug",e.toString()),u=!1)};return void 0!==s[zn]&&g(ba(s[zn]),{fromConfig:!1}),{setDebugEnabled:g,logger:n({getDebugEnabled:p,context:{instanceName:r},getMonitors:i,console:t}),createComponentLogger:function(e){return n({getDebugEnabled:p,context:{instanceName:r,componentName:e},getMonitors:i,console:t})}}},Hn=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"],Jn=function(e,t){return function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return Promise.all(e.getLifecycleCallbacks(t).map((function(e){return new Promise((function(t){t(e.apply(void 0,n))}))})))}},Wn=function(e){return function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return Promise.resolve().then((function(){return e.apply(void 0,a)}))}},Kn=function(e){return Hn.reduce((function(t,a){return t[a]=Wn(Jn(e,a)),t}),{})},Qn=function(e,t){return function(){var a;try{a=e.apply(void 0,arguments)}catch(e){throw ha({error:e,message:t})}return a instanceof Promise&&(a=a.catch((function(e){throw ha({error:e,message:t})}))),a}},$n=function(){var e={},t={},a={},n=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ra(Object.keys(t),Object.keys(a));if(n.length)throw new Error("[ComponentRegistry] Could not register ".concat(e," ")+"because it has existing command(s): ".concat(n.join(",")));Object.keys(a).forEach((function(n){var r=a[n];r.commandName=n,r.run=Qn(r.run,"[".concat(e,"] An error occurred while executing the ").concat(n," command.")),t[n]=r}))},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){a[n]=a[n]||[],a[n].push(Qn(t[n],"[".concat(e,"] An error occurred while executing the ").concat(n," lifecycle hook.")))}))};return{register:function(t,a){var o=a.commands,i=a.lifecycle;n(t,o),r(t,i),e[t]=a},getCommand:function(e){return t[e]},getCommandNames:function(){return Object.keys(t)},getLifecycleCallbacks:function(e){return a[e]||[]},getComponentNames:function(){return Object.keys(e)}}},Xn=function(e){var t=e.logger,a=e.sendFetchRequest,n=e.sendBeaconRequest,r=e.isRequestRetryable,o=e.getRequestRetryDelay;return function(e){var i=e.requestId,s=e.url,c=e.payload,d=e.useSendBeacon,l=JSON.stringify(c),p=JSON.parse(l);t.logOnBeforeNetworkRequest({url:s,requestId:i,payload:p});var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(d?n:a)(s,l).then((function(a){var n;if(r({response:a,retriesAttempted:e})){var c=o({response:a,retriesAttempted:e});return new Promise((function(t){setTimeout((function(){t(g(e+1))}),c)}))}try{n=JSON.parse(a.body)}catch(e){}return t.logOnNetworkResponse(u(u({requestId:i,url:s,payload:p},a),{},{parsedBody:n,retriesAttempted:e})),{statusCode:a.statusCode,body:a.body,parsedBody:n,getHeader:a.getHeader}}))};return g().catch((function(e){throw t.logOnNetworkError({requestId:i,url:s,payload:p,error:e}),ha({error:e,message:"Network request failed."})}))}},Yn=function(e){var t=e.logger;return function(e){if(e){var a=e.split(";");if(a.length>=2&&a[1].length>0)try{var n=parseInt(a[1],10);if(!Number.isNaN(n))return{regionId:n}}catch(e){}t.warn('Invalid adobe edge: "'.concat(e,'"'))}return{}}},Zn="in",er="out",tr="pending",ar="general",nr="declinedConsent",rr="default",or="initial",ir="new",sr=function(e){var t=new Error(e);return t.code=nr,t.message=e,t},cr=function(e){var t=e.logger,a=[],n=function(){for(;a.length;)a.shift().resolve()},r=function(){for(;a.length;)a.shift().reject(sr("The user declined consent."))},o=function(){return Promise.resolve()},i=function(){return Promise.resolve()},s=function(){return Promise.reject(sr("No consent preferences have been set."))},c=function(){return Promise.reject(sr("The user declined consent."))},d=function(e){if(e)return Promise.reject(new Error("Consent is pending."));var t=Ve();return a.push(t),t.promise};return{in:function(e){e===rr?this.awaitConsent=o:(e===or?t.info("Loaded user consent preferences. The user previously consented."):e===ir&&this.awaitConsent!==i&&t.info("User consented."),n(),this.awaitConsent=i)},out:function(e){e===rr?(t.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=s):(e===or?t.warn("Loaded user consent preferences. The user previously declined consent."):e===ir&&this.awaitConsent!==c&&t.warn("User declined consent."),r(),this.awaitConsent=c)},pending:function(e){e===rr&&t.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=d},awaitConsent:function(){return Promise.resolve()},withConsent:function(){return this.awaitConsent(!0)},current:function(){switch(this.awaitConsent){case o:return{state:"in",wasSet:!1};case i:return{state:"in",wasSet:!0};case s:return{state:"out",wasSet:!1};case c:return{state:"out",wasSet:!0};case d:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}},dr=function(e){var t=e.generalConsentState,a=e.logger,n=function(e,n){switch(e[ar]){case Zn:t.in(n);break;case er:t.out(n);break;case tr:t.pending(n);break;default:a.warn("Unknown consent value: ".concat(e[ar]))}};return{initializeConsent:function(e,t){t[ar]?n(t,or):n(e,rr)},setConsent:function(e){n(e,ir)},suspend:function(){t.pending()},awaitConsent:function(){return t.awaitConsent()},withConsent:function(){return t.withConsent()},current:function(){return t.current()}}},lr=function(e){return e&&e._experience&&e._experience.decisioning&&et(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[]},ur=function(){var e,t,a={},n=!1,r=!1,o=!0,i=function(e){if(r)throw new Error("".concat(e," cannot be called after event is finalized."))},s={hasQuery:function(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent:function(){var n=JSON.parse(JSON.stringify(a));return e&&je(n,{xdm:e}),t&&je(n,{data:t}),n},setUserXdm:function(t){i("setUserXdm"),e=t},setUserData:function(e){i("setUserData"),t=e},mergeXdm:function(e){i("mergeXdm"),e&&je(a,{xdm:e})},mergeData:function(e){i("mergeData"),e&&je(a,{data:e})},mergeMeta:function(e){i("mergeMeta"),e&&je(a,{meta:e})},mergeQuery:function(e){i("mergeQuery"),e&&je(a,{query:e})},documentMayUnload:function(){n=!0},finalize:function(n){if(!r){var i=Fe([].concat(m(lr(e)),m(lr(a.xdm))),(function(e,t){return e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope}));if(e&&this.mergeXdm(e),i.length>0&&(a.xdm._experience.decisioning.propositions=i),t&&s.mergeData(t),r=!0,n){o=!1;var c={xdm:a.xdm||{},data:a.data||{}},d=n(c);o=!1!==d,a.xdm=c.xdm||{},a.data=c.data||{},kt(a.xdm)&&delete a.xdm,kt(a.data)&&delete a.data}}},getDocumentMayUnload:function(){return n},isEmpty:function(){return kt(a)&&(!e||kt(e))&&(!t||kt(t))},shouldSend:function(){return o},getViewName:function(){if(e&&e.web&&e.web.webPageDetails)return e.web.webPageDetails.viewName},toJSON:function(){if(!r)throw new Error("toJSON called before finalize");return a}};return s},pr="Retry-After",gr="x-adobe-edge",fr=function(e){var t=e.extractEdgeInfo;return function(e){var a=e.content,n=void 0===a?{}:a,r=e.getHeader,o=n.handle,i=void 0===o?[]:o,s=n.errors,c=void 0===s?[]:s,d=n.warnings,l=void 0===d?[]:d;return{getPayloadsByType:function(e){return i.filter((function(t){return t.type===e})).flatMap((function(e){return e.payload}))},getErrors:function(){return c},getWarnings:function(){return l},getEdge:function(){return t(r(gr))},toJSON:function(){return n}}}},mr="configure",yr="setDebug",vr=function(e){var t,a=e.logger,n=e.configureCommand,r=e.setDebugCommand,o=e.handleError,i=e.validateCommandOptions,s=function(e,o){var s;if(e===mr){if(t)throw new Error("The library has already been configured and may only be configured once.");s=function(){return(t=n(o)).then((function(){}))}}else{if(!t)throw new Error("The library must be configured first. Please do so by executing the configure command.");s=e===yr?function(){return r(o)}:function(){return t.then((function(t){var a=t.getCommand(e);if(!a||!Ze(a.run)){var n=[mr,yr].concat(t.getCommandNames()).join(", ");throw new Error("The ".concat(e," command does not exist. List of available commands: ").concat(n,"."))}var r=i({command:a,options:o});return a.run(r)}),(function(){return a.warn("An error during configuration is preventing the ".concat(e," command from executing.")),new Promise((function(){}))}))}}return s};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){var r=s(e,t);a.logOnBeforeCommand({commandName:e,options:t}),n(r())})).catch((function(t){return o(t,"".concat(e," command"))})).catch((function(n){throw a.logOnCommandRejected({commandName:e,options:t,error:n}),n})).then((function(n){var r=Ee(n)?n:{};return a.logOnCommandResolved({commandName:e,options:t,result:r}),r}))}},hr="https://adobe.ly/3sHgQHb",br=function(e){var t=e.command,a=e.options,n=t.commandName,r=t.documentationUri,o=void 0===r?hr:r,i=t.optionsValidator,s=a;if(i)try{s=i(a)}catch(e){var c="Invalid ".concat(n," command options:\n\t - ").concat(e," For command documentation see: ").concat(o);throw new Error(c)}return s},wr="https://adobe.ly/3sHh553",Lr=function(e){var t=e.combinedConfigValidator,a=e.options,n=e.logger;try{return t.noUnknownFields().required().call({logger:n},a)}catch(e){throw new Error("Resolve these configuration problems:\n\t - ".concat(e.message.split("\n").join("\n\t - "),"\nFor configuration documentation see: ").concat(wr))}},Pr=function(e,t,a){return a.reduce((function(a,n){var r=n.buildOnInstanceConfiguredExtraParams;return r&&(a=u(u({},a),r({config:e,logger:t}))),a}),{})},Dr=function(e){var t=[],a={get enabled(){return e.enabled},flush:function(){t.forEach((function(t){var a=t.method,n=t.args;return e[a].apply(e,m(n))}))}};return Object.keys(e).filter((function(t){return"function"==typeof e[t]})).forEach((function(e){a[e]=function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];t.push({method:e,args:n})}})),a},Tr=function(e){var t=e.options,a=e.componentCreators,n=e.coreConfigValidators,r=e.createConfig,o=e.logger,i=e.setDebugEnabled,s=Dr(o),c=a.map((function(e){return e.configValidators})).filter((function(e){return e})).reduce((function(e,t){return e.concat(t)}),n),d=r(Lr({combinedConfigValidator:c,options:t,logger:s}));i(d.debugEnabled,{fromConfig:!0}),s.flush();var l=Pr(d,o,a);return o.logOnInstanceConfigured(u(u({},l),{},{config:d})),d},Ir=function(e){
var t=e.componentCreators,a=e.lifecycle,n=e.componentRegistry,r=e.getImmediatelyAvailableTools;return t.forEach((function(e){var t,a=e.namespace,o=r(a);try{t=e(o)}catch(e){throw ha({error:e,message:"[".concat(a,"] An error occurred during component creation.")})}n.register(a,t)})),a.onComponentsRegistered({lifecycle:a}).then((function(){return n}))},Cr=function(e){return u({},e)},Er="edge.adobedc.net",Sr="adobedc.demdex.net",Or="ee",kr=function(){return Vn({debugEnabled:xn().default(!1),datastreamId:Un().unique().required(),edgeDomain:Un().domain().default(Er),edgeBasePath:Un().nonEmpty().default(Or),orgId:Un().unique().required(),onBeforeEventSend:Rn().default(ua),edgeConfigOverrides:Bn}).renamed("edgeConfigId",Un().unique(),"datastreamId")},_r=function(e){var t=e.errorPrefix,a=e.logger;return function(e,n){var r=ya(e);if(r.code===nr)return a.warn("The ".concat(n," could not fully complete. ").concat(r.message)),{};throw va({error:r,message:"".concat(t," ").concat(r.message)}),r}},jr=function(e){var t=e.fetch;return function(e,a){return t(e,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrerPolicy:"no-referrer-when-downgrade",body:a}).then((function(e){return e.text().then((function(t){return{statusCode:e.status,getHeader:function(t){return e.headers.get(t)},body:t}}))}))}},xr=function(e){var t=e.sendBeacon,a=e.sendFetchRequest,n=e.logger;return function(e,r){var o=new Blob([r],{type:"text/plain; charset=UTF-8"});return t(e,o)?Promise.resolve({statusCode:204,getHeader:function(){return null},body:""}):(n.info("Unable to use `sendBeacon`; falling back to `fetch`."),a(e,r))}},Rr=function(e){var t=e.getDebugEnabled,a=e.console,n=e.getMonitors,r=e.context,o="[".concat(r.instanceName,"]");r.componentName&&(o+=" [".concat(r.componentName,"]"));var i=function(e,t){var a=n();if(a.length>0){var o=u(u({},r),t);a.forEach((function(t){t[e]&&t[e](o)}))}},s=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];i("onBeforeLog",{level:e,arguments:r}),t()&&a[e].apply(a,[o].concat(r))};return{get enabled(){return n().length>0||t()},logOnInstanceCreated:function(e){i("onInstanceCreated",e),s("info","Instance initialized.")},logOnInstanceConfigured:function(e){i("onInstanceConfigured",e),s("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand:function(e){i("onBeforeCommand",e),s("info","Executing ".concat(e.commandName," command. Options:"),e.options)},logOnCommandResolved:function(e){i("onCommandResolved",e),s("info","".concat(e.commandName," command resolved. Result:"),e.result)},logOnCommandRejected:function(e){i("onCommandRejected",e),s("error","".concat(e.commandName," command was rejected. Error:"),e.error)},logOnBeforeNetworkRequest:function(e){i("onBeforeNetworkRequest",e),s("info","Request ".concat(e.requestId,": Sending request."),e.payload)},logOnNetworkResponse:function(e){i("onNetworkResponse",e);var t=e.parsedBody||e.body?"response body:":"no response body.";s("info","Request ".concat(e.requestId,": Received response with status code ").concat(e.statusCode," and ").concat(t),e.parsedBody||e.body)},logOnNetworkError:function(e){i("onNetworkError",e),s("error","Request ".concat(e.requestId,": Network request failed."),e.error)},logOnContentHiding:function(e){i("onContentHiding",{status:e.status}),s(e.logLevel,e.message)},logOnContentRendering:function(e){i("onContentRendering",{status:e.status,payload:e.detail}),s(e.logLevel,e.message)},info:s.bind(null,"info"),warn:s.bind(null,"warn"),error:s.bind(null,"error")}},Ar="__view__",Nr=function(e){return function(t,a){e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(a)}},Mr=function(e){var t=e.payload,a=e.getAction,n=e.getUseSendBeacon,r=e.datastreamIdOverride,o=e.edgeSubPath,i=S(),s=!1,c=!1;return{getId:function(){return i},getPayload:function(){return t},getAction:function(){return a({isIdentityEstablished:c})},getDatastreamIdOverride:function(){return r},getUseSendBeacon:function(){return n({isIdentityEstablished:c})},getEdgeSubPath:function(){return o||""},getUseIdThirdPartyDomain:function(){return s},setUseIdThirdPartyDomain:function(){s=!0},setIsIdentityEstablished:function(){c=!0}}},Vr=function(e){var t=e.payload,a=e.datastreamIdOverride,n=function(e){var a=e.isIdentityEstablished;return t.getDocumentMayUnload()&&a};return Mr({payload:t,getAction:function(e){var t=e.isIdentityEstablished;return n({isIdentityEstablished:t})?"collect":"interact"},getUseSendBeacon:n,datastreamIdOverride:a})},Ur=function(e){var t=e.content,a=e.addIdentity,n=e.hasIdentity,r=xe(t,"meta.configOverrides");return{mergeMeta:xe(t,"meta"),mergeState:xe(t,"meta.state"),mergeQuery:xe(t,"query"),mergeConfigOverride:function(e){return r(ma(e))},addIdentity:a,hasIdentity:n,toJSON:function(){return t}}},qr=function(e){return function(t){return void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t])}},Fr=function(){var e={},t=Ur({content:e,addIdentity:Nr(e),hasIdentity:qr(e)});return t.addEvent=function(t){e.events=e.events||[],e.events.push(t)},t.getDocumentMayUnload=function(){return(e.events||[]).some((function(e){return e.getDocumentMayUnload()}))},t},Br=function(e){var t=e.localConfigOverrides,a=e.globalConfigOverrides,n=e.payload,o={payload:n},i=t||{},s=i.datastreamId,c=r(i,he);return s&&(o.datastreamIdOverride=s),a&&!kt(a)&&n.mergeConfigOverride(a),c&&!kt(c)&&n.mergeConfigOverride(c),o},zr="adb_validation_sessionid",Gr="validation.",Hr="clientId",Jr=function(e){var t=e.persistent.getItem(Hr);return t||(t=S(),e.persistent.setItem(Hr,t)),t},Wr=function(e){var t=e.window,a=(0,e.createNamespacedStorage)(Gr);return function(){var e=ve.default.parse(t.location.search)[zr];if(!e)return"";var n=Jr(a),r="".concat(e,"|").concat(n);return"&".concat(ve.default.stringify({adobeAepValidationToken:r}))}},Kr="Event was canceled because the onBeforeEventSend callback returned false.",Qr=function(e){var t=e.config,a=e.logger,n=e.lifecycle,o=e.consent,i=e.createEvent,s=e.createDataCollectionRequestPayload,c=e.createDataCollectionRequest,d=e.sendEdgeNetworkRequest,l=e.applyResponse,p=t.onBeforeEventSend,g=t.edgeConfigOverrides;return{createEvent:i,sendEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.edgeConfigOverrides,l=r(t,be),f=Br({payload:s(),localConfigOverrides:i,globalConfigOverrides:g}),m=c(f),y=Re(),v=Re();return n.onBeforeEvent(u(u({},l),{},{event:e,onResponse:y.add,onRequestFailure:v.add})).then((function(){return f.payload.addEvent(e),o.awaitConsent()})).then((function(){try{e.finalize(p)}catch(r){var t=function(){throw r};return v.add(n.onRequestFailure),v.call({error:r}).then(t,t)}if(!e.shouldSend()){v.add(n.onRequestFailure),a.info(Kr);var r=new Error(Kr);return v.call({error:r}).then((function(){}))}return d({request:m,runOnResponseCallbacks:y.call,runOnRequestFailureCallbacks:v.call})}))},applyResponse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.renderDecisions,r=void 0!==a&&a,o=t.decisionContext,i=void 0===o?{}:o,d=t.responseHeaders,u=void 0===d?{}:d,p=t.responseBody,g=void 0===p?{handle:[]}:p,f=t.personalization,m=s(),y=c({payload:m}),v=Re();return n.onBeforeEvent({event:e,renderDecisions:r,decisionContext:i,decisionScopes:[Ar],personalization:f,onResponse:v.add,onRequestFailure:ua}).then((function(){return m.addEvent(e),l({request:y,responseHeaders:u,responseBody:g,runOnResponseCallbacks:v.call})}))}}},$r="state:store",Xr=function(e){var t=e.cookieJar,a=e.shouldTransferCookie,n=e.apexDomain,r=e.dateProvider;return{cookiesToPayload:function(e,r){var o=""!==n&&r.endsWith(n),i={domain:n,cookiesEnabled:!0};if(!o){var s=t.get(),c=Object.keys(s).filter(a).map((function(e){return{key:e,value:s[e]}}));c.length&&(i.entries=c)}e.mergeState(i)},responseToCookies:function(e){e.getPayloadsByType($r).forEach((function(e){var a={domain:n},o=e.attrs&&e.attrs.SameSite&&e.attrs.SameSite.toLowerCase();void 0!==e.maxAge&&(a.expires=new Date(r().getTime()+1e3*e.maxAge)),void 0!==o&&(a.sameSite=o),"none"===o&&(a.secure=!0),t.set(e.key,e.value,a)}))}}},Yr="mboxEdgeCluster",Zr="at_qa_mode",eo="mbox",to=function(e){var t=e.orgId,a=e.targetMigrationEnabled;return function(e){return ca(t,e)||e===Zr||a&&e===eo}},ao="v1",no=function(e){var t=e.shift()||[],a=e.shift()||[],n=e;return Se.apply(void 0,[{}].concat(m(t),m(a),m(n)))},ro=function(e){return function(t){var a=function(){throw t};return e.call({error:t}).then(a,a)}},oo=function(e){var t=e.config,a=e.lifecycle,n=e.cookieTransfer,r=e.sendNetworkRequest,o=e.createResponse,i=e.processWarningsAndErrors,s=e.getLocationHint,c=e.getAssuranceValidationTokenParams,d=t.edgeDomain,l=t.edgeBasePath,u=t.datastreamId;return function(e){var t=e.request,p=e.runOnResponseCallbacks,g=void 0===p?ua:p,f=e.runOnRequestFailureCallbacks,m=void 0===f?ua:f,y=Re();y.add(a.onResponse),y.add(g);var v=Re();return v.add(a.onRequestFailure),v.add(m),a.onBeforeRequest({request:t,onResponse:y.add,onRequestFailure:v.add}).then((function(){var e=t.getUseIdThirdPartyDomain()?Sr:d,a=s(),o=a?"".concat(l,"/").concat(a).concat(t.getEdgeSubPath()):"".concat(l).concat(t.getEdgeSubPath()),i=t.getDatastreamIdOverride()||u,p=t.getPayload();i!==u&&p.mergeMeta({sdkConfig:{datastream:{original:u}}});var g="https://".concat(e,"/").concat(o,"/").concat(ao,"/").concat(t.getAction(),"?configId=").concat(i,"&requestId=").concat(t.getId()).concat(c());return n.cookiesToPayload(p,e),r({requestId:t.getId(),url:g,payload:p,useSendBeacon:t.getUseSendBeacon()})})).then((function(e){return i(e),e})).catch(ro(v)).then((function(e){var t=e.parsedBody,a=e.getHeader,r=o({content:t,getHeader:a});return n.responseToCookies(r),y.call({response:r}).then(no)}))}},io=204,so="The server responded with a",co=function(e){var t=e.logger;return function(e){var a=e.statusCode,n=e.body,r=e.parsedBody;if(a<200||a>=300||!r&&a!==io||r&&!Array.isArray(r.handle)){var o=r?JSON.stringify(r,null,2):n,i=o?"response body:\n".concat(o):"no response body.";throw new Error("".concat(so," status code ").concat(a," and ").concat(i))}if(r){var s=r.warnings,c=void 0===s?[]:s,d=r.errors,l=void 0===d?[]:d;c.forEach((function(e){t.warn("".concat(so," warning:"),e)})),l.forEach((function(e){t.error("".concat(so," non-fatal error:"),e)}))}}},lo=function(e){var t=e.orgId,a=e.cookieJar,n=Vt(t,Yt),r=function(){return a.get(n)},o=function(){var e=a.get(Yr);if(e)return"t".concat(e)};return function(){return r()||o()}},uo=3,po=[429,503,502,504],go=function(e){var t=e.response;return e.retriesAttempted<uo&&po.includes(t.statusCode)},fo=1e3,mo=1e3,yo=.3,vo=function(e){var t=fo+e*mo,a=t*yo,n=t-a,r=t+a;return Math.round(n+Math.random()*(r-n))},ho=function(e){var t,a=e.getHeader(pr);if(a){var n=parseInt(a,10);t=sa(n)?1e3*n:Math.max(0,new Date(a).getTime()-(new Date).getTime())}return t},bo=function(e){var t=e.response,a=e.retriesAttempted,n=ho(t);return void 0===n&&(n=vo(a)),n},wo=200,Lo=function(e){var t=e.cookieTransfer,a=e.lifecycle,n=e.createResponse,r=e.processWarningsAndErrors;return function(e){var o=e.request,i=e.responseHeaders,s=e.responseBody,c=e.runOnResponseCallbacks,d=void 0===c?ua:c,l=e.runOnRequestFailureCallbacks,u=void 0===l?ua:l,p=Re();p.add(a.onResponse),p.add(d);var g=Re();g.add(a.onRequestFailure),g.add(u);var f=function(e){return i[e]};return a.onBeforeRequest({request:o,onResponse:p.add,onRequestFailure:g.add}).then((function(){return r({statusCode:wo,getHeader:f,body:JSON.stringify(s),parsedBody:s})})).catch(ro(g)).then((function(){var e=n({content:s,getHeader:f});return t.responseToCookies(e),p.call({response:e}).then(no)}))}},Po=function(e){var t=e.options;return Vn({type:Un(),xdm:Vn({eventType:Un(),identityMap:Fn}),data:Vn({}),documentUnloading:xn(),renderDecisions:xn(),decisionScopes:jn(Un()).uniqueItems(),personalization:Vn({decisionScopes:jn(Un()).uniqueItems(),surfaces:jn(Un()).uniqueItems(),sendDisplayEvent:xn().default(!0),includeRenderedPropositions:xn().default(!1),defaultPersonalizationEnabled:xn(),decisionContext:Vn({})}).default({sendDisplayEvent:!0}),datasetId:Un(),mergeId:Un(),edgeConfigOverrides:Bn,initializePersonalization:xn()}).required().noUnknownFields()(t)},Do=function(e){var t=e.options;return Vn({renderDecisions:xn(),responseHeaders:Mn(Un().required()),responseBody:Vn({handle:jn(Vn({type:Un().required(),payload:_n().required()})).required()}).required(),personalization:Vn({sendDisplayEvent:xn().default(!0),decisionContext:Vn({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(t)},To=function(e){var t=e.eventManager,a=e.logger;return{commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:function(e){return Po({options:e})},run:function(e){var n=e.xdm,o=e.data,i=e.documentUnloading,s=e.type,c=e.mergeId,d=e.datasetId,l=e.edgeConfigOverrides,u=r(e,we),p=t.createEvent();return i&&p.documentMayUnload(),p.setUserXdm(n),p.setUserData(o),s&&p.mergeXdm({eventType:s}),c&&p.mergeXdm({eventMergeId:c}),l&&(u.edgeConfigOverrides=l),d&&(a.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),u.edgeConfigOverrides=l||{},je(u.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:d}}}})),t.sendEvent(p,u)}},applyResponse:{documentationUri:"",optionsValidator:function(e){return Do({options:e})},run:function(e){var a=e.renderDecisions,n=void 0!==a&&a,r=e.decisionContext,o=void 0===r?{}:r,i=e.responseHeaders,s=void 0===i?{}:i,c=e.responseBody,d=void 0===c?{handle:[]}:c,l=e.personalization,u=t.createEvent();return t.applyResponse(u,{renderDecisions:n,decisionContext:o,responseHeaders:s,responseBody:d,personalization:l})}}}}};To.namespace="DataCollector";var Io=function(e,t){return"ID sync ".concat(t?"succeeded":"failed",": ").concat(e.spec.url)},Co=function(e){var t=e.fireReferrerHideableImage,a=e.logger;return function(e){var n=e.filter((function(e){return"url"===e.type}));return n.length?Promise.all(n.map((function(e){return t(e.spec).then((function(){a.info(Io(e,!0))})).catch((function(){a.error(Io(e,!1))}))}))).then(ua):Promise.resolve()}},Eo=Vn({thirdPartyCookiesEnabled:xn().default(!0),idMigrationEnabled:xn().default(!0)}),So=Vn({url:Un().required().nonEmpty(),edgeConfigOverrides:Bn}).required().noUnknownFields(),Oo="ECID",ko=function(e){var t,a=e.addEcidQueryToPayload,n=e.addQueryStringIdentityToPayload,r=e.ensureSingleIdentity,o=e.setLegacyEcid,i=e.handleResponseForIdSyncs,s=e.getNamespacesFromResponse,c=e.getIdentity,d=e.consent,l=e.appendIdentityToUrl,p=e.logger,g=e.getIdentityOptionsValidator,f={};return{lifecycle:{onBeforeRequest:function(e){var t=e.request,o=e.onResponse,i=e.onRequestFailure;return a(t.getPayload()),n(t.getPayload()),r({request:t,onResponse:o,onRequestFailure:i})},onResponse:function(e){var a=e.response,n=s(a);return t&&t[Oo]||!n||!n[Oo]||o(n[Oo]),t=n,f=u(u({},f),a.getEdge()),i(a)}},commands:{getIdentity:{optionsValidator:g,run:function(e){var a=e.namespaces;return d.awaitConsent().then((function(){return t?void 0:c(e)})).then((function(){return{identity:a.reduce((function(e,a){return e[a]=t[a]||null,e}),{}),edge:f}}))}},appendIdentityToUrl:{optionsValidator:So,run:function(e){return d.withConsent().then((function(){return t?void 0:c(e)})).then((function(){return{url:l(t[Oo],e.url)}})).catch((function(t){return p.warn("Unable to append identity to url. ".concat(t.message)),e}))}}}}},_o=function(e){var t=e.config,a=e.getEcidFromVisitor,n=e.apexDomain,r=e.isPageSsl,o=e.cookieJar,i=t.idMigrationEnabled,s=t.orgId,c="AMCV_".concat(s),d=function(){var e=null,t="s_ecid",a=o.get(t)||o.get(c);if(a){var n=/(^|\|)MCMID\|(\d+)($|\|)/,r=a.match(n);r&&(e=r[2])}return e};return{getEcid:function(){if(i){var e=d();return e?Promise.resolve(e):a()}return Promise.resolve()},setEcid:function(e){if(i&&d()!==e){var t=r?{sameSite:"none",secure:!0}:{};o.set(c,"MCMID|".concat(e),u({domain:n,expires:390},t))}}}},jo=function(e){var t=e.logger;return new Promise((function(e,a){if(Ee(window.adobe)&&Ee(window.adobe.optIn)){var n=window.adobe.optIn;t.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),n.fetchPermissions((function(){n.isApproved([n.Categories.ECID])?(t.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),e()):a(new Error("Legacy opt-in was declined."))}),!0)}else e()}))},xo=function(e){var t=e.Visitor;return Ze(t)&&Ze(t.getInstance)&&t},Ro=function(e){var t=e.logger,a=e.orgId,n=e.awaitVisitorOptIn;return function(){var e=xo(window);return e?n({logger:t}).then((function(){return t.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((function(n){e.getInstance(a,{}).getMarketingCloudVisitorID((function(e){t.info("Resuming previously delayed request that was waiting for ECID from Visitor."),n(e)}),!0)}))})).catch((function(e){e?t.info("".concat(e.message,", retrieving ECID from experience edge")):t.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()}},Ao=function(e){var t=e.processIdSyncs;return function(e){return t(e.getPayloadsByType("identity:exchange"))}},No=function(e){var t,a=e.doesIdentityCookieExist,n=e.setDomainForInitialIdentityPayload,r=e.addLegacyEcidToPayload,o=e.awaitIdentityCookie,i=e.logger,s=function(e){return n(e),r(e.getPayload())};return function(e){var n=e.request,r=e.onResponse,c=e.onRequestFailure;if(a())return n.setIsIdentityEstablished(),Promise.resolve();if(t){i.info("Delaying request while retrieving ECID from server.");var d=t;return t=d.catch((function(){return o({onResponse:r,onRequestFailure:c})})),d.then((function(){i.info("Resuming previously delayed request."),n.setIsIdentityEstablished()})).catch((function(){return s(n)}))}return(t=o({onResponse:r,onRequestFailure:c})).catch((function(){})),s(n)}},Mo="CORE",Vo=function(e){var t=e.thirdPartyCookiesEnabled,a=e.areThirdPartyCookiesSupportedByDefault,n={identity:{fetch:[Oo]}};return t&&a()&&n.identity.fetch.push(Mo),function(e){e.mergeQuery(n)}},Uo=function(e){var t=e.thirdPartyCookiesEnabled,a=e.areThirdPartyCookiesSupportedByDefault;return function(e){t&&a()&&e.setUseIdThirdPartyDomain()}},qo=function(e){var t=e.getLegacyEcid,a=e.addEcidToPayload;return function(e){return e.hasIdentity(Oo)?Promise.resolve():t().then((function(t){t&&a(e,t)}))}},Fo="adobe_mc",Bo=function(e){try{return decodeURIComponent(e)}catch(e){return""}},zo=300,Go=function(e){var t=e.locationSearch,a=e.dateProvider,n=e.orgId,r=e.logger;return function(e){if(!e.hasIdentity(Oo)){var o=ve.default.parse(t)[Fo];if(void 0!==o){Array.isArray(o)&&(r.warn("Found multiple adobe_mc query string paramters, only using the last one."),o=o[o.length-1]);var s=o.split("|").reduce((function(e,t){var a=i(t.split("="),2),n=a[0],r=a[1];return e[n]=r,e}),{}),c=parseInt(s.TS,10),d=s.MCMID,l=Bo(s.MCORGID);a().getTime()/1e3<=c+zo&&l===n&&d?(r.info("Found valid ECID identity ".concat(d," from the adobe_mc query string parameter.")),e.addIdentity(Oo,{id:d})):r.info("Detected invalid or expired adobe_mc query string parameter.")}}}},Ho=function(e,t){e.addIdentity(Oo,{id:t})},Jo=function(e){var t=e.doesIdentityCookieExist,a=e.orgId,n=e.logger;return function(e){var r=e.onResponse,o=e.onRequestFailure;return new Promise((function(e,i){r((function(){t()?e():(n.warn("Identity cookie not found. This could be caused by any of the following issues:\n"+"\t* The org ID ".concat(a," configured in Alloy doesn't match the org ID specified in the edge configuration.\n")+"\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed."),i(new Error("Identity cookie not found.")))})),o((function(){t()?e():i(new Error("Identity cookie not found."))}))}))}},Wo=function(e){return e.getPayloadsByType("identity:result").reduce((function(e,t){return t.namespace&&t.namespace.code&&(e[t.namespace.code]=t.id),e}),{})},Ko=function(e){var t=e.sendEdgeNetworkRequest,a=e.createIdentityRequestPayload,n=e.createIdentityRequest,r=e.globalConfigOverrides;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.namespaces,i=e.edgeConfigOverrides,s=Br({payload:a(o),globalConfigOverrides:r,localConfigOverrides:i}),c=n(s);return t({request:c})}},Qo=function(e){var t=e.payload,a=e.datastreamIdOverride;return Mr({payload:t,datastreamIdOverride:a,getAction:function(){return"identity/acquire"},getUseSendBeacon:function(){return!1}})},$o=function(e){var t={query:{identity:{fetch:e}}};return Ur({content:t,addIdentity:Nr(t),hasIdentity:qr(t)})},Xo=/^([^?#]*)(\??[^#]*)(#?.*)$/,Yo=function(e){return""===e?"?":"?"===e?"":"&"},Zo=function(e){var t=e.dateProvider,a=e.orgId;return function(e,n){var r=Math.round(t().getTime()/1e3),o=encodeURIComponent("TS=".concat(r,"|MCMID=").concat(e,"|MCORGID=").concat(encodeURIComponent(a))),s=i(n.match(Xo),4),c=s[1],d=s[2],l=s[3],u=Yo(d);return"".concat(c).concat(d).concat(u,"adobe_mc=").concat(o).concat(l)}},ei=Vn({namespaces:jn(qn(Oo,Mo)).nonEmpty().uniqueItems().default([Oo]),edgeConfigOverrides:Bn}).noUnknownFields().default({namespaces:[Oo]}),ti=function(e){var t=e.thirdPartyCookiesEnabled;return function(e){var a=ei(e);if(!t&&a.namespaces.includes(Mo))throw new Error("namespaces: The ".concat(Mo," namespace cannot be requested when third-party cookies are disabled."));return a}},ai=function(e){var t=e.config,a=e.logger,n=e.consent,r=e.fireReferrerHideableImage,o=e.sendEdgeNetworkRequest,i=e.apexDomain,s=e.getBrowser,c=t.orgId,d=t.thirdPartyCookiesEnabled,l=t.edgeConfigOverrides,u=Ro({logger:a,orgId:c,awaitVisitorOptIn:jo}),p=Ae({logger:a,cookieJar:ke}),g=_o({config:t,getEcidFromVisitor:u,apexDomain:i,cookieJar:p,isPageSsl:"https:"===window.location.protocol}),f=Zt({orgId:c}),m=Ko({sendEdgeNetworkRequest:o,createIdentityRequestPayload:$o,createIdentityRequest:Qo,globalConfigOverrides:l}),y=Qt({getBrowser:s}),v=Uo({thirdPartyCookiesEnabled:d,areThirdPartyCookiesSupportedByDefault:y}),h=qo({getLegacyEcid:g.getEcid,addEcidToPayload:Ho}),b=Go({locationSearch:window.document.location.search,dateProvider:function(){return new Date},orgId:c,logger:a}),w=Jo({doesIdentityCookieExist:f,orgId:c,logger:a}),L=No({doesIdentityCookieExist:f,setDomainForInitialIdentityPayload:v,addLegacyEcidToPayload:h,awaitIdentityCookie:w,logger:a}),P=Co({fireReferrerHideableImage:r,logger:a}),D=Ao({processIdSyncs:P}),T=Zo({dateProvider:function(){return new Date},orgId:c,globalConfigOverrides:l}),I=ti({thirdPartyCookiesEnabled:d}),C=Vo({thirdPartyCookiesEnabled:d,areThirdPartyCookiesSupportedByDefault:y});return ko({addEcidQueryToPayload:C,addQueryStringIdentityToPayload:b,ensureSingleIdentity:L,setLegacyEcid:g.setEcid,handleResponseForIdSyncs:D,getNamespacesFromResponse:Wo,getIdentity:m,consent:n,appendIdentityToUrl:T,logger:a,config:t,getIdentityOptionsValidator:I})};ai.namespace="Identity",ai.configValidators=Eo;var ni="2.24.0",ri=function(e){var t=e.config,a=e.componentRegistry,n=[].concat(m(a.getCommandNames()),[mr,yr]).sort(),r=u({},t);Object.keys(t).forEach((function(e){var a=t[e];"function"==typeof a&&(r[e]=a.toString())}));var o=a.getComponentNames();return{version:ni,configs:r,commands:n,components:o}},oi=function(e){var t=e.config,a=e.componentRegistry;return{commands:{getLibraryInfo:{run:function(){return{libraryInfo:ri({config:t,componentRegistry:a})}}}}}};oi.namespace="LibraryInfo";var ii,si=Object.freeze({__proto__:null,dataCollector:To,identity:ai,libraryInfo:oi}),ci=na(window),di=window,li=(di.console,di.fetch),ui=di.navigator,pi=kr(),gi=At(window,ke),fi=jr({fetch:li}),mi=Ot(),yi=Wr({window:window,createNamespacedStorage:ci}),vi=ta({userAgent:window.navigator.userAgent}),hi=function(e){var t=e.instanceName,a=e.logController,n=a.setDebugEnabled,r=a.logger,o=a.createComponentLogger,i=e.components,s=$n(),c=Kn(s),d=i.concat(Object.values(si)),l=function(e){n(e.enabled,{fromConfig:!1})},u=Ae({logger:r,cookieJar:ke}),p=function(e){var a=Tr({options:e,componentCreators:d,coreConfigValidators:pi,createConfig:Cr,logger:r,setDebugEnabled:n}),i=a.orgId,l=a.targetMigrationEnabled,p=to({orgId:i,targetMigrationEnabled:l}),g=Xr({cookieJar:u,shouldTransferCookie:p,apexDomain:gi,dateProvider:function(){return new Date}}),f=Ze(ui.sendBeacon)?xr({sendBeacon:ui.sendBeacon.bind(ui),sendFetchRequest:fi,logger:r}):fi,m=Xn({logger:r,sendFetchRequest:fi,sendBeaconRequest:f,isRequestRetryable:go,getRequestRetryDelay:bo}),y=co({logger:r}),v=Yn({logger:r}),h=fr({extractEdgeInfo:v}),b=lo({orgId:i,cookieJar:ke}),w=oo({config:a,lifecycle:c,cookieTransfer:g,sendNetworkRequest:m,createResponse:h,processWarningsAndErrors:y,getLocationHint:b,getAssuranceValidationTokenParams:yi}),L=Lo({lifecycle:c,cookieTransfer:g,createResponse:h,processWarningsAndErrors:y}),P=cr({logger:r}),D=dr({generalConsentState:P,logger:r}),T=Qr({config:a,logger:r,lifecycle:c,consent:D,createEvent:ur,createDataCollectionRequestPayload:Fr,createDataCollectionRequest:Vr,sendEdgeNetworkRequest:w,applyResponse:L});return Ir({componentCreators:d,lifecycle:c,componentRegistry:s,getImmediatelyAvailableTools:function(e){var n=o(e);return{config:a,componentRegistry:s,consent:D,eventManager:T,fireReferrerHideableImage:mi,logger:n,lifecycle:c,sendEdgeNetworkRequest:w,handleError:_r({errorPrefix:"[".concat(t,"] [").concat(e,"]"),logger:n}),createNamespacedStorage:ci,apexDomain:gi,getBrowser:vi}}})},g=_r({errorPrefix:"[".concat(t,"]"),logger:r});return vr({logger:r,configureCommand:p,setDebugCommand:l,handleError:g,validateCommandOptions:br})},bi=function(e){var t=e.eventManager,a=e.lifecycle,n=e.handleError;return function(e){if(e.s_fe)return Promise.resolve();var r=e.target,o=t.createEvent();return o.documentMayUnload(),a.onClick({event:o,clickedElement:r}).then((function(){return o.isEmpty()?Promise.resolve():t.sendEvent(o)})).then(ua).catch((function(e){n(e,"click collection")}))}},wi=function(e){var t=e.eventManager,a=e.lifecycle,n=e.handleError,r=bi({eventManager:t,lifecycle:a,handleError:n});document.addEventListener("click",r,!0)},Li=Un().regexp().default("\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$"),Pi=Vn({clickCollectionEnabled:xn().default(!0),clickCollection:Vn({internalLinkEnabled:xn().default(!0),externalLinkEnabled:xn().default(!0),downloadLinkEnabled:xn().default(!0),sessionStorageEnabled:xn().default(!1),eventGroupingEnabled:xn().default(!1),filterClickProperties:Rn()}).default({internalLinkEnabled:!0,externalLinkEnabled:!0,downloadLinkEnabled:!0,sessionStorageEnabled:!1,eventGroupingEnabled:!1}),downloadLinkQualifier:Li,onBeforeLinkClickSend:Rn().deprecated('The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.')}),Di="cppXYctnr",Ti=function(){return null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).getElementById(Di)},Ii=function(e){var t=e;return/^https?:\/\//i.test(t)||(t="".concat(window.location.protocol,"//").concat(e)),new URL(t).hostname},Ci=function(e,t){return Ii(e)!==Ii(t)},Ei=function(e,t){return t&&("download"===t&&!e.downloadLinkEnabled||"exit"===t&&!e.externalLinkEnabled||"other"===t&&!e.internalLinkEnabled)},Si=function(e){var t=e.config,a=e.logger,n=e.getClickedElementProperties,r=e.clickActivityStorage,o=t.clickCollectionEnabled,i=t.clickCollection;return o?function(e){var o=e.event,s=e.clickedElement,c=n({clickActivityStorage:r,clickedElement:s,config:t,logger:a}),d=c.linkType;Ti()||(c.isValidLink()&&Ei(i,d)?a.info("Cancelling link click event due to clickCollection.".concat(d,"LinkEnabled = false.")):!c.isInternalLink()||!i.eventGroupingEnabled||t.onBeforeLinkClickSend&&!i.filterClickDetails||Ci(window.location.hostname,c.linkUrl)?c.isValidLink()?(o.mergeXdm(c.xdm),o.mergeData(c.data),r.save({pageName:c.pageName,pageIDType:c.pageIDType})):c.isValidActivityMapData()&&r.save(c.properties):r.save(c.properties))}:function(){}},Oi=function(e){return{eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:e.linkName,region:e.linkRegion,type:e.linkType,URL:e.linkUrl,linkClicks:{value:1}}}}},ki=function(e){return{__adobe:{analytics:{contextData:{a:{activitymap:{page:e.pageName,link:e.linkName,region:e.linkRegion,pageIDType:e.pageIDType}}}}}}},_i=function(e,t){var a=e.xdm,n=e.data,r=e.clickedElement;if(t.clickedElement=r,a&&a.web&&a.web.webInteraction){var o=a.web.webInteraction,i=o.name,s=o.region,c=o.type,d=o.URL;t.linkName=i,t.linkRegion=s,t.linkType=c,t.linkUrl=d}if(n&&n.__adobe&&n.__adobe.analytics){var l=n.__adobe.analytics.contextData;if(l&&l.a&&l.a.activitymap){var u=l.a.activitymap,p=u.page,g=u.link,f=u.region,m=u.pageIDType;t.pageName=p||t.pageName,t.linkName=g||t.linkName,t.linkRegion=f||t.linkRegion,void 0!==m&&(t.pageIDType=m)}}},ji=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.properties,a=e.logger,n=t||{};return{get pageName(){return n.pageName},set pageName(e){n.pageName=e},get linkName(){return n.linkName},set linkName(e){n.linkName=e},get linkRegion(){return n.linkRegion},set linkRegion(e){n.linkRegion=e},get linkType(){return n.linkType},set linkType(e){n.linkType=e},get linkUrl(){return n.linkUrl},set linkUrl(e){n.linkUrl=e},get pageIDType(){return n.pageIDType},set pageIDType(e){n.pageIDType=e},get clickedElement(){return n.clickedElement},set clickedElement(e){n.clickedElement=e},get properties(){return{pageName:n.pageName,linkName:n.linkName,linkRegion:n.linkRegion,linkType:n.linkType,linkUrl:n.linkUrl,pageIDType:n.pageIDType}},isValidLink:function(){return!!(n.linkUrl&&n.linkType&&n.linkName&&n.linkRegion)},isInternalLink:function(){return this.isValidLink()&&"other"===n.linkType},isValidActivityMapData:function(){return!!n.pageName&&!!n.linkName&&!!n.linkRegion&&void 0!==n.pageIDType},get xdm(){return n.filteredXdm?n.filteredXdm:Oi(this)},get data(){return n.filteredData?n.filteredData:ki(this)},applyPropertyFilter:function(e){e&&!1===e(n)&&(a&&a.info("Clicked element properties were rejected by filter function: ".concat(JSON.stringify(this.properties,null,2))),n={})},applyOptionsFilter:function(e){var t=this.options;if(t&&t.clickedElement&&(t.xdm||t.data)){if(e&&!1===e(t))return a&&a.info("Clicked element properties were rejected by filter function: ".concat(JSON.stringify(this.properties,null,2))),void(this.options=void 0);this.options=t,n.filteredXdm=t.xdm,n.filteredData=t.data}},get options(){var e={};if(this.isValidLink()&&(e.xdm=this.xdm),this.isValidActivityMapData()&&(e.data=this.data),this.clickedElement&&(e.clickedElement=this.clickedElement),e.xdm||e.data)return e},set options(e){n={},e&&_i(e,n)}}},xi=function(e){var t=e.clickActivityStorage;return function(e){if(!Ti()){var a=t.load(),n=ji({properties:a});if(n.isValidLink()||n.isValidActivityMapData()){if(n.isValidLink()){var r=n.xdm;delete r.eventType,e.mergeXdm(r)}n.isValidActivityMapData()&&e.mergeData(n.data),t.save({pageName:n.pageName,pageIDType:n.pageIDType})}}}},Ri=function(e){var t=e.window,a=e.getLinkName,n=e.getLinkRegion,r=e.getAbsoluteUrlFromAnchorElement,o=e.findClickableElement,i=e.determineLinkType;return function(e){var s=e.clickedElement,c=e.config,d=e.logger,l=e.clickActivityStorage,u=c.onBeforeLinkClickSend,p=c.clickCollection.filterClickDetails,g=ji({logger:d});if(s){var f=o(s);if(f){g.clickedElement=s,g.linkUrl=r(t,f),g.linkType=i(t,c,g.linkUrl,f),g.linkRegion=n(f),g.linkName=a(f),g.pageIDType=0,g.pageName=t.location.href;var m=l.load();m&&m.pageName&&(g.pageName=m.pageName,g.pageIDType=1),p?g.applyPropertyFilter(p):u&&g.applyOptionsFilter(u)}}return g}},Ai="clickData",Ni=function(e){var t=e.storage;return{save:function(e){var a=JSON.stringify(e);t.setItem(Ai,a)},load:function(){var e=null,a=t.getItem(Ai);return a&&(e=JSON.parse(a)),e},remove:function(){t.removeItem(Ai)}}},Mi=function(e){var t=e.clickActivityStorage;return function(e){t.save({pageName:e.getContent().xdm.web.webPageDetails.name,pageIDType:1})}},Vi=function(e){return e&&e.replace(/\s+/g," ").trim()},Ui=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,qi=function(e){return!(e&&e.nodeName&&e.nodeName.match(Ui))},Fi=function(e){var t=[],a=!1;return qi(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((function(e){var n=Fi(e);t=t.concat(n.supportedNodes),a=a||n.includesUnsupportedNodes}))):a=!0,{supportedNodes:t,includesUnsupportedNodes:a}},Bi=function(e,t,a){var n;return a&&a!==e.nodeName.toUpperCase()||(n=e.getAttribute(t)),n},zi=function(e){var t={texts:[]};return e.supportedNodes.forEach((function(e){e.getAttribute&&(t.alt||(t.alt=Vi(e.getAttribute("alt"))),t.title||(t.title=Vi(e.getAttribute("title"))),
t.inputValue||(t.inputValue=Vi(Bi(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=Vi(Bi(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t},Gi=/^(HEADER|MAIN|FOOTER|NAV)$/i,Hi=function(e){var t;return"region"===e.role&&la(e["aria-label"])&&(t=e["aria-label"]),t},Ji=function(e){var t;return e&&e.nodeName&&e.nodeName.match(Gi)&&(t=e.nodeName),t},Wi=function(e){return!!e&&/^[a-z0-9]+:\/\//i.test(e)},Ki=function(e){return!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0))},Qi=function(e){return!!e&&!!e.onclick},$i=function(e){if("INPUT"===e.tagName){var t=e.getAttribute("type");if("submit"===t)return!0;if("image"===t&&e.src)return!0}return!1},Xi=function(e){return"BUTTON"===e.tagName&&"submit"===e.type},Yi=function(e){var t=e.indexOf("?"),a=e.indexOf("#");return t>=0&&(t<a||a<0)?e.substring(0,t):a>=0?e.substring(0,a):e},Zi=function(e,t,a){var n=!1;if(t)if(a&&a.download)n=!0;else if(e){var r=new RegExp(e),o=Yi(t).toLowerCase();n=r.test(o)}return n},es=function(e,t){var a=!1;if(t&&e.location.hostname){var n=e.location.hostname.toLowerCase();a=Yi(t).toLowerCase().indexOf(n)<0}return a},ts=function(e){var t=e.getContent();return void 0!==t.xdm&&void 0!==t.xdm.web&&void 0!==t.xdm.web.webPageDetails&&void 0!==t.xdm.web.webPageDetails.name},as=function(){var e={};return{getItem:function(t){return e[t]},setItem:function(t,a){e[t]=a},removeItem:function(t){delete e[t]}}},ns=Ri({window:window,getLinkName:function(e){var t=Vi(e.innerText||e.textContent),a=Fi(e);if(!t||a.includesUnsupportedNodes){var n=zi(a);(t=Vi(n.texts.join("")))||(t=n.alt||n.title||n.inputValue||n.imgSrc)}return t||""},getLinkRegion:function(e){for(var t,a=e.parentNode;a;){if(t=Vi(a.id||Hi(a)||Ji(a)))return t;a=a.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:function(e,t){var a=e.location,n=t.href||"";"string"!=typeof n&&(n="");var r=t.protocol,o=t.host;if(n&&!Wi(n)){r||(r=a.protocol?a.protocol:""),r=r?"".concat(r,"//"):"",o||(o=a.host?a.host:"");var i="";if("/"!==n.substring(0,1)){var s=a.pathname.lastIndexOf("/");s=s<0?0:s,i=a.pathname.substring(0,s)}n="".concat(r).concat(o).concat(i,"/").concat(n)}return n},findClickableElement:function(e){for(var t=e;t;){if(Ki(t)||Qi(t)||$i(t)||Xi(t))return t;t=t.parentNode}return null},determineLinkType:function(e,t,a,n){var r="other";return la(a)&&(Zi(t.downloadLinkQualifier,a,n)?r="download":es(e,a)&&(r="exit")),r}}),rs=function(e){if(!ii){var t=na(window)(e.orgId||""),a=as(),n=e.clickCollection.sessionStorageEnabled?t.session:a;ii=Ni({storage:n})}},os=function(e){var t=e.config,a=e.eventManager,n=e.handleError,r=e.logger,o=t.clickCollection;ii||rs(t);var i=Si({config:t,logger:r,clickActivityStorage:ii,getClickedElementProperties:ns}),s=xi({clickActivityStorage:ii}),c=Mi({clickActivityStorage:ii});return{lifecycle:{onComponentsRegistered:function(e){var t=e.lifecycle;wi({eventManager:a,lifecycle:t,handleError:n})},onClick:function(e){var t=e.event,a=e.clickedElement;i({event:t,clickedElement:a})},onBeforeEvent:function(e){var t=e.event;ts(t)&&(o.eventGroupingEnabled&&s(t),c(t,r,ii))}}}};os.namespace="ActivityCollector",os.configValidators=Pi,os.buildOnInstanceConfiguredExtraParams=function(e){var t=e.config,a=e.logger;return ii||rs(t),{getLinkDetails:function(e){return ns({clickActivityStorage:ii,clickedElement:e,config:t,logger:a}).properties}}};var is=function(e){return"URL destination ".concat("succeeded",": ",e.spec.url)},ss=function(e){var t=e.fireReferrerHideableImage,a=e.logger,n=e.cookieJar,r=e.isPageSsl?{sameSite:"none",secure:!0}:{},o=function(e){e.filter((function(e){return"cookie"===e.type})).forEach((function(e){var t=e.spec,a=t.name,o=t.value,i=t.domain,s=t.ttlDays;n.set(a,o||"",u({domain:i||"",expires:s||10},r))}))},i=function(e){var n=e.filter((function(e){return"url"===e.type}));return Promise.all(n.map((function(e){return t(e.spec).then((function(){a.info(is(e))})).catch((function(){}))}))).then(ua)};return function(e){return o(e),i(e)}},cs=function(e){var t=e.processDestinations,a=function(e){var a=e.response.getPayloadsByType("activation:push");return t(a)},n=function(e){return{destinations:e.response.getPayloadsByType("activation:pull")}};return function(e){var t=e.response;return a({response:t}).then((function(){return n({response:t})}))}},ds=function(e){var t=e.logger,a=e.fireReferrerHideableImage,n=ke.withConverter({write:function(e){return encodeURIComponent(e)}}),r=Ae({logger:t,cookieJar:n}),o=ss({fireReferrerHideableImage:a,logger:t,cookieJar:r,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:cs({processDestinations:o})},commands:{}}};ds.namespace="Audiences";var ls=function(e){return function(t){var a={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};je(t,{web:a})}},us=function(e){var t=e.screen.orientation;if(null==t||null==t.type)return null;var a=t.type.split("-");return 0===a.length||"portrait"!==a[0]&&"landscape"!==a[0]?null:a[0]},ps=function(e){if(Ze(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null},gs=function(e){return function(t){var a=e.screen,n=a.width,r=a.height,o={},i=wa(r);i>=0&&(o.screenHeight=i);var s=wa(n);s>=0&&(o.screenWidth=s);var c=us(e)||ps(e);c&&(o.screenOrientation=c),Object.keys(o).length>0&&je(t,{device:o})}},fs=function(e){return function(t){var a=e.document.documentElement,n=void 0===a?{}:a,r=n.clientWidth,o=n.clientHeight,i={type:"browser"},s=wa(r);s>=0&&(i.browserDetails={viewportWidth:s});var c=wa(o);c>=0&&(i.browserDetails=i.browserDetails||{},i.browserDetails.viewportHeight=c),je(t,{environment:i})}},ms=function(e){return function(t){var a=e(),n={},r=wa(a.getTimezoneOffset());void 0!==r&&(n.localTimezoneOffset=r),(void 0===r||Math.abs(r)<6e3)&&(n.localTime=Pa(a)),je(t,{placeContext:n})}},ys=function(e){return function(t){var a=e().toISOString();je(t,{timestamp:a})}},vs="https://ns.adobe.com/experience/alloy",hs=function(e){var t={name:vs,version:ni,environment:"browser"};je(e,{implementationDetails:t})},bs=function(e,t,a,n){var r=e.context.flatMap((function(e,n){return a[e]?[a[e]]:(t.warn("Invalid context[".concat(n,"]: '").concat(e,"' is not available.")),[])})).concat(n);return{namespace:"Context",lifecycle:{onBeforeEvent:function(e){var a=e.event,n={};return Promise.all(r.map((function(e){return Promise.resolve(e(n,t))}))).then((function(){return a.mergeXdm(n)}))}}}},ws=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]],Ls=function(e){return void 0!==e.userAgentData},Ps=function(e){return Ls(e)?function(t,a){try{return e.userAgentData.getHighEntropyValues(ws.map((function(e){return e[0]}))).then((function(e){var a={};ws.forEach((function(t){var n=i(t,2),r=n[0],o=n[1];Object.prototype.hasOwnProperty.call(e,r)&&L(e[r])===o&&(a[r]=e[r])})),je(t,{environment:{browserDetails:{userAgentClientHints:a}}})}))}catch(e){return a.warn("Unable to collect user-agent client hints. ".concat(e.message)),ua}}:ua},Ds=ls(window),Ts=gs(window),Is=fs(window),Cs=ms((function(){return new Date})),Es=ys((function(){return new Date})),Ss={web:Ds,device:Ts,environment:Is,placeContext:Cs},Os={highEntropyUserAgentHints:Ps(navigator)},ks=u(u({},Ss),Os),_s=[Es,hs],js=function(e){var t=e.config,a=e.logger;return bs(t,a,ks,_s)};js.namespace="Context",js.configValidators=Vn({context:jn(Un()).default(Object.keys(Ss))});var xs="personalization:decisions",Rs=function(e){return null!==e&&"object"===L(e)&&Object.getPrototypeOf(e)===Object.prototype},As=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.keys(e).forEach((function(n){Rs(e[n])||Array.isArray(e[n])?As(e[n],t,[].concat(m(a),[n])):t[[].concat(m(a),[n]).join(".")]=e[n]})),t},Ns=function(e){return Rs(e)?As(e):e},Ms=function(e){var t=e.renderDecisions,a=e.decisionProvider,n=e.applyResponse,r=e.event,o=e.personalization,i=e.decisionContext,s=u(u({},Ns(r.getContent())),i);return function(e){var i=e.response;if(a.addPayloads(i.getPayloadsByType(xs)),!r.hasQuery())return{propositions:[]};var c=a.evaluate(s);return n({renderDecisions:t,propositions:c,event:r,personalization:o})}},Vs={MATCHER:"matcher",GROUP:"group",HISTORICAL:"historical"},Us={EQUALS:"eq",NOT_EQUALS:"ne",EXISTS:"ex",NOT_EXISTS:"nx",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"le",CONTAINS:"co",NOT_CONTAINS:"nc",STARTS_WITH:"sw",ENDS_WITH:"ew"},qs={AND:"and",OR:"or"},Fs={ANY:"any",ORDERED:"ordered"},Bs=(p(p(p(p(p(p(p(p(p(p(ge={},Us.EQUALS,k()),Us.NOT_EQUALS,_()),Us.EXISTS,j()),Us.NOT_EXISTS,x()),Us.GREATER_THAN,A()),Us.GREATER_THAN_OR_EQUAL_TO,N()),Us.LESS_THAN,M()),Us.LESS_THAN_OR_EQUAL_TO,V()),Us.CONTAINS,U()),Us.NOT_CONTAINS,q()),p(p(ge,Us.STARTS_WITH,F()),Us.ENDS_WITH,B())),zs=["iam.eventType","eventType","type"],Gs=["iam.id","id"],Hs="https://ns.adobe.com/personalization/default-content-item",Js="https://ns.adobe.com/personalization/dom-action",Ws="https://ns.adobe.com/personalization/html-content-item",Ks="https://ns.adobe.com/personalization/json-content-item",Qs="https://ns.adobe.com/personalization/ruleset-item",$s="https://ns.adobe.com/personalization/redirect-item",Xs="https://ns.adobe.com/personalization/message/in-app",Ys="https://ns.adobe.com/personalization/message/content-card",Zs="decisioning.propositionDisplay",ec="decisioning.propositionInteract",tc="decisioning.propositionTrigger",ac="decisioning.propositionDismiss",nc="decisioning.propositionSuppressDisplay",rc=1,oc=function(e,t){return function(a){var n=e.getItem(t);if(!n)return a;try{return JSON.parse(n)}catch(e){return a}}},ic=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(n){e.setItem(t,JSON.stringify(a(n)))}},sc=function(e){var t=new Date;return t.setDate(t.getDate()-e),t},cc=function(e){var t=e.scopeDetails,a=(void 0===t?{}:t).activity;return(void 0===a?{}:a).id},dc=function(){var e={};return{getItem:function(t){return t in e?e[t]:null},setItem:function(t,a){e[t]=a}}},lc=function(e){e.clear()},uc=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})._experience;return!(!e||"object"!==L(e))},pc=function(e){var t=e.scopeDetails;return(void 0===t?{}:t).decisionProvider},gc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return Array.isArray(e)?(e.forEach((function(e){Array.isArray(e)?t.push.apply(t,m(gc(e))):t.push(e)})),t):e},fc="text/html",mc="application/json",yc=function(e,t,a){return{schema:a.schema,data:a.data,id:a.id||e}},vc="schema",hc=p(p({},"cjmiam",(function(e,t,a){var n=a.html,r=a.mobileParameters;return{schema:Xs,data:{mobileParameters:r,webParameters:{},content:n,contentType:fc},id:e}})),vc,yc),bc=function(){return function(e){var t=e.id,a=e.type,n=e.detail;return"function"==typeof hc[a]?hc[a](t,a,n):n}},wc=function(e){var t=e.schema,a=e.data;if(t===Qs)return!0;if(t!==Ks)return!1;try{var n="string"==typeof a.content?JSON.parse(a.content):a.content;return n&&Object.prototype.hasOwnProperty.call(n,"version")&&Object.prototype.hasOwnProperty.call(n,"rules")}catch(e){return!1}},Lc=function(e,t,a){var n,r=bc(),o=cc(e),i=[],s=function(e){var t=e.data,a=void 0===t?{}:t,n=e.schema===Qs?a:a.content;n&&i.push(pe("string"==typeof n?JSON.parse(n):n))},c=function(n){var s=t.getEvent(Zs,o),c=s?s.firstTimestamp:void 0,d=gc(i.map((function(e){return e.execute(n)}))).map(r).map((function(e){var t=(a.recordQualified(o)||{}).firstTimestamp;return u(u({},e),{},{data:u(u({},e.data),{},{qualifiedDate:t,displayedDate:c})})}));return u(u({},e),{},{items:d})};return Array.isArray(e.items)&&e.items.filter(wc).forEach(s),{rank:(null==e||null===(n=e.scopeDetails)||void 0===n?void 0:n.rank)||1/0,evaluate:c,isEvaluable:i.length>0}},Pc={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss",SUPPRESS:"suppressDisplay"},Dc=p(p(p(p(p({},Zs,Pc.DISPLAY),ec,Pc.INTERACT),tc,Pc.TRIGGER),ac,Pc.DISMISS),nc,Pc.SUPPRESS),Tc=p(p(p(p(p({},Pc.DISPLAY,Zs),Pc.INTERACT,ec),Pc.TRIGGER,tc),Pc.DISMISS,ac),Pc.SUPPRESS,nc),Ic=function(e){return Dc[e]},Cc=function(e){return Tc[e]},Ec=function(e){var t=e.eventRegistry;return{recordQualified:function(e){if(e)return t.addEvent({},Pc.TRIGGER,e)}}},Sc=function(e){var t=e.eventRegistry,a={},n=Ec({eventRegistry:t}),r=function(e){var r=cc(e);if(r){var o=Lc(e,t,n);o.isEvaluable&&(a[r]=o)}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(a).sort((function(e,t){return e.rank-t.rank})).map((function(t){return t.evaluate(e)})).filter((function(e){return e.items.length>0}))};return{addPayload:r,addPayloads:function(e){e.forEach(r)},evaluate:o}},Oc=function(e){return function(t){var a=t.renderDecisions,n=void 0!==a&&a,r=t.propositions,o=void 0===r?[]:r,i=t.event,s=t.personalization;return e&&e.onDecision({renderDecisions:n,propositions:o,event:i,personalization:s}),{propositions:o}}},kc="AJO",_c="TGT",jc="events",xc=1e3,Rc=30,Ac=function(e){return"iam.".concat(e)},Nc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rc;return function(a){var n={};return Object.keys(a).forEach((function(r){n[r]={},Object.values(a[r]).filter((function(e){return new Date(e.firstTimestamp)>=sc(t)})).sort((function(e,t){return e.firstTimestamp-t.firstTimestamp})).slice(-1*e).forEach((function(e){n[r][e.event[Ac("id")]]=e}))})),n}},Mc=function(e){var t,a,n,r=e.storage,o=r,i=function(e){t=oc(o=e,jc),a=ic(o,jc,Nc(xc,Rc)),n=t({})};i(r);var s=function(e,t,r,o){if(t&&r){n[t]||(n[t]={});var i=n[t][r],s=i?i.count:0,c=(new Date).getTime(),d=i?i.firstTimestamp||i.timestamp:c;return n[t][r]={event:u(u({},e),{},p(p(p({},Ac("id"),r),Ac("eventType"),t),Ac("action"),o)),firstTimestamp:d,timestamp:c,count:s+1},a(n),n[t][r]}};return{addExperienceEdgeEvent:function(e){var t=e.getContent().xdm,a=void 0===t?{}:t,n=a._experience;if(uc(a)){var r=n.decisioning,o=void 0===r?{}:r,i=o.propositionEventType,c=void 0===i?{}:i,d=o.propositionAction,l=void 0===d?{}:d,u=o.propositions,p=void 0===u?[]:u,g=Object.keys(c);if(0!==g.length){var f=function(e){return c[e]===rc},m=l.id;g.filter(f).forEach((function(e){p.forEach((function(t){pc(t)===kc&&s({},e,cc(t),m)}))}))}}},addEvent:s,getEvent:function(e,t){if(n[e])return n[e][t]},toJSON:function(){return n},setStorage:i}},Vc=function(e){var t=e.eventRegistry,a=e.window,n=e.getBrowser,r=(new Date).getTime(),o=function(){return u({title:a.title,url:a.url},fa(a.url))},i=function(){return u({url:a.referrer},fa(a.referrer))},s=function(){var e=new Date,t=e.getTime();return{pageLoadTimestamp:r,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-r,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},c=function(){return{height:a.height,width:a.width,scrollY:a.scrollY,scrollX:a.scrollX}},d={browser:{name:n()},page:o(),referringPage:i()},l=function(){return u(u(u({},d),s()),{},{window:c(),"~sdkver":ni})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=u(u({},l()),e);return u(u({},Ns(a)),{},{events:t.toJSON()})};return{getContext:p}},Uc=function(){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return t},qc=function(){return!0},Fc=function(){var e=Uc,t=qc,a=0,n={},r=function(e){return function(){delete n[e]}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"function"!=typeof e?function(){}:(n[a+=1]={callback:e,params:t},{id:a,unsubscribe:r(a)})},i=function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];Object.values(n).forEach((function(a){var n=a.callback,o=a.params,i=e.apply(void 0,[o].concat(r));t.apply(void 0,[o].concat(m(i)))&&n.apply(void 0,m(i))}))},s=function(a){if(a&&n[a]){for(var r=n[a],o=r.callback,i=r.params,s=arguments.length,c=new Array(s>1?s-1:0),d=1;d<s;d++)c[d-1]=arguments[d];var l=e.apply(void 0,[i].concat(c));t.apply(void 0,[i].concat(m(l)))&&o.apply(void 0,m(l))}};return{add:o,emit:i,emitOne:s,hasSubscriptions:function(){return Object.keys(n).length>0},setEmissionPreprocessor:function(t){"function"==typeof t&&(e=t)},setEmissionCondition:function(e){"function"==typeof e&&(t=e)}}},Bc=function(e){var t=e.options;return Vn({surfaces:jn(Un()).uniqueItems(),schemas:jn(Un()).uniqueItems(),callback:Rn().required()}).noUnknownFields()(t)},zc=function(e){return{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails}},Gc=function(e){var t=e.collect,a=function(){},n=new Set,r=function(e){return[Pc.INTERACT,Pc.DISMISS].includes(e)},o=function(e,t,a){var o=[e,t].join("-"),i=!a.has(o)&&(r(e)||!n.has(o));return a.add(o),n.add(o),i},i=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(a instanceof Array))return Promise.resolve();if(!Object.values(Pc).includes(e))return Promise.resolve();var n=[],r=new Set;return a.forEach((function(t){var a=zc(t);o(e,a.id,r)&&n.push(a)})),n.length>0?t({decisionsMeta:n,eventType:Cc(e),documentMayUnload:!0}):Promise.resolve()},s=Fc(),c=function(e,t){var a=e.surfacesFilter,n=e.schemasFilter;return[{propositions:t.filter((function(e){return!a||a.includes(e.scope)})).map((function(e){var t=e.items,a=void 0===t?[]:t;return u(u({},e),{},{items:a.filter((function(e){return!n||n.includes(e.schema)}))})})).filter((function(e){return e.items.length>0}))},i]};s.setEmissionPreprocessor(c);var d=function(e){var t=e.surfaces,n=e.schemas,r=e.callback,o=s.add(r,{surfacesFilter:t instanceof Array?t:void 0,schemasFilter:n instanceof Array?n:void 0}),i=o.id,c=o.unsubscribe;return a(i),Promise.resolve({unsubscribe:c})};return{refresh:function(e){(a=function(t){t?s.emitOne(t,e):s.emit(e)})()},command:{optionsValidator:function(e){return Bc({options:e})},run:d}}},Hc={TYPE:"~type",SOURCE:"~source"},Jc={LIFECYCLE:"com.adobe.eventType.lifecycle",TRACK:"com.adobe.eventType.generic.track",EDGE:"com.adobe.eventType.edge",RULES_ENGINE:"com.adobe.eventType.rulesEngine"},Wc={LAUNCH:"com.adobe.eventSource.applicationLaunch",REQUEST:"com.adobe.eventSource.requestContent"},Kc=function(e){var t=e.options;return Vn({renderDecisions:xn(),personalization:Vn({decisionContext:Vn({})})}).noUnknownFields()(t)},Qc=function(e){var t=e.contextProvider,a=e.decisionProvider;return{optionsValidator:function(e){return Kc({options:e})},run:function(e){var n=e.renderDecisions,r=e.decisionContext;return(0,e.applyResponse)({renderDecisions:n,propositions:a.evaluate(t.getContext(r))})}}},$c=function(e){var t=e.eventManager,a=e.mergeDecisionsMeta;return function(e){var n=e.decisionsMeta,r=void 0===n?[]:n,o=e.propositionAction,i=e.documentMayUnload,s=void 0!==i&&i,c=e.eventType,d=void 0===c?Zs:c,l=e.propositionEventTypes,u=void 0===l?[Ic(d)]:l,p=e.viewName,g=t.createEvent(),f={eventType:d};return p&&(f.web={webPageDetails:{viewName:p}}),et(r)&&a(g,r,u,o),g.mergeXdm(f),s&&g.documentMayUnload(),t.sendEvent(g)}},Xc=function(e,t,a,n){if(0!==t.length){var r={};a.forEach((function(e){r[e]=rc}));var o={_experience:{decisioning:{propositions:t,propositionEventType:r}}};n&&(o._experience.decisioning.propositionAction=n),e.mergeXdm(o)}},Yc=function(e,t){e.mergeQuery({personalization:u({},t)})},Zc=function(e){var t=e.config,a=e.eventManager,n=e.createNamespacedStorage,r=e.consent,o=e.getBrowser,i=t.orgId,s=t.personalizationStorageEnabled,c=$c({eventManager:a,mergeDecisionsMeta:Xc}),d=n("".concat(Mt(i),".decisioning."));s||lc(d.persistent);var l,g=Mc({storage:dc()}),f=Sc({eventRegistry:g}),m=Vc({eventRegistry:g,window:window,getBrowser:o}),y=Qc({contextProvider:m,decisionProvider:f}),v=Gc({collect:c});return{lifecycle:{onDecision:function(e){var t=e.propositions;v.refresh(t)},onComponentsRegistered:function(e){l=Oc(e.lifecycle),s&&r.awaitConsent().then((function(){g.setStorage(d.persistent)})).catch((function(){d&&lc(d.persistent)}))},onBeforeEvent:function(e){var t=e.event,a=e.renderDecisions,n=e.personalization,r=void 0===n?{}:n,o=e.onResponse,i=void 0===o?ua:o,s=r.decisionContext,c=void 0===s?{}:s;i(Ms({renderDecisions:a,decisionProvider:f,applyResponse:l,event:t,personalization:r,decisionContext:m.getContext(u(p(p({},Hc.TYPE,Jc.EDGE),Hc.SOURCE,Wc.REQUEST),c))}))},onBeforeRequest:function(e){var t=e.request.getPayload().toJSON().events,a=void 0===t?[]:t;0!==a.length&&a.forEach((function(e){return g.addExperienceEdgeEvent(e)}))}},commands:{evaluateRulesets:{run:function(e){var t=e.renderDecisions,a=e.personalization,n=(void 0===a?{}:a).decisionContext,r=void 0===n?{}:n;return y.run({renderDecisions:t,decisionContext:u(p(p({},Hc.TYPE,Jc.RULES_ENGINE),Hc.SOURCE,Wc.REQUEST),r),applyResponse:l})},optionsValidator:y.optionsValidator},subscribeRulesetItems:v.command}}};Zc.namespace="RulesEngine",Zc.configValidators=Vn({personalizationStorageEnabled:xn().default(!1)});var ed=t.createEventMergeId=function(){return{eventMergeId:S()}},td=function(e){return{commands:{createEventMergeId:{run:e.createEventMergeId}}}},ad=function(){return td({createEventMergeId:ed})};ad.namespace="EventMerge";var nd={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},rd=function(e){var t=e.mediaRequestPayload,a=e.action;return Mr({payload:t,edgeSubPath:"/va",getAction:function(){return a},getUseSendBeacon:function(){return!1}})},od=function(e){var t=e.config,a=e.eventManager,n=e.consent,r=e.sendEdgeNetworkRequest,o=e.setTimestamp;return{createMediaEvent:function(e){var n=e.options,r=a.createEvent(),i=n.xdm;if(o(i),r.setUserXdm(i),i.eventType===nd.AD_START){var s=n.xdm.mediaCollection.advertisingDetails;r.mergeXdm({mediaCollection:{advertisingDetails:{playerName:s.playerName||t.streamingMedia.playerName}}})}return r},createMediaSession:function(e){var n=t.streamingMedia,r=n.playerName,o=n.channel,i=n.appVersion,s=a.createEvent(),c=e.xdm.mediaCollection.sessionDetails;return s.setUserXdm(e.xdm),s.mergeXdm({eventType:nd.SESSION_START,mediaCollection:{sessionDetails:{playerName:c.playerName||r,channel:c.channel||o,appVersion:c.appVersion||i}}}),s},augmentMediaEvent:function(e){var t=e.event,a=e.playerId,n=e.getPlayerDetails,r=e.sessionID;if(!a||!n)return t;var o=n({playerId:a}),i=o.playhead,s=o.qoeDataDetails;return t.mergeXdm({mediaCollection:{playhead:wa(i),qoeDataDetails:s,sessionID:r}}),t},trackMediaSession:function(e){var t=e.event,n={mediaOptions:e.mediaOptions,edgeConfigOverrides:e.edgeConfigOverrides};return a.sendEvent(t,n)},trackMediaEvent:function(e){var t=e.event,a=e.action,o=Fr(),i=rd({mediaRequestPayload:o,action:a});return o.addEvent(t),t.finalize(),n.awaitConsent().then((function(){return r({request:i}).then((function(){return{}}))}))}}},id={MAIN:"main",AD:"ad",COMPLETED:"completed"},sd=function(){var e;return{getSession:function(t){return e[t]||{}},storeSession:function(t){var a=t.playerId,n=t.sessionDetails;void 0===e&&(e={}),e[a]=n},stopPing:function(t){var a=t.playerId,n=e[a];n&&(clearTimeout(n.pingId),n.pingId=null,n.playbackState=id.COMPLETED)},savePing:function(t){var a=t.playerId,n=t.pingId,r=t.playbackState;e[a]&&(e[a].pingId&&clearTimeout(e[a].pingId),e[a].pingId=n,e[a].playbackState=r)}}},cd=function(e,t){return e===nd.AD_START||e===nd.Ad_BREAK_START||e===nd.AD_SKIP||e===nd.AD_COMPLETE?"ad":e===nd.AD_BREAK_COMPLETE||e===nd.CHAPTER_COMPLETE||e===nd.CHAPTER_START||e===nd.CHAPTER_SKIP||e===nd.SESSION_START?"main":e===nd.SESSION_END||e===nd.SESSION_COMPLETE?"completed":t},dd=function(e){var t=e.mediaEventManager,a=e.mediaSessionCacheManager,n=e.config,r=function(e){var o=t.createMediaEvent({options:e}),i=e.playerId,s=e.xdm.eventType,c=s.split(".")[1],d=a.getSession(i),l=d.getPlayerDetails,u=d.sessionPromise,p=d.playbackState;return u.then((function(e){return e.sessionId?(t.augmentMediaEvent({event:o,eventType:s,playerId:i,getPlayerDetails:l,sessionID:e.sessionId}),t.trackMediaEvent({event:o,action:c}).then((function(){if(i)if(s===nd.SESSION_COMPLETE||s===nd.SESSION_END)a.stopPing({playerId:i});else{var e=cd(s,p);if("completed"===e)return;var t="ad"===e?n.streamingMedia.adPingInterval:n.streamingMedia.mainPingInterval,o=setTimeout((function(){var e={playerId:i,xdm:{eventType:nd.PING}};r(e)}),1e3*t);a.savePing({playerId:i,pingId:o,playbackState:e})}}))):Promise.reject(new Error("Failed to trigger media event: ".concat(s,". Session ID is not available for playerId: ").concat(i,".")))}))};return function(e){return r(e)}},ld=function(e){var t=e.config,a=e.mediaEventManager,n=e.mediaSessionCacheManager,r=e.legacy,o=void 0!==r&&r;return function(e){if(!t.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));var r=e.playerId,i=e.getPlayerDetails,s=e.edgeConfigOverrides,c=a.createMediaSession(e);a.augmentMediaEvent({event:c,playerId:r,getPlayerDetails:i});var d=a.trackMediaSession({event:c,mediaOptions:{playerId:r,getPlayerDetails:i,legacy:o},edgeConfigOverrides:s});return n.storeSession({playerId:r,sessionDetails:{sessionPromise:d,getPlayerDetails:i,playbackState:id.MAIN}}),d}},ud=function(e){return!da(e)||!e.trim()},pd=function(e){var t=e.mediaSessionCacheManager,a=e.config,n=e.trackMediaEvent;return function(e){var r=e.response,o=e.playerId,i=e.getPlayerDetails,s=r.getPayloadsByType("media-analytics:new-session");if(et(s)){var c=s[0].sessionId;if(ud(c))return{};if(!o||!i)return{sessionId:c};var d=setTimeout((function(){n({playerId:o,xdm:{eventType:nd.PING}})}),1e3*a.streamingMedia.mainPingInterval);return t.savePing({playerId:o,pingId:d,playbackState:id.MAIN}),{sessionId:c}}return{}}},gd={Video:"video",Audio:"audio"},fd={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},md={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},yd={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},vd={SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pauseStart",Error:"error",StateUpdate:"statesUpdate"},hd={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},bd={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},wd={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},Ld={Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"},Pd=function(e){var t=e.trackMediaEvent,a=e.trackMediaSession,n=e.mediaResponseHandler,r=e.logger,o=e.createMediaHelper,i=e.createGetInstance,s=e.config;return{lifecycle:{onBeforeEvent:function(e){var t=e.mediaOptions,a=e.onResponse,r=void 0===a?ua:a;if(t){var o=t.legacy,i=t.playerId,s=t.getPlayerDetails;o&&r((function(e){var t=e.response;return n({playerId:i,getPlayerDetails:s,response:t})}))}}},commands:{getMediaAnalyticsTracker:{run:function(){if(!s.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));r.info("Streaming media is configured in legacy mode.");var e=o({logger:r});return Promise.resolve(u({getInstance:function(){return i({logger:r,trackMediaEvent:t,trackMediaSession:a,uuid:S})},Event:yd,MediaType:gd,PlayerState:md,StreamType:fd,MediaObjectKey:hd,VideoMetadataKeys:bd,AudioMetadataKeys:wd,AdMetadataKeys:Ld},e))}}}}},Dd=function(e){var t=e.logger,a=function(e,a,n){var r={friendlyName:e,offset:a,index:n},o=Vn({friendlyName:Un().nonEmpty(),offset:Nn(),index:Nn()});try{var i=o(r);return{advertisingPodDetails:{friendlyName:i.friendlyName,offset:i.offset,index:i.index}}}catch(e){return t.warn("An error occurred while creating the Ad Break Object.",e),{}}},n=function(e,a,n,r){var o={friendlyName:e,name:a,podPosition:n,length:r},i=Vn({friendlyName:Un().nonEmpty(),name:Un().nonEmpty(),podPosition:Nn(),length:Nn()});try{var s=i(o);return{advertisingDetails:{friendlyName:s.friendlyName,name:s.name,podPosition:s.podPosition,length:s.length}}}catch(e){return t.warn("An error occurred while creating the Advertising Object.",e),{}}},r=function(e,a,n,r){var o={friendlyName:e,offset:a,length:n,index:r},i=Vn({friendlyName:Un().nonEmpty(),offset:Nn(),length:Nn(),index:Nn()});try{var s=i(o);return{chapterDetails:{friendlyName:s.friendlyName,offset:s.offset,index:s.index,length:s.length}}}catch(e){return t.warn("An error occurred while creating the Chapter Object.",e),{}}},o=function(e){var a=/^[a-zA-Z0-9_]{1,64}$/,n=Un().matches(a,"This is not a valid state name.");try{return{name:n(e)}}catch(e){return t.warn("An error occurred while creating the State Object.",e),{}}},i=function(e,a,n,r){var o={bitrate:e,droppedFrames:a,fps:n,startupTime:r},i=Vn({bitrate:Nn(),droppedFrames:Nn(),fps:Nn(),startupTime:Nn()});try{var s=i(o);return{bitrate:s.bitrate,droppedFrames:s.droppedFrames,framesPerSecond:s.fps,timeToStart:s.startupTime}}catch(e){return t.warn("An error occurred while creating the QOE Object.",e),{}}};return{createMediaObject:function(e,a,n,r,o){var i={friendlyName:e,name:a,length:n,streamType:o,contentType:r},s=Vn({friendlyName:Un().nonEmpty(),name:Un().nonEmpty(),length:Nn().required(),streamType:Un().nonEmpty(),contentType:Un().nonEmpty()});try{var c=s(i);return{sessionDetails:{name:c.name,friendlyName:c.friendlyName,length:c.length,streamType:c.streamType,contentType:c.contentType}}}catch(e){return t.warn("An error occurred while creating the Media Object.",e),{}}},createAdBreakObject:a,createAdObject:n,createChapterObject:r,createStateObject:o,createQoEObject:i}},Td={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},Id={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"},Cd=function(e){var t=e.logger,a=e.trackMediaSession,n=e.trackMediaEvent,r=e.uuid,o=null,i=function(){o={qoe:null,lastPlayhead:0,playerId:r()}},s=function(e){var t=e.eventType;return t===yd.BufferComplete||t===yd.SeekComplete?vd.Play:t===yd.StateStart||t===yd.StateEnd?vd.StateUpdate:t===yd.SeekStart?vd.Pause:t},c=function(e){var t=e.eventType,a=e.mediaDetails,n=void 0===a?{}:a,r=e.contextData,o=void 0===r?[]:r,i=s({eventType:t});if(t===yd.StateStart)return{eventType:"media.".concat(i),mediaCollection:{statesStart:[n]}};if(t===yd.StateEnd)return{eventType:"media.".concat(i),mediaCollection:{statesEnd:[n]}};var c={eventType:"media.".concat(i),mediaCollection:u({},n)},d=[];return Object.keys(o).forEach((function(e){
Td[e]?c.mediaCollection.sessionDetails[Td[e]]=o[e]:Id[e]?c.mediaCollection.advertisingDetails[Id[e]]=o[e]:d.push({name:e,value:o[e]})})),et(d)&&(c.mediaCollection.customMetadata=d),c};return{trackSessionStart:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ce(e)||kt(e))return t.warn("Invalid media object"),{};null===o&&(t.warn("The Media Session was completed. Restarting a new session."),i());var r=c({eventType:vd.SessionStart,mediaDetails:e,contextData:n});return a({playerId:o.playerId,getPlayerDetails:function(){return{playhead:o.lastPlayhead,qoeDataDetails:o.qoe}},xdm:r})},trackPlay:function(){if(null===o)return t.warn("The Media Session was completed."),{};var e=c({eventType:vd.Play});return n({playerId:o.playerId,xdm:e})},trackPause:function(){if(null===o)return t.warn("The Media Session was completed."),{};var e=c({eventType:vd.Pause});return n({playerId:o.playerId,xdm:e})},trackSessionEnd:function(){if(null===o)return t.warn("The Media Session was completed."),{};var e=c({eventType:vd.SessionEnd});return n({playerId:o.playerId,xdm:e})},trackComplete:function(){if(null===o)return t.warn("The Media Session was completed."),{};var e=c({eventType:vd.SessionComplete});return n({playerId:o.playerId,xdm:e})},trackError:function(e){if(t.warn("trackError(".concat(e,")")),null===o)return t.warn("The Media Session was completed."),{};var a={name:e,source:"player"},r=c({eventType:vd.Error,mediaDetails:{errorDetails:a}});return n({playerId:o.playerId,xdm:r})},trackEvent:function(e,a,r){if(kt(a))return t.warn("Invalid media object."),{};if(null===o)return t.warn("The Media Session was completed."),{};if(!Object.values(yd).includes(e))return t.warn("Invalid event type"),{};var i=c({eventType:e,mediaDetails:a,contextData:r});return n({playerId:o.playerId,xdm:i})},updatePlayhead:function(e){null!==o?ia(e)&&(o.lastPlayhead=parseInt(e,10)):t.warn("The Media Session was completed.")},updateQoEObject:function(e){null!==o?e&&(o.qoe=e):t.warn("The Media Session was completed.")},destroy:function(){t.warn("Destroy called, destroying the tracker."),o=null}}},Ed=function(e){var t=e.eventManager,a=e.sendEdgeNetworkRequest,n=e.config,r=e.logger,o=e.consent,i=sd(),s=od({sendEdgeNetworkRequest:a,config:n,consent:o,eventManager:t,setTimestamp:ys((function(){return new Date}))}),c=dd({mediaSessionCacheManager:i,mediaEventManager:s,config:n}),d=ld({config:n,mediaEventManager:s,mediaSessionCacheManager:i,legacy:!0}),l=pd({mediaSessionCacheManager:i,config:n,trackMediaEvent:c});return Pd({mediaResponseHandler:l,trackMediaSession:d,trackMediaEvent:c,createMediaHelper:Dd,createGetInstance:Cd,logger:r,config:n})};Ed.namespace="Legacy Media Analytics";var Sd,Od="web",kd="webapp",_d="://",jd="#",xd=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,Rd=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,Ad=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,Nd=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,Md=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=e.length;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},Vd=function(e){return la(e)?e.toLowerCase():""},Ud=function(e){return la(e)?e.toLowerCase():""},qd=function(e){return la(e)?Md(e):"/"},Fd=function(e){var t=e.match(xd);return t?{surfaceType:Vd(t[1]),authority:Ud(t[2]),path:qd(t[3]),fragment:t[4]}:null},Bd=function(e){return"".concat(e.surfaceType).concat(_d).concat(e.authority).concat(e.path||"").concat(e.fragment||"")},zd=function(e){var t=e(),a=t.host.toLowerCase(),n=t.pathname;return Od+_d+a+Md(n)},Gd=function(e,t){return e.startsWith(jd)?zd(t)+e:e},Hd=function(e,t,a){var n=function(e){return a.warn(e),null};if(!la(e))return n("Invalid surface: ".concat(e));var r=Gd(e,t),o=Fd(r);return null===o?n("Invalid surface: ".concat(e)):[Od,kd].includes(o.surfaceType)?o.authority&&Rd.test(o.authority)?o.path&&!Ad.test(o.path)?n("Invalid path ".concat(o.path," in surface: ").concat(e)):o.fragment&&!Nd.test(o.fragment)?n("Invalid fragment ".concat(o.fragment," in surface: ").concat(e)):o:n("Invalid authority ".concat(o.authority," in surface: ").concat(e)):n("Unsupported surface type ".concat(o.surfaceType," in surface: ").concat(e))},Jd=function(e){return!!e&&0===e.indexOf(Od+_d)&&-1===e.indexOf(jd)},Wd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return Hd(e,t,a)})).filter((function(e){return!Ce(e)})).map(Bd)},Kd=function(e){e.includes(Ar)||e.push(Ar)},Qd=function(e,t){var a=zd(t);e.includes(a)||e.push(a)},$d=function(e){return e.filter((function(t,a){return e.indexOf(t)===a}))},Xd=function(e){var t=e.getPageLocation,a=e.renderDecisions,n=e.decisionScopes,r=e.personalization,o=e.event,i=e.isCacheInitialized,s=e.logger,c=o.getViewName();return{isRenderDecisions:function(){return a},isSendDisplayEvent:function(){return!!r.sendDisplayEvent},shouldIncludeRenderedPropositions:function(){return!!r.includeRenderedPropositions},getViewName:function(){return c},hasScopes:function(){return n.length>0||et(r.decisionScopes)},hasSurfaces:function(){return et(r.surfaces)},hasViewName:function(){return la(c)},createQueryDetails:function(){var e=m(n);et(r.decisionScopes)&&e.push.apply(e,m(r.decisionScopes));var a=Wd(r.surfaces,t,s);this.shouldRequestDefaultPersonalization()&&(Kd(e),Qd(a,t));var o=[Hs,Ws,Ks,$s,Qs,Xs,Ys];return e.includes(Ar)&&o.push(Js),{schemas:o,decisionScopes:$d(e),surfaces:$d(a)}},isCacheInitialized:function(){return i},shouldFetchData:function(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData:function(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization:function(){return r.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==r.defaultPersonalizationEnabled}}},Yd="Rendering is disabled for authoring mode.",Zd={propositions:[]},el=function(e){var t=e.logger,a=e.options,n=Vn({propositions:jn(Vn({id:Un().required(),scope:Un().required(),scopeDetails:Vn({decisionProvider:Un().required()}).required(),items:jn(Vn({id:Un().required(),schema:Un().required(),data:Vn(_n())})).nonEmpty().required()}).required()).nonEmpty().required(),metadata:Vn(_n()),viewName:Un()}).required();try{return n(a)}catch(e){return t.warn("Invalid options for applyPropositions. No propositions will be applied.",e),Zd}},tl=function(e){var t=e.getPageLocation,a=e.logger,n=e.fetchDataHandler,r=e.viewChangeHandler,o=e.onClickHandler,i=e.isAuthoringModeEnabled,s=e.mergeQuery,c=e.viewCache,d=e.showContainers,l=e.applyPropositions,u=e.setTargetMigration,p=e.mergeDecisionsMeta,g=e.renderedPropositions,f=e.onDecisionHandler,m=e.handleConsentFlicker;return{lifecycle:{onComponentsRegistered:function(){m()},onDecision:f,onBeforeRequest:function(e){var t=e.request;return u(t),Promise.resolve()},onBeforeEvent:function(e){var o=e.event,l=e.renderDecisions,u=e.decisionScopes,f=void 0===u?[]:u,m=e.personalization,y=void 0===m?{}:m,v=e.onResponse,h=void 0===v?ua:v,b=e.onRequestFailure,w=void 0===b?ua:b;if(h((function(){return{propositions:[]}})),w((function(){return d()})),i())return a.warn(Yd),s(o,{enabled:!1}),Promise.resolve();var L=Xd({getPageLocation:t,renderDecisions:l,decisionScopes:f,personalization:y,event:o,isCacheInitialized:c.isInitialized(),logger:a}),P=[];if(L.shouldIncludeRenderedPropositions()&&P.push(g.clear()),L.shouldFetchData()){var D=c.createCacheUpdate(L.getViewName());w((function(){return D.cancel()})),n({cacheUpdate:D,personalizationDetails:L,event:o,onResponse:h})}else L.shouldUseCachedData()&&P.push(r({personalizationDetails:L,event:o,onResponse:h,onRequestFailure:w}));return Promise.all(P).then((function(e){var t=e.flatMap((function(e){return e}));et(t)&&p(o,t,[Pc.DISPLAY])}))},onClick:function(e){var t=e.event,a=e.clickedElement;o({event:t,clickedElement:a})}},commands:{applyPropositions:{optionsValidator:function(e){return el({logger:a,options:e})},run:l}}}},al=function(e){return Ge(Ke,{},{innerHTML:e})},nl=":eq(",rl=/:eq\((\d+)\)/g,ol=function(e){return-1===e.indexOf(nl)},il=function(e){return e.split(rl).filter(la)},sl=/(#|\.)(-?\w+)/g,cl=function(e,t,a){return"".concat(t).concat(CSS.escape(a))},dl=function(e){return e.replace(sl,cl)},ll=function(e){for(var t=[],a=dl(e.trim()),n=il(a),r=n.length,o=0;o<r;){var i=n[o],s=n[o+1];s?t.push({sel:i,eq:Number(s)}):t.push({sel:i}),o+=2}return t},ul=function(e){var t=document;if(ol(e))return dt(e,t);for(var a=ll(e),n=a.length,r=[],o=t,s=0;s<n;){var c=a[s],d=c.sel,l=c.eq,u=dt(d,o),p=u.length;if(0===p)break;if(null!=l&&l>p-1)break;s<n-1&&(o=null==l?i(u,1)[0]:u[l]),s===n-1&&(r=null==l?u:[u[l]]),s+=1}return r},pl=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementById(e)},gl=function(e,t,a){e.setAttribute(t,a)},fl=function(e,t){return e.getAttribute(t)},ml=function(e,t){e.removeAttribute(t)},yl=function(e,t,a,n){var r;r=n?"".concat(t,":").concat(a," !").concat(n,";"):"".concat(t,":").concat(a,";"),e.style.cssText+=";".concat(r)},vl=function(e){return e.parentNode},hl=function(e){return e.nextElementSibling},bl=function(e,t){if(e){var a=vl(e);a&&a.insertBefore(t,hl(e))}},wl=function(e,t){if(e){var a=vl(e);a&&a.insertBefore(t,e)}},Ll=function(e){var t=e.children;return t?tt(t):[]},Pl=function(e){var t=e.childNodes;return t?tt(t):[]},Dl=function(e){return e.firstElementChild},Tl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(void 0===Sd){var t=e.querySelector("[nonce]");Sd=t&&(t.nonce||t.getAttribute("nonce"))}return Sd},Il="src",Cl=function(e){return e.tagName===We},El=function(e){return Ge(We,{src:e})},Sl=function(e){dt(We,e).forEach((function(e){var t=fl(e,Il);t&&El(t)}))},Ol=function(e,t){return e.tagName===t},kl=function(e){return Ol(e,Qe)&&!fl(e,Il)},_l=function(e){var t=dt(Qe,e),a=t.length,n=Tl();if(n)for(var r=0;r<a;r+=1){var o=t[r];kl(o)&&(o.nonce=n)}},jl=function(e,t){return new Promise((function(a,n){t.onload=function(){a(t)},t.onerror=function(){n(new Error("Failed to load script: ".concat(e)))}}))},xl=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=jl(e,t);return document.head.appendChild(t),a},Rl=function(e,t){return!!e&&e.tagName===t},Al=function(e){return Rl(e,$e)&&!fl(e,Il)},Nl=function(e){return Rl(e,$e)&&fl(e,Il)},Ml=function(e){for(var t=dt($e,e),a=[],n=t.length,r=Tl(),o=u({},r&&{nonce:r}),i=0;i<n;i+=1){var s=t[i];if(Al(s)){var c=s.textContent;c&&a.push(Ge($e,o,{textContent:c}))}}return a},Vl=function(e){for(var t=dt($e,e),a=[],n=t.length,r=0;r<n;r+=1){var o=t[r];if(Nl(o)){var i=fl(o,Il);i&&a.push(i)}}return a},Ul=function(e,t){t.forEach((function(t){e.appendChild(t),e.removeChild(t)}))},ql=function(e){return Promise.all(e.map(xl))},Fl=function(e,t,a){var n=al(t);_l(n);var r=Pl(n),o=Ml(n),i=Vl(n);return Sl(n),r.forEach((function(t){Be(e,t)})),a(e),Ul(e,o),ql(i)},Bl=function(e){Pl(e).forEach(Ct)},zl=function(e,t,a){return Bl(e),Fl(e,t,a)},Gl=function(e,t,a){var n=al(t);_l(n);var r=Pl(n),o=Ml(n),i=Vl(n),s=r.length-1;for(Sl(n);s>=0;){var c=r[s];a(c);var d=Dl(e);d?wl(d,c):Be(e,c),s-=1}return Ul(e,o),ql(i)},Hl="alloy-prehiding",Jl="{ visibility: hidden }",Wl={},Kl=function(e){if(!Wl[e]){var t=Tl(),a=u({},t&&{nonce:t}),n={textContent:"".concat(e," ").concat(Jl)},r=Ge(Qe,a,n);Be(document.head,r),Wl[e]=r}},Ql=function(e){var t=Wl[e];t&&(Ct(t),delete Wl[e])},$l=function(e){return function(t){if(t&&!pl(Hl)){var a=Tl(),n=u({id:Hl},a&&{nonce:a}),r=Ge(Qe,n,{textContent:t});e.logOnContentHiding({status:"hide-containers",message:"Prehiding style applied to hide containers.",logLevel:"info"}),Be(document.head,r)}}},Xl=function(e){return function(){var t=pl(Hl);t&&(e.logOnContentHiding({status:"show-containers",message:"Prehiding style removed to show containers.",logLevel:"info"}),Ct(t))}},Yl=function(e,t,a){a(e),e.textContent=t},Zl=function(e,t,a){var n=al(t);_l(n);var r=Pl(n),o=Ml(n),i=Vl(n);return Sl(n),r.forEach((function(t){a(t),wl(e,t)})),Ul(e,o),ql(i)},eu=function(e,t,a){return Zl(e,t,a).then((function(){Ct(e)}))},tu=function(e,t,a){var n=al(t);_l(n);var r=Pl(n),o=Ml(n),i=Vl(n);Sl(n);var s=e;return r.forEach((function(e){a(e),bl(s,e),s=e})),Ul(e,o),ql(i)},au=function(e,t,a){var n=t.priority,o=r(t,Le);Object.keys(o).forEach((function(t){yl(e,t,o[t],n)})),a(e)},nu=function(e,t,a){Object.keys(t).forEach((function(a){gl(e,a,t[a])})),a(e)},ru=function(e,t,a){Cl(e)&&(El(t),a(e),ml(e,Il),gl(e,Il,t))},ou=function(e,t,a){var n=t.from,r=t.to,o=Ll(e),i=o[n],s=o[r];i&&s&&(n<r?bl(s,i):wl(s,i),a(s),a(i))},iu=function(e,t,a,n){var r=e.map((function(e){return n(e,t,a)}));return Promise.all(r)},su=function(e){return function(t,a){var n=t.selector,r=t.prehidingSelector,o=t.content;return Kl(r),Tt(n,ul).then((function(t){return iu(t,o,a,e)})).then((function(){Ql(r)}),(function(e){throw Ql(r),e}))}},cu=function(e){return(""+e).endsWith("px")?e:"".concat(e,"px")},du=function(e,t,a){var n=t.priority,o=r(t,Pe);Object.keys(o).forEach((function(t){var a=o[t];"left"!==t&&"top"!==t||(a=cu(a)),yl(e,t,a,n)})),a(e)},lu=function(e,t,a){a(e)},uu=function(e,t,a){var n=t.priority,o=r(t,De);Object.keys(o).forEach((function(t){var a=o[t];"width"!==t&&"height"!==t||(a=cu(a)),yl(e,t,a,n)})),a(e)},pu="setHtml",gu="customCode",fu="setText",mu="setAttribute",yu="setImageSource",vu="setStyle",hu="move",bu="resize",wu="rearrange",Lu="remove",Pu="insertAfter",Du="insertBefore",Tu="replaceHtml",Iu="prependHtml",Cu="appendHtml",Eu="click",Su="collectInteractions",Ou=function(){var e;return p(p(p(p(p(p(p(p(p(p(e={},pu,su(zl)),gu,su(Gl)),fu,su(Yl)),mu,su(nu)),yu,su(ru)),vu,su(au)),hu,su(du)),bu,su(uu)),wu,su(ou)),Lu,su(Ct)),p(p(p(p(p(p(e,Pu,su(tu)),Du,su(Zl)),Tu,su(eu)),Iu,su(Gl)),Cu,su(Fl)),Su,su(lu))},ku="personalization:decisions",_u=function(e){var t=e.logger,a=e.prehidingStyle,n=e.showContainers,r=e.hideContainers,o=e.mergeQuery,i=e.processPropositions,s=e.createProposition,c=e.notificationHandler,d=e.consent;return function(e){var l=e.cacheUpdate,u=e.personalizationDetails,p=e.event,g=e.onResponse,f=d.current(),y=f.state,v=f.wasSet;"out"===y&&v||(u.isRenderDecisions()?r(a):n()),o(p,u.createQueryDetails());var h=c(u.isRenderDecisions(),u.isSendDisplayEvent(),u.getViewName());g((function(e){var a=e.response.getPayloadsByType(ku);et(a)||t.logOnContentRendering({status:"no-offers",message:"No offers were returned.",logLevel:"info",detail:{query:u.createQueryDetails()}});var r,o,c,d=a.map((function(e){return s(e)})),p=Ut(d,(function(e){return e.getScopeType()})),g=p.page,f=void 0===g?[]:g,y=p.view,v=void 0===y?[]:y,b=p.proposition,w=void 0===b?[]:b,L=l.update(v);if(u.isRenderDecisions()){var P=i([].concat(m(f),m(L)),w);r=P.render,o=P.returnedPropositions,c=P.returnedDecisions,et(f)&&t.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for page-wide scope.",logLevel:"info",detail:{scope:Ar,propositions:f.map((function(e){return e.toJSON()}))}}),et(L)&&t.logOnContentRendering({status:"rendering-started",message:"Rendering propositions started for view scope - ".concat(u.getViewName(),"."),logLevel:"info",detail:{scope:u.getViewName(),propositions:L.map((function(e){return e.toJSON()}))}}),r().then(h),n()}else{var D=i([],[].concat(m(f),m(L),m(w)));o=D.returnedPropositions,c=D.returnedDecisions}return{propositions:o,decisions:c}}))}},ju=function(e,t){if(ol(e))return It(e,t);for(var a=ul(e),n=!1,r=0;r<a.length;r+=1)if(a[r]===t){n=!0;break}return n},xu="view",Ru="page",Au="proposition",Nu=function(e){return e.map((function(e){return e.trackingLabel,e.scopeType,r(e,Te)}))},Mu=function(e){return e.filter((function(t,a){var n=JSON.stringify(t);return a===e.findIndex((function(e){return JSON.stringify(e)===n}))}))},Vu=function(e,t,a){for(var n=document.documentElement,r=e,o=0;r&&r!==n;){if(ju(t,r)){var i=a(t),s={metas:i},c=i.find((function(e){return e.trackingLabel}));c&&(s.label=c.trackingLabel,s.weight=o);var d=i.find((function(e){return e.scopeType===xu}));return d&&(s.viewName=d.scope,s.weight=o),s}r=r.parentNode,o+=1}return{metas:null}},Uu=function(e,t,a){for(var n,r=[],o="",i=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,c=0;c<t.length;c+=1){var d=Vu(e,t[c],a),l=d.metas,u=d.label,p=d.weight,g=d.viewName;l&&(u&&p<=i&&(o=u,i=p),g&&p<=s&&(n=g,s=p),r.push.apply(r,m(Nu(l))))}return{decisionsMeta:Mu(r),propositionActionLabel:o,propositionActionToken:void 0,viewName:n}},qu=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).location.href.indexOf("adobe_authoring_enabled")},Fu=function(e,t){if(t||e){var a={};return e&&(a.label=e),t&&(a.tokens=[t]),a}},Bu=function(e){var t=e.mergeDecisionsMeta,a=e.collectInteractions,n=e.collectClicks,r=e.getInteractionMetas,o=e.getClickMetas,i=e.getClickSelectors,s=e.autoCollectPropositionInteractions;return function(e){var c,d,l,u=e.event,p=e.clickedElement,g=[];if([a(p,r,s),n(p,i(),o)].forEach((function(e){var t=e.decisionsMeta,a=e.propositionActionLabel,n=e.propositionActionToken,r=e.viewName;Array.prototype.push.apply(g,t),!c&&a&&(c=a),!d&&n&&(d=n),!l&&r&&(l=r)})),et(g)){var f={eventType:ec};l&&(f.web={webPageDetails:{viewName:l}}),u.mergeXdm(f),t(u,g,[Pc.INTERACT],Fu(c,d))}}},zu=function(e){var t=e.createProposition,a=!1,n=Promise.resolve({}),r=function(e,a){var n=e[a.toLowerCase()];return n&&n.length>0?n:[t({scope:a,scopeDetails:{characteristics:{scopeType:xu}},items:[{schema:Hs}]},!1)]};return{createCacheUpdate:function(e){var t=Ve();return a=!0,n=n.then((function(e){return t.promise.then((function(t){return u(u({},e),t)})).catch((function(){return e}))})),{update:function(a){var n=a.filter((function(e){return e.getScope()})),o=Ut(n,(function(e){return e.getScope().toLowerCase()}));return t.resolve(o),e?r(o,e):[]},cancel:function(){t.reject()}}},getView:function(e){return n.then((function(t){return r(t,e)}))},isInitialized:function(){return a}}},Gu=function(e){var t=e.processPropositions,a=e.viewCache,n=e.logger;return function(e){var r,o,i=e.personalizationDetails,s=e.onResponse,c=i.getViewName();return s((function(){return{propositions:r,decisions:o}})),a.getView(c).then((function(e){var a;if(i.isRenderDecisions()){var s=t(e);return a=s.render,r=s.returnedPropositions,o=s.returnedDecisions,n.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for view scope - ".concat(c,"."),logLevel:"info",detail:{scope:c,propositions:e.map((function(e){return e.toJSON()}))}}),a()}var d=t([],e);return r=d.returnedPropositions,o=d.returnedDecisions,[]}))}},Hu=function(e){return Object.keys(e).map((function(t){return u({id:t},e[t])}))},Ju=function(){var e={};return{storeClickMeta:function(t){var a=t.selector,n=t.meta,r=n.id,o=n.scope,i=n.scopeDetails,s=n.trackingLabel,c=n.scopeType;e[a]||(e[a]={}),e[a][r]={scope:o,scopeDetails:i,trackingLabel:s,scopeType:c}},getClickSelectors:function(){return Object.keys(e)},getClickMetas:function(t){return e[t]?Hu(e[t]):{}}}},Wu=function(){var e={},t={};return{storeInteractionMeta:function(a,n,r,o,i){i=parseInt(i,10),e[i]||(e[i]={},t[i]={}),t[i][a]||(t[i][a]=new Set),t[i][a].add(n),e[i][a]=u(u({},o),{},{scopeType:r})},getInteractionMetas:function(a){return Array.isArray(a)&&0!==a.length?Object.values(a.map((function(e){return parseInt(e,10)})).reduce((function(a,n){return Object.keys(e[n]||{}).forEach((function(r){a[r]||(a[r]={proposition:e[n][r],items:new Set}),a[r].items=new Set([].concat(m(a[r].items),m(t[n][r])))})),a}),{})).map((function(e){var t=e.proposition,a=e.items;return u(u({},t),{},{items:Array.from(a).map((function(e){return{id:e}}))})})):[]}}},Ku=function(e,t){return e===Ks&&t===Su},Qu=p(p(p(p(p({},Js,(function(){return!0})),Ws,(function(){return!0})),Ks,Ku),Xs,(function(){return!0})),Hs,(function(){return!0})),$u=function(e,t){return"function"==typeof Qu[e]&&Qu[e](e,t)},Xu=function(e){var t=e.processPropositions,a=e.createProposition,n=e.renderedPropositions,r=e.viewCache,o=function(e){var t=e.items,a=e.metadataForScope,n=void 0===a?{}:a,r=n.actionType,o=n.selector;return t.filter((function(e){return $u(e.schema,r)})).map((function(e){var t=e.schema;return t===Ws||Ku(t,r)?kt(n)?void 0:u(u({},e),{},{schema:Ku(t,r)?Js:t,data:u(u({},e.data),{},{selector:o,type:r})}):u({},e)})).filter((function(e){return e}))},i=function(e){return!(e.scope===Ar&&e.renderAttempted)},s=function(e){var t=e.propositions,a=e.metadata;return t.filter(i).map((function(e){return et(e.items)?{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails,items:o({items:e.items,metadataForScope:a[e.scope]})}:e})).filter((function(e){return et(e.items)}))};return function(e){var o=e.propositions,i=void 0===o?[]:o,c=e.metadata,d=void 0===c?{}:c,l=e.viewName,u=Ve();n.concat(u.promise);var p=s({propositions:i,metadata:d}).map((function(e){return a(e)}));return Promise.resolve().then((function(){return l?r.getView(l):[]})).then((function(e){var a=t([].concat(m(p),m(e))),n=a.render,r=a.returnedPropositions;return n().then(u.resolve),{propositions:r}}))}},Yu=function(e){var t=e.window;return function(){return t.location}},Zu=function(e){return e.targetMigrationEnabled?function(e){e.getPayload().mergeMeta({target:{migration:!0}})}:ua},ep="BODY > *:eq(0)",tp=function(e){var t=e.selector;return e.type!==gu||t!==ep?e:u(u({},e),{selector:"BODY"})},ap="SCRIPT,LINK,STYLE",np=function(e){var t=al(e);return dt(ap,t).map((function(e){return e.outerHTML})).join("")},rp=function(e){var t=u({},e),a=t.content,n=t.selector;if(ud(a))return t;if(null==n)return t;var r=ul(n);return Rl(r[0],Xe)?(t.type=Cu,t.content=np(a),t):t},op=function(e){return function(t){return t?e.reduce((function(e,t){return u(u({},e),t(e))}),t):t}},ip=function(e){var t=e.preprocess,a=e.isPageWideSurface,n=function(e,a){var n=e.id,r=e.schema,o=e.data,i=e.characteristics,s=(void 0===i?{}:i).trackingLabel,c=o?o.type:void 0,d=t(o);return{getId:function(){return n},getSchema:function(){return r},getSchemaType:function(){return c},getData:function(){return d},getProposition:function(){return a},getTrackingLabel:function(){return s},getOriginalItem:function(){return e},toString:function(){return JSON.stringify(e)},toJSON:function(){return e}}};return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.id,i=e.scope,s=e.scopeDetails,c=e.items,d=void 0===c?[]:c,l=(s||{}).characteristics,p=(void 0===l?{}:l).scopeType;return{getScope:function(){return i},getScopeType:function(){return i===Ar||a(i)?Ru:p===xu?xu:Au},getItems:function(){var e=this;return d.map((function(t){return n(t,e)}))},getNotification:function(){return{id:o,scope:i,scopeDetails:s}},getId:function(){return o},toJSON:function(){return e},shouldSuppressDisplay:function(){return r},addToReturnValues:function(a,n,r,o){t&&(a.push(u(u({},e),{},{items:r.map((function(e){return e.getOriginalItem()})),renderAttempted:o})),o||n.push(u(u({},e),{},{items:r.map((function(e){return e.getOriginalItem()}))})))}}}},sp=function(){var e=Promise.resolve([]);return{concat:function(t){e=e.then((function(e){return t.then((function(t){return e.concat(t)})).catch((function(){return e}))}))},clear:function(){var t=e;return e=Promise.resolve([]),t}}},cp=function(){return{render:ua,setRenderAttempted:!0,includeInNotification:!0}},dp="always",lp="never",up="decoratedElementsOnly",pp=[dp,lp,up],gp="data-aep-interact-id",fp="data-aep-click-label",mp="data-aep-click-token",yp=0,vp=function(e,t){return t?parseInt(t,10):++yp},hp=function(e,t){return!!e&&!!e[t]&&[dp,up].includes(e[t])},bp=function(e,t,a,n,r,o,i,s){var c=i.scopeDetails,d=(void 0===c?{}:c).decisionProvider;return hp(e,d)||t===Eu?function(e){if(e.tagName){var t=vp(a,fl(e,gp));s(a,n,o,i,t),gl(e,gp,t),r&&!fl(e,fp)&&gl(e,fp,r)}}:ua},wp=function(e){var t=e.modules,a=e.logger,n=e.storeInteractionMeta,r=e.storeClickMeta,o=e.autoCollectPropositionInteractions;return function(e){var i=e.getData()||{},s=i.type,c=i.selector;if(!s)return a.warn("Invalid DOM action data: missing type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};if(s===Eu)return c?(r({selector:c,meta:u(u({},e.getProposition().getNotification()),{},{trackingLabel:e.getTrackingLabel(),scopeType:e.getProposition().getScopeType()})}),{setRenderAttempted:!0,includeInNotification:!1}):(a.warn("Invalid DOM action data: missing selector.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1});if(!t[s])return a.warn("Invalid DOM action data: unknown type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};var d=bp(o,s,e.getProposition().getId(),e.getId(),e.getTrackingLabel(),e.getProposition().getScopeType(),e.getProposition().getNotification(),n);return{render:function(){return t[s](e.getData(),d)},setRenderAttempted:!0,includeInNotification:!0}}},Lp=function(e){var t=e.modules,a=e.logger,n=e.storeInteractionMeta,r=e.autoCollectPropositionInteractions;return function(e){var o=e.getData()||{},i=o.type;if(!o.selector||!i)return{setRenderAttempted:!1,includeInNotification:!1};if(!t[i])return a.warn("Invalid HTML content data",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};var s=bp(r,i,e.getProposition().getId(),e.getId(),e.getTrackingLabel(),e.getProposition().getScopeType(),e.getProposition().getNotification(),n);return{render:function(){return t[i](e.getData(),s)},setRenderAttempted:!0,includeInNotification:!0}}},Pp=function(e){var t=e.logger,a=e.executeRedirect,n=e.collect;return function(e){var r=(e.getData()||{}).content;return r?{render:function(){return n({decisionsMeta:[e.getProposition().getNotification()],documentMayUnload:!0}).then((function(){return t.logOnContentRendering({status:"rendering-redirect",detail:{propositionDetails:e.getProposition().getNotification(),redirect:r},message:"Redirect action ".concat(e.toString()," executed."),logLevel:"info"}),a(r)}))},setRenderAttempted:!0,onlyRenderThis:!0}:(t.warn("Invalid Redirect data",e.getData()),{})}},Dp=function(e){var t=e.schemaProcessors,a=e.logger,n=function(e,t){return function(){return Promise.resolve().then(e).then((function(){return a.enabled&&a.info("Action ".concat(t.toString()," executed.")),t.toJSON()})).catch((function(e){var n=e.message,r=e.stack,o="Failed to execute action ".concat(t.toString(),". ").concat(n," ").concat(r);a.logOnContentRendering({status:"rendering-failed",detail:{propositionDetails:t.getProposition().getNotification(),item:t.toJSON()},error:e,message:o,logLevel:"warn"})}))}},r=function(e,t){return Promise.all(e.map((function(e){return e()}))).then((function(e){var a=e.filter((function(e){return e}));if(t&&et(a))return u(u({},t),{},{items:a})}))},o=function(e){var a=t[e.getSchema()];return a?a(e):{}},i=function(e){for(var t,a,i,s,c=e.renderers,d=e.returnedPropositions,l=e.returnedDecisions,u=e.items,p=e.proposition,g=m(c),f=m(d),y=m(l),v=[],h=[],b=[],w=!1,L=!1,P=0;u.length>P;){s=u[P];var D=o(s);if(t=D.render,a=D.setRenderAttempted,i=D.includeInNotification,L=D.onlyRenderThis){f=[],y=[],a?(v=[s],h=[]):(v=[],h=[s]),g=[],b=[t],w=i;break}t&&b.push(n(t,s)),i&&(w=!0),a?v.push(s):h.push(s),P+=1}if(b.length>0){var T=w?p.getNotification():void 0;g.push((function(){return r(b,T)}))}else w&&g.push((function(){return Promise.resolve(p.getNotification())}));return v.length>0&&p.addToReturnValues(f,y,v,!0),h.length>0&&p.addToReturnValues(f,y,h,!1),{renderers:g,returnedPropositions:f,returnedDecisions:y,onlyRenderThis:L}};return function(e){for(var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[],c=[],d=[],l=0;e.length>l;){r=(n=e[l]).getItems();var p=i({renderers:s,returnedPropositions:c,returnedDecisions:d,items:r,proposition:n});if(s=p.renderers,c=p.returnedPropositions,d=p.returnedDecisions,t=p.onlyRenderThis)break;l+=1}return t&&e.forEach((function(e,t){t!==l&&e.addToReturnValues(c,d,e.getItems(),!1)})),o.forEach((function(e){e.addToReturnValues(c,d,e.getItems(),!1)})),{returnedPropositions:c,returnedDecisions:d,render:function(){return Promise.all(s.map((function(e){return e()}))).then((function(e){var t=e.filter((function(e){return e})),n=t.map((function(e){return{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails}}));if(et(t)){var r=Ut(t,(function(e){return e.scope}));a.logOnContentRendering({status:"rendering-succeeded",detail:u({},r),message:"Scopes: ".concat(JSON.stringify(r)," successfully executed."),logLevel:"info"})}return n}))}}}},Tp=function(){var e=0;return function(t){var a=t.items;return!!(void 0===a?[]:a).some((function(e){return e.schema===Xs}))&&(e+=1)>1}},Ip=function(e){var t=e.processPropositions,a=e.createProposition,n=e.notificationHandler;return function(e){var r=e.renderDecisions,o=e.propositions,i=e.event,s=e.personalization,c=void 0===s?{}:s;if(!r)return Promise.resolve();var d=c.sendDisplayEvent,l=void 0===d||d,u=i?i.getViewName():void 0,p=Tp(),g=o.map((function(e){return a(e,!0,p(e))})),f=t(g),m=f.render,y=f.returnedPropositions,v=n(r,l,u),h=g.reduce((function(e,t){return e[t.getId()]=t,e}),{});return m().then((function(e){var t=e.filter((function(e){return!h[e.id].shouldSuppressDisplay()})),a=e.filter((function(e){return h[e.id].shouldSuppressDisplay()}));v(t,a)})),Promise.resolve({propositions:y})}},Cp="defaultContent",Ep=["content","contentType"],Sp=["mobileParameters","webParameters","html"],Op=function(e,t){for(var a=0;a<Ep.length;a+=1){var n=Ep[a];if(!Object.prototype.hasOwnProperty.call(e,n))return t.warn("Invalid in-app message data: missing property '".concat(n,"'."),e),!1}var r=e.content;if(e.contentType===mc)for(var o=0;o<Sp.length;o+=1){var i=Sp[o];if(!Object.prototype.hasOwnProperty.call(r,i))return t.warn("Invalid in-app message data.content: missing property '".concat(i,"'."),e),!1}return!0},kp=function(e){var t=e.modules,a=e.logger;return function(e){var n=e.getData(),r=e.getProposition(),o=u({},r.getNotification()),i=r.shouldSuppressDisplay();if(!n)return a.warn("Invalid in-app message data: undefined.",n),{};var s=n.type,c=void 0===s?Cp:s;return t[c]?Op(n,a)?o?{render:function(){return i?null:t[c](u(u({},n),{},{meta:o}))},setRenderAttempted:!0,includeInNotification:!0}:(a.warn("Invalid in-app message meta: undefined.",o),{}):{}:(a.warn("Invalid in-app message data: unknown type.",n),{})}},_p=function(e){var t=dt("#".concat(e),document);t&&t.length>0&&Ct(t[0])},jp=function(e){var t={};if(!e||"a"!==e.tagName.toLowerCase())return t;var a=e.href;if(!a||!a.startsWith("adbinapp://"))return t;var n,r,o=a.split("?"),i=o[0].split("://")[1],s=e.innerText,c=e.getAttribute("data-uuid")||"";if(et(o)){var d=ve.default.parse(o[1]);n=d.interaction||"",r=Bo(d.link||"")}return{action:i,interaction:n,link:r,label:s,uuid:c}},xp=function(e){return function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.location.href=t:e.location.replace(t),new Promise((function(){}))}},Rp="alloy-messaging-container",Ap="alloy-overlay-container",Np="alloy-content-iframe",Mp=function(){return[Rp,Ap].forEach(_p)},Vp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xp(window);return function(a){a.preventDefault(),a.stopImmediatePropagation();var n=a.target,r="a"===n.tagName.toLowerCase()?n:n.closest("a");if(r){var o=jp(r),i=o.action,s=o.interaction,c=o.link,d=o.label,l=o.uuid;e(i,{label:d,id:s,uuid:l,link:c}),"dismiss"===i&&Mp(),la(c)&&c.length>0&&t(c,!0)}}},Up=function(e,t){var a=(new DOMParser).parseFromString(e,fc),n=a.querySelector("script");n&&n.setAttribute("nonce",Tl());var r=Ge("iframe",{src:URL.createObjectURL(new Blob([a.documentElement.outerHTML],{type:"text/html"})),id:Np});return r.addEventListener("load",(function(){(0,(r.contentDocument||r.contentWindow.document).addEventListener)("click",t)})),r},qp=function(e,t,a,n){[{id:Ap,element:n},{id:Rp,element:a},{id:Np,element:e}].forEach((function(e){var a=e.id,n=e.element,r=t[a],o=r.style,i=void 0===o?{}:o,s=r.params,c=void 0===s?{}:s;n.style=u(u({},n.style),i);var d=c.parentElement,l=void 0===d?"body":d,p=c.insertionMethod,g=void 0===p?"appendChild":p,f=c.enabled,m=void 0===f||f,y=document.querySelector(l);m&&y&&"function"==typeof y[g]&&y[g](n)}))},Fp=function(e){var t=e.verticalAlign,a=e.width,n=e.horizontalAlign,r=e.backdropColor,o=e.height,i=e.cornerRadius,s=e.horizontalInset,c=e.verticalInset,d=e.uiTakeover,l=void 0!==d&&d,u={width:a?"".concat(a,"%"):"100%",backgroundColor:r||"rgba(0, 0, 0, 0.5)",borderRadius:i?"".concat(i,"px"):"0px",border:"none",position:l?"fixed":"relative",overflow:"hidden"};return"left"===n?u.left=s?"".concat(s,"%"):"0":"right"===n?u.right=s?"".concat(s,"%"):"0":"center"===n&&(u.left="50%",u.transform="translateX(-50%)"),"top"===t?u.top=c?"".concat(c,"%"):"0":"bottom"===t?(u.position="fixed",u.bottom=c?"".concat(c,"%"):"0"):"center"===t&&(u.top="50%",
u.transform="".concat("center"===n?"".concat(u.transform," "):"","translateY(-50%)"),u.display="flex",u.alignItems="center",u.justifyContent="center"),u.height=o?"".concat(o,"vh"):"100%",u},Bp=function(e){return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:e.backdropOpacity||.5,backgroundColor:e.backdropColor||"#FFFFFF"}},zp=["enabled","parentElement","insertionMethod"],Gp=function(e){if(!e)return!1;var t=Object.keys(e);if(!t.includes(Rp))return!1;if(!t.includes(Ap))return!1;for(var a=Object.values(e),n=0;n<a.length;n+=1){if(!Vn(a[n],"style"))return!1;if(!Vn(a[n],"params"))return!1;for(var r=0;r<zp.length;r+=1)if(!Vn(a[n].params,zp[r]))return!1}return!0},Hp=function(e){if(e){var t=e.uiTakeover,a=void 0!==t&&t;return p(p(p({},Np,{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}}),Rp,{style:Fp(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}}),Ap,{style:Bp(e),params:{enabled:!0===a,parentElement:"body",insertionMethod:"appendChild"}})}},Jp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;Mp();var a=e.content,n=e.contentType,r=e.mobileParameters,o=e.webParameters;if(n===fc){var i=Ge("div",{id:Rp}),s=Up(a,Vp(t)),c=Ge("div",{id:Ap});Gp(o)||(o=Hp(r)),o&&qp(s,o,i,c)}},Wp=function(e,t){return new Promise((function(a){var n=e.meta;Jp(e,(function(e,a){var r={};r[Pc.INTERACT]=rc,-1!==Object.values(Pc).indexOf(e)&&(r[e]=rc),t({decisionsMeta:[n],propositionAction:a,eventType:ec,propositionEventTypes:Object.keys(r)})})),a({meta:n})}))},Kp=function(e){return{defaultContent:function(t){return Wp(t,e)}}},Qp=function(e,t){return function(a,n,r){if(!a)return function(){};if(!n){var o=Ve();return t.concat(o.promise),o.resolve}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];et(t)&&e({decisionsMeta:t,viewName:r}),et(a)&&e({decisionsMeta:a,eventType:nc,propositionAction:{reason:"Conflict"},viewName:r})}}},$p=function(e){var t=e.showContainers,a=e.consent;return function(){var e=a.current(),n=e.state,r=e.wasSet;n===er&&r?t():a.awaitConsent().catch(t)}},Xp=function(e){for(var t,a,n=document.documentElement,r=e,o=new Set;r&&r!==n;){var i=fl(r,gp);i&&o.add(i),t=t||fl(r,fp),a=a||fl(r,mp),r=r.parentNode}return{interactIds:m(o),clickLabel:t,clickToken:a}},Yp=function(e){var t=e.find((function(e){return e.scopeType===xu}));return t?t.scope:void 0},Zp=function(e,t,a){return function(n){var r=n.scopeDetails,o=(void 0===r?{}:r).decisionProvider;return e[o]===dp||e[o]===up&&(t||a)}},eg=function(e,t,a){var n=Xp(e),r=n.interactIds,o=n.clickLabel,i=void 0===o?"":o,s=n.clickToken,c=Zp(a,i,s);if(0===r.length)return{};var d=t(r).filter(c);return{decisionsMeta:Nu(d),propositionActionLabel:i,propositionActionToken:s,viewName:Yp(d)}},tg=function(e){var t=e.config,a=e.logger,n=e.eventManager,r=e.consent,o=t.targetMigrationEnabled,i=t.prehidingStyle,s=t.autoCollectPropositionInteractions,c=$c({eventManager:n,mergeDecisionsMeta:Xc}),d=Xl(a),l=$l(a),u=Wu(),g=u.storeInteractionMeta,f=u.getInteractionMetas,m=Ju(),y=m.storeClickMeta,v=m.getClickSelectors,h=m.getClickMetas,b=Yu({window:window}),w=Ou(),L=op([rp,tp]),P=ip({preprocess:L,isPageWideSurface:Jd}),D=zu({createProposition:P}),T=xp(window),I=p(p(p(p(p({},Hs,cp),Js,wp({modules:w,logger:a,storeInteractionMeta:g,storeClickMeta:y,autoCollectPropositionInteractions:s})),Ws,Lp({modules:w,logger:a,storeInteractionMeta:g,autoCollectPropositionInteractions:s})),$s,Pp({logger:a,executeRedirect:T,collect:c})),Xs,kp({modules:Kp(c),logger:a})),C=Dp({schemaProcessors:I,logger:a}),E=sp(),S=Qp(c,E),O=_u({prehidingStyle:i,showContainers:d,hideContainers:l,mergeQuery:Yc,processPropositions:C,createProposition:P,notificationHandler:S,consent:r,logger:a}),k=Bu({mergeDecisionsMeta:Xc,collectInteractions:eg,collectClicks:Uu,getInteractionMetas:f,getClickMetas:h,getClickSelectors:v,autoCollectPropositionInteractions:s}),_=Gu({processPropositions:C,viewCache:D,logger:a}),j=Xu({processPropositions:C,createProposition:P,renderedPropositions:E,viewCache:D}),x=Zu({targetMigrationEnabled:o}),R=Ip({processPropositions:C,createProposition:P,notificationHandler:S}),A=$p({showContainers:d,consent:r});return tl({getPageLocation:b,logger:a,fetchDataHandler:O,viewChangeHandler:_,onClickHandler:k,isAuthoringModeEnabled:qu,mergeQuery:Yc,viewCache:D,showContainers:d,applyPropositions:j,setTargetMigration:x,mergeDecisionsMeta:Xc,renderedPropositions:E,onDecisionHandler:R,handleConsentFlicker:A})};tg.namespace="Personalization";var ag=pp.map((function(e){return An(e)}));tg.configValidators=Vn({prehidingStyle:Un().nonEmpty(),targetMigrationEnabled:xn().default(!1),autoCollectPropositionInteractions:Vn(p(p({},kc,kn(ag).default(dp)),_c,kn(ag).default(lp))).default(p(p({},kc,dp),_c,lp)).noUnknownFields()});var ng=function(e){var t=e.storedConsent,a=e.taskQueue,n=e.defaultConsent,r=e.consent,o=e.sendSetConsentRequest,i=e.validateSetConsentOptions,s=e.consentHashStore,c=e.doesIdentityCookieExist,d=p({},ar,n),l=t.read(),u=c(),g=void 0!==l[ar];u&&g||s.clear(),u||(t.clear(),l={}),r.initializeConsent(d,l);var f=function(){if(0===a.length){var e=t.read();void 0!==e[ar]&&r.setConsent(e)}};return{commands:{setConsent:{optionsValidator:i,run:function(e){var t=e.consent,n=e.identityMap,i=e.edgeConfigOverrides;r.suspend();var c=s.lookup(t);return a.addTask((function(){return c.isNew()?o({consentOptions:t,identityMap:n,edgeConfigOverrides:i}):Promise.resolve()})).then((function(){return c.save()})).finally(f)}}},lifecycle:{onResponse:f,onRequestFailure:f}}},rg=function(e){return Array.isArray(e)?e.map((function(e){return rg(e)})):"object"===L(e)&&null!==e?Object.keys(e).sort().reduce((function(t,a){return t[a]=rg(e[a]),t}),{}):e},og=function(e){return Me(JSON.stringify(rg(e)))},ig=function(e){var t=e.standard,a=e.version;return"".concat(t,".").concat(a)},sg=function(e){var t=e.storage;return{clear:function(){t.clear()},lookup:function(e){var a={},n=function(e){var t=ig(e),n=(e.standard,e.version,r(e,Ie));return a[t]||(a[t]=og(n).toString()),a[t]};return{isNew:function(){return e.some((function(e){var a=ig(e),r=t.getItem(a);return null===r||r!==n(e)}))},save:function(){e.forEach((function(e){var a=ig(e);t.setItem(a,n(e))}))}}}}},cg=function(){var e={},t=Ur({content:e,addIdentity:function(t,a){e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(a)},hasIdentity:function(t){return void 0!==(e.identityMap&&e.identityMap[t])}});return t.setConsent=function(t){e.consent=t},t},dg=function(e){var t=e.payload,a=e.datastreamIdOverride;return Mr({payload:t,datastreamIdOverride:a,getAction:function(){return"privacy/set-consent"},getUseSendBeacon:function(){return!1}})},lg=function(e){var t=e.parseConsentCookie,a=e.orgId,n=e.cookieJar,r=Vt(a,Xt);return{read:function(){var e=n.get(r);return e?t(e):{}},clear:function(){n.remove(r)}}},ug=function(e){var t=e.createConsentRequestPayload,a=e.createConsentRequest,n=e.sendEdgeNetworkRequest,r=e.edgeConfigOverrides;return function(e){var o=e.consentOptions,i=e.identityMap,s=e.edgeConfigOverrides,c=Br({payload:t(),globalConfigOverrides:r,localConfigOverrides:s});c.payload.setConsent(o),Ee(i)&&Object.keys(i).forEach((function(e){i[e].forEach((function(t){c.payload.addIdentity(e,t)}))}));var d=a(c);return n({request:d}).then((function(){}))}},pg=function(e){return e.split(";").reduce((function(e,t){var a=i(t.split("="),2),n=a[0],r=a[1];return e[n]=r,e}),{})},gg=Vn({consent:jn(_n()).required().nonEmpty(),identityMap:Fn,edgeConfigOverrides:Bn}).noUnknownFields().required(),fg=Vn({defaultConsent:qn(Zn,er,tr).default(Zn)}),mg=function(e){var t=e.config,a=e.consent,n=e.sendEdgeNetworkRequest,r=e.createNamespacedStorage,o=t.orgId,i=t.defaultConsent,s=lg({parseConsentCookie:pg,orgId:o,cookieJar:ke}),c=Ne(),d=ug({createConsentRequestPayload:cg,createConsentRequest:dg,sendEdgeNetworkRequest:n,edgeConfigOverrides:t.edgeConfigOverrides}),l=r("".concat(Mt(o),".consentHashes.")),u=sg({storage:l.persistent}),p=Zt({orgId:o});return ng({storedConsent:s,taskQueue:c,defaultConsent:i,consent:a,sendSetConsentRequest:d,validateSetConsentOptions:gg,consentHashStore:u,doesIdentityCookieExist:p})};mg.namespace="Consent",mg.configValidators=fg;var yg=Vn({streamingMedia:Vn({channel:Un().nonEmpty().required(),playerName:Un().nonEmpty().required(),appVersion:Un(),mainPingInterval:Nn().minimum(10).maximum(50).default(10),adPingInterval:Nn().minimum(1).maximum(10).default(10)}).noUnknownFields()}),vg=function(e){var t=e.options;return kn([Vn({playerId:Un().required(),getPlayerDetails:Rn().required(),xdm:Vn({mediaCollection:Vn({sessionDetails:Vn(_n()).required()})}),edgeConfigOverrides:Vn({})}).required(),Vn({xdm:Vn({mediaCollection:Vn({playhead:Nn().required(),sessionDetails:Vn(_n()).required()})}),edgeConfigOverrides:Vn({})}).required()],"Error validating the createMediaSession command options.")(t)},hg=function(e){var t=e.options;return kn([Vn({playerId:Un().required(),xdm:Vn({eventType:qn.apply(void 0,m(Object.values(nd))).required(),mediaCollection:Vn(_n())}).required()}).required(),Vn({xdm:Vn({eventType:qn.apply(void 0,m(Object.values(nd))).required(),mediaCollection:Vn({playhead:Nn().integer().required(),sessionID:Un().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(t)},bg=function(e){var t=e.config,a=e.trackMediaEvent,n=e.trackMediaSession,r=e.mediaResponseHandler;return{lifecycle:{onBeforeEvent:function(e){var t=e.mediaOptions,a=e.onResponse,n=void 0===a?ua:a;if(t){var o=t.legacy,i=t.playerId,s=t.getPlayerDetails;o||n((function(e){var t=e.response;return r({playerId:i,getPlayerDetails:s,response:t})}))}}},commands:{createMediaSession:{optionsValidator:function(e){return vg({options:e})},run:n},sendMediaEvent:{optionsValidator:function(e){return hg({options:e})},run:function(e){return t.streamingMedia?a(e):Promise.reject(new Error("Streaming media is not configured."))}}}}},wg=function(e){var t=e.config,a=e.logger,n=e.eventManager,r=e.sendEdgeNetworkRequest,o=e.consent,i=sd(),s=od({config:t,eventManager:n,logger:a,consent:o,sendEdgeNetworkRequest:r,setTimestamp:ys((function(){return new Date}))}),c=dd({mediaSessionCacheManager:i,mediaEventManager:s,config:t}),d=ld({config:t,mediaEventManager:s,mediaSessionCacheManager:i}),l=pd({mediaSessionCacheManager:i,config:t,trackMediaEvent:c});return bg({config:t,trackMediaEvent:c,mediaEventManager:s,mediaResponseHandler:l,trackMediaSession:d})};wg.namespace="Streaming media",wg.configValidators=yg;var Lg=Object.freeze({__proto__:null,activityCollector:os,audiences:ds,consent:mg,context:js,eventMerge:ad,mediaAnalyticsBridge:Ed,personalization:tg,rulesEngine:Zc,streamingMedia:wg}),Pg=window.console,Dg=na(window),Tg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Vn({name:Un().default("alloy"),monitors:jn(Vn({})).default([]),components:jn(Rn())}).noUnknownFields()(e),a=t.name,n=t.monitors,r=t.components,o=function(){return(window.__alloyMonitors||[]).concat(n)},i=Gn({console:Pg,locationSearch:window.location.search,createLogger:Rr,instanceName:a,createNamespacedStorage:Dg,getMonitors:o}),s=hi({instanceName:a,logController:i,components:r});return i.logger.logOnInstanceCreated({instance:s}),s};t.createInstance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Vn({name:Un().default("alloy"),monitors:jn(Vn({})).default([])}).noUnknownFields()(e),a=t.name,n=t.monitors;return Tg({name:a,monitors:n,components:Object.values(Lg)})}}},"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function a(e){return i(e)||o(e)||r(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,t){if(e){if("string"==typeof e)return s(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function i(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t,a){return(t=u(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e){var a=p(e,"string");return"symbol"==t(a)?a:a+""}function p(e,a){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,a||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}function g(e,t){if(null==e)return{};var a,n,r=f(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function f(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;a[n]=e[n]}return a}var m=["name","edgeConfigId","stagingEdgeConfigId","developmentEdgeConfigId","onBeforeEventSend"];e.exports=function(e){var t=e.turbine,n=e.window,r=e.createInstance,o=e.createEventMergeId,i=e.orgId,s=e.wrapOnBeforeEventSend,c=e.getConfigOverrides,l=t.getExtensionSettings().instances,u={},p={};return n.__alloyMonitors=n.__alloyMonitors||[],n.__alloyMonitors.push({onInstanceCreated:function(){p.onInstanceCreated||(p.onInstanceCreated=[]);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];p.onInstanceCreated.push(t)},onInstanceConfigured:function(){p.onInstanceConfigured||(p.onInstanceConfigured=[]);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];p.onInstanceConfigured.push(t)},onBeforeCommand:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];"configure"===t[0].commandName&&(p.onBeforeCommand||(p.onBeforeCommand=[]),p.onBeforeCommand.push(t))}}),l.forEach((function(e){var a=e.name,o=e.edgeConfigId,l=e.stagingEdgeConfigId,p=e.developmentEdgeConfigId,f=e.onBeforeEventSend,y=g(e,m),v=r({name:a});n[a]=v,n.__alloyNS||(n.__alloyNS=[]),n.__alloyNS.push(a),u[a]=v;var h=t.environment&&t.environment.stage,b="development"===h&&p||"staging"===h&&l||o;y.edgeConfigOverrides=c(y),v("configure",d(d({},y),{},{datastreamId:b,debugEnabled:t.debugEnabled,orgId:y.orgId||i,onBeforeEventSend:s(f)})),t.onDebugChanged((function(e){v("setDebug",{enabled:e})}))})),{getInstance:function(e){return u[e]},createEventMergeId:function(){return o()},addMonitor:function(e){n.__alloyMonitors.push(e),Object.keys(p).forEach((function(t){e[t]&&p[t].forEach((function(n){e[t].apply(e,a(n))}))}))}}}}},"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:function(e){"use strict";e.exports=function(e){var t=e.version;return function(e){return function(a){if(a.xdm.implementationDetails.name="".concat(a.xdm.implementationDetails.name,"/reactor"),a.xdm.implementationDetails.version="".concat(a.xdm.implementationDetails.version,"+").concat(t),e)return e(a)}}}}},"adobe-alloy/dist/lib/utils/createGetConfigOverrides.js":{script:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,a){return(t=o(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){var a=i(e,"string");return"symbol"==t(a)?a:a+""}function i(e,a){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,a||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}var s=function(e){return function(t){var a,r,o,i,s,c=t.edgeConfigOverrides;if(c){if(c[e])s=n({},c[e]);else{if(c.development||c.staging||c.production)return;s=c}if(0!==Object.keys(s).length&&!1!==s.enabled){if(delete s.enabled,(null===(a=s.com_adobe_analytics)||void 0===a||null===(a=a.reportSuites)||void 0===a?void 0:a.length)>0&&(s.com_adobe_analytics.reportSuites=s.com_adobe_analytics.reportSuites.flatMap((function(e){return e.includes(",")?e.split(/,\s*/gi):e})).map((function(e){return e.trim()})).filter(Boolean)),void 0!==(null===(r=s.com_adobe_identity)||void 0===r?void 0:r.idSyncContainerId)&&null!==(null===(o=s.com_adobe_identity)||void 0===o?void 0:o.idSyncContainerId)&&"string"==typeof(null===(i=s.com_adobe_identity)||void 0===i?void 0:i.idSyncContainerId)){var d=parseInt(s.com_adobe_identity.idSyncContainerId.trim(),10);if(Number.isNaN(d))throw new Error('The ID sync container ID "'.concat(s.com_adobe_identity.idSyncContainerId,'" is not a valid integer.'));s.com_adobe_identity.idSyncContainerId=d}return s}}}};e.exports=s}},"adobe-alloy/dist/lib/createEventMergeIdCache.js":{script:function(e){"use strict";e.exports=function(){var e={};return{set:function(t,a){e[t]=a},getByCacheId:function(t){return e[t]},clearByEventMergeId:function(t){Object.keys(e).forEach((function(a){e[a]===t&&delete e[a]}))}}}}},"adobe-alloy/dist/lib/createSendEventCallbackStorage.js":{script:function(e){"use strict";e.exports=function(){var e=[];return{add:function(t){e.push(t)},triggerEvent:function(t){e.forEach((function(e){e(t)}))}}}}},"adobe-alloy/dist/lib/createMediaCollectionSessionStorage.js":{script:function(e){"use strict";e.exports=function(){var e={};return{add:function(t){var a=t.playerId,n=t.sessionDetails;if(e[a])throw new Error("Player Id ".concat(a," already exists"));e[a]=n},remove:function(t){var a=t.playerId;e[a]=void 0},get:function(t){var a=t.playerId;return e[a]}}}}},"adobe-alloy/dist/lib/createVariableStore.js":{script:function(e){"use strict";e.exports=function(){return{}}}},"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function r(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;a[n]=e[n]}return a}var o=["instanceName"],i=a("../../utils/clone");e.exports=function(e){var t=e.instanceManager,a=e.sendEventCallbackStorage,r=e.getConfigOverrides;return function(e){var s=e.instanceName,c=n(e,o);c.edgeConfigOverrides=r(c);var d=t.getInstance(s);if(!d)throw new Error('Failed to send event for instance "'.concat(s,'". No matching instance was configured with this name.'));return c.xdm&&(c.xdm=i(c.xdm)),c.data&&(c.data=i(c.data)),d("sendEvent",c).then((function(e){a.triggerEvent(e)}))}}}},"adobe-alloy/dist/lib/utils/clone.js":{script:function(e){"use strict";e.exports=function(e){return JSON.parse(JSON.stringify(e))}}},"adobe-alloy/dist/lib/events/sendEventComplete/createSendEventComplete.js":{script:function(e){"use strict";e.exports=function(e){var t=e.sendEventCallbackStorage;return function(e,a){t.add(a)}}}}}},"onetrust-consent-management-for-cookies":{displayName:"OneTrust Consent Management for Cookies",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP56475044e122457889b23eae24de6c35/",settings:{otConfiguration:{adobeCat_0:"AAM",adobeCat_1:"ADCLOUD",adobeCat_2:"ANALYTICS",adobeCat_3:"CAMPAIGN",adobeCat_4:"ECID",adobeCat_5:"LIVEFYRE",adobeCat_6:"TARGET",adobeCat_7:"MEDIA_ANALYTICS",variableId_0:"",variableId_1:"",variableId_2:"",variableId_3:"",variableId_4:"",variableId_5:"",variableId_6:"",variableId_7:""}},modules:{"onetrust-consent-management-for-cookies/src/lib/conditions/configuration.js":{script:function(e,t,a,n){"use strict";function r(){if("undefined"!=typeof OnetrustActiveGroups&&"undefined"!=typeof adobe){var e=n.getExtensionSettings().otConfiguration,t=Object.keys(e).length/2;void 0!==adobe.optIn&&(o(e,t),addEventListener("consent.onetrust",(function(){o(e,t)})))}}function o(e,t){adobe.optIn.denyAll();for(var a=0;a<t;a++){var n=e["adobeCat_"+a],r=e["variableId_"+a];""!=r.trim()&&-1!==OptanonActiveGroups.indexOf(r)&&adobe.optIn.approve(adobe.OptInCategories[n],!1)}}window.addEventListener("load",r,!1)}}}},contentsquare:{displayName:"Contentsquare",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP02f71617658247908c3e5904698d55da/",settings:{cvars:[{key:"Page Name",scope:"3",value:"%dataLayer:webPageDetails:pageName%"},{key:"Page Type",scope:"3",value:"%dataLayer:webPageDetails:pageType%"},{key:"Page Section",scope:"3",value:"%dataLayer:webPageDetails:pageSection%"},{key:"Page Level 1",scope:"3",value:"%dataLayer:webPageDetails:pageLevel1%"},{key:"Page Level 2",scope:"3",value:"%dataLayer:webPageDetails:pageLevel2%"},{key:"Page Level 3",scope:"3",value:"%dataLayer:webPageDetails:pageLevel3%"},{key:"Page Level 4",scope:"3",value:"%dataLayer:webPageDetails:pageLevel4%"},{key:"Country",scope:"3",value:"%dataLayer:webPageDetails:country%"},{key:"News Type",scope:"3",value:"%dataLayer:webPageDetails:newsType%"},{key:"User Loyalty Status",scope:"3",value:"%dataLayer:user:userLoyaltyStatus%"},{key:"Funnel Type",scope:"3",value:"%dataLayer:funnelInfo:funnelType%"},{key:"Funnel Place",scope:"3",value:"%dataLayer:funnelInfo:funnelPlace%"},{key:"Campaign ID",scope:"2",value:"%dataLayer:campaign:campaignID%"},{key:"Campaign Source",scope:"2",value:"%dataLayer:campaign:campaignSource%"},{key:"User Login Status",scope:"3",value:"%dataLayer:user:userLoginStatus%"}],project_id:"c17ba58e8c9a5",pii_selector:'[role=menuitem] div p[placeholder], main h1[placeholder], main div p[placeholder], form input, div.items-start, #root div.CardNumberField-input-wrapper input, [class*="singleValue"], header p.break-words',pii_attribute_object:""},modules:{"contentsquare/src/lib/actions/uxaInstallation.js":{name:"uxa-installation",displayName:"Main Tracking Tag Installation",script:function(e,t,a,n){"use strict";e.exports=function(e){if(e&&n&&"function"==typeof n.getExtensionSettings){const t=n.getExtensionSettings(),a=t.project_id,r=t.pii_selector,o=t.pii_attribute_object,i=t.cvars;let s;const c=e.setPathInput,d=e.setQueryInput,l=(document.location.search,document.location.pathname),u=document.location.hash.replace("#","?__");window._uxa=window._uxa||[],s=""!=c?c+u:l+u;try{if(""!=i&&void 0!==i){let e=!0,t="";"object"==typeof i&&null===i[0]&&(e=!1);for(let a=0;a<i.length;a++){t=a,e&&(t=a+1);const n=i[a].key,r=i[a].value,o=i[a].scope;let s;s=""===o||void 0===o?"3":"4n"===o||"4an"===o?"4":o||"3",""!=n&&void 0!==n&&""!=r&&void 0!==r&&("0"===o?_uxa.push(["setCustomVariable",t,n,r]):_uxa.push(["setCustomVariable",t,n,r,parseInt(s)]))}}let e=!1,t={};if(r&&(t.PIISelectors=[r],e=!0),o){let a=JSON.stringify(o.replaceAll("\n",""));a=a.replace(/\s/g,""),a=JSON.parse(a),a=JSON.parse(a),t.Attributes=a,e=!0}e&&_uxa.push(["setPIISelectors",t])}catch(e){}if(d&&_uxa.push(["setQuery",d]),a)if("undefined"==typeof CS_CONF){_uxa.push(["setPath",s]);const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//t.contentsquare.net/uxa/"+a+".js",document.getElementsByTagName("head")[0].appendChild(e)}else _uxa.push(["trackPageview",s])}}}},"contentsquare/src/lib/actions/artificialPageviewInstallation.js":{name:"artificial-pageview",displayName:"Artificial Pageviews",script:function(e){e.exports=function(e){var t=e.query,a=document.location.search,n=document.location.pathname,r=document.location.hash;window._uxa=window._uxa||[],""!=t?(_uxa.push(["setQuery",a+(a?"&":"?")+t]),_uxa.push(["trackPageview",n+r.replace("#","?__")]),_uxa.push(["setQuery",a])):(_uxa.push(["setQuery",a]),_uxa.push(["trackPageview",n+r.replace("#","?__")]))}}},"contentsquare/src/lib/actions/ecommerceTransactions.js":{name:"ecommerce-tag-installation",displayName:"Ecommerce Transactions",script:function(e){e.exports=function(e){if(e){var t=e.transaction_id,a=e.revenue,n=e.currency;if(""!=t&&void 0!==t&&""!=a&&void 0!==a&&!isNaN(a)){var r={};r.id=t,r.revenue=a,r.currency="",""!=n&&void 0!==n&&(r.currency=n),window._uxa=window._uxa||[],_uxa.push(["ec:transaction:create",r]),_uxa.push(["ec:transaction:send"])}}}}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPdea2007e025e4854a6b4ed545e844745/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/constant.js":{name:"constant",displayName:"Constant",script:function(e){"use strict";e.exports=function(e){return e.value}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-cookie");e.exports=function(e){return n.get(e.name)}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,a){"use strict";var n=a("./helpers/createBubbly")(),r=[];e.exports=function(e,t){var a=e.type;-1===r.indexOf(a)&&(r.push(a),window.addEventListener(a,n.evaluateEvent,!0)),n.addListener(e,(function(e){e.nativeEvent.type===a&&(e.detail=e.nativeEvent.detail,t(e))}))}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,a,n){"use strict";var r,o,i,s,c=a("@adobe/reactor-document"),d=a("@adobe/reactor-promise"),l=a("./helpers/decorateCode"),u=a("./helpers/loadCodeSequentially"),p=a("../../../node_modules/postscribe/dist/postscribe"),g=a("./helpers/unescapeHtmlCode"),f=a("../helpers/findPageScript").getTurbine,m=(o=function(e){p(c.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return r&&"script"===t&&(e.attrs.nonce=r),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=g(e.attrs[t])})),e.src&&(e.src=g(e.src))),e},error:function(e){n.logger.error(e.msg)}})},i=[],s=function(){if(c.body)for(;i.length;)o(i.shift());else setTimeout(s,20)},function(e){i.push(e),s()}),y=function(){if(c.currentScript)return c.currentScript.async;var e=f();return!e||e.async}();e.exports=function(e,t){var a;r=n.getExtensionSettings().cspNonce;var o={settings:e,event:t},i=o.settings.source;if(i)return o.settings.isExternal?u(i).then((function(e){return e?(a=l(o,e),m(a.code),a.promise):d.resolve()})):(a=l(o,i),y||"loading"!==c.readyState?m(a.code):c.write&&!1===n.propertySettings.ruleComponentSequencingEnabled?c.write(a.code):m(a.code),a.promise)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,a){"use strict";var n=a("../helpers/stringAndNumberUtils").isString,r=a("../helpers/stringAndNumberUtils").isNumber,o=a("../helpers/stringAndNumberUtils").castToStringIfNumber,i=a("../helpers/stringAndNumberUtils").castToNumberIfString,s=function(e,t){return t&&n(e)?e.toLowerCase():e},c=function(e){return function(t,a,r){return t=o(t),a=o(a),n(t)&&n(a)&&e(t,a,r)}},d=function(e){return function(t,a){return t=i(t),a=i(a),r(t)&&r(a)&&e(t,a)}},l=function(e){return function(t,a,n){return e(s(t,n),s(a,n))}},u={equals:l((function(e,t){return e==t})),doesNotEqual:function(){return!u.equals.apply(null,arguments)},contains:c(l((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!u.contains.apply(null,arguments)},startsWith:c(l((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!u.startsWith.apply(null,arguments)},endsWith:c(l((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!u.endsWith.apply(null,arguments)},matchesRegex:c((function(e,t,a){return new RegExp(t,a?"i":"").test(e)})),doesNotMatchRegex:function(){return!u.matchesRegex.apply(null,arguments)},lessThan:d((function(e,t){return e<t})),lessThanOrEqual:d((function(e,t){return e<=t})),greaterThan:d((function(e,t){return e>t})),greaterThanOrEqual:d((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return u[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,a,n){"use strict";var r={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var a=r[e];if(a){var o={identifier:e,detail:t};a.forEach((function(e){e(o)}));var i=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&i.push(t),n.logger.log.apply(n.logger,i)}else n.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var a=r[e.identifier];a||(a=r[e.identifier]=[]),a.push(t)}}},"core/src/lib/events/historyChange.js":{name:"history-change",displayName:"History Change",script:function(e,t,a){"use strict";var n=a("./helpers/debounce"),r=a("./helpers/once"),o=window.history,i=window.location.href,s=[],c=function(e,t,a){var n=e[t];e[t]=function(){var t=n.apply(e,arguments);return a.apply(null,arguments),t}},d=n((function(){var e=window.location.href;i!==e&&(s.forEach((function(e){e()})),i=e)}),0),l=r((function(){o&&(o.pushState&&c(o,"pushState",d),o.replaceState&&c(o,"replaceState",d)),window.addEventListener("popstate",d),window.addEventListener("hashchange",d)}));e.exports=function(e,t){l(),s.push(t)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerLibraryLoadedTrigger(t)}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,a){"use strict";var n=a("./weakMap"),r=a("./matchesProperties"),o=a("./matchesSelector");e.exports=function(){var e=[],t=new n,a={addListener:function(t,a){e.push({settings:t,callback:a})},evaluateEvent:function(a,n){if(e.length&&!t.has(a)){for(var i=a.target,s=!1;i;){for(var c=!1,d=!1,l=0;l<e.length;l++){var u=e[l],p=u.settings.elementSelector,g=u.settings.elementProperties;if((!1!==u.settings.bubbleFireIfChildFired||!s)&&(i===a.target||!1!==u.settings.bubbleFireIfParent)&&(i===a.target||p||g&&Object.keys(g).length)&&(!p||o(i,p))&&(!g||r(i,g))){var f={};n?Object.keys(a).forEach((function(e){f[e]=a[e]})):f.nativeEvent=a,f.element=i,f.target=a.target,!1!==u.callback(f)&&(d=!0,u.settings.bubbleStop&&(c=!0))}}if(c)break;d&&(s=!0),i=i.parentNode}t.set(a,!0)}},__reset:function(){e=[]}};return a}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window").WeakMap;if(void 0===n){var r=Object.defineProperty,o=Date.now()%1e9;(n=function(){this.name="__st"+(1e9*Math.random()>>>0)+o+++"__"}).prototype={
set:function(e,t){var a=e[this.name];return a&&a[0]===e?a[1]=t:r(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=n}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,a){"use strict";var n=a("./../../helpers/textMatch"),r=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var a=r(e,t.name),o=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return n(a,o)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,a,n){"use strict";e.exports=function(e,t){var a=e.matches||e.msMatchesSelector;if(a)try{return a.call(e,t)}catch(e){return n.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,a){"use strict";var n=a("./decorators/decorateGlobalJavaScriptCode"),r=a("./decorators/decorateNonGlobalJavaScriptCode"),o={javascript:function(e,t){return e.settings.global?n(e,t):r(e,t)},html:a("./decorators/decorateHtmlCode")};e.exports=function(e,t){return o[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),r=a("./getSourceByUrl"),o=n.resolve();e.exports=function(e){var t=new n((function(t){var a=r(e);n.all([a,o]).then((function(e){var a=e[0];t(a)}))}));return o=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var a,n;a=this,n=function(){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=n(a(1));e.exports=r.default},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(){}function i(){var e=f.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,a){function n(e){e=a.beforeWrite(e),m.write(e),a.afterWrite(e)}(m=new l.default(e,a)).id=g++,m.name=a.name||m.id,c.streams[m.name]=m;var r=e.ownerDocument,s={close:r.close,open:r.open,write:r.write,writeln:r.writeln};d(r,{close:o,open:o,write:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(t.join("")+"\n")}});var u=m.win.onerror||o;return m.win.onerror=function(e,t,n){a.error({msg:e+" - "+t+": "+n}),u.apply(m.win,[e,t,n])},m.write(t,(function(){d(r,s),m.win.onerror=u,a.done(),m=null,i()})),m}function c(e,t,a){if(u.isFunction(a))a={done:a};else if("clear"===a)return f=[],m=null,void(g=0);a=u.defaults(a,p);var n=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,a];return e.postscribe={cancel:function(){n.stream?n.stream.abort():n[1]=o}},a.beforeEnqueue(n),f.push(n),m||i(),e.postscribe}t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=c;var l=r(a(2)),u=n(a(4)),p={afterAsync:o,afterDequeue:o,afterStreamStart:o,afterWrite:o,autoFix:!0,beforeEnqueue:o,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:o,error:function(e){throw new Error(e.msg)},releaseAsync:!1},g=0,f=[],m=null;d(c,{streams:{},queue:f,WriteStream:l.default})},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var a=p+t,n=e.getAttribute(a);return l.existy(n)?String(n):n}function s(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=p+t;l.existy(a)&&""!==a?e.setAttribute(n,a):e.removeAttribute(n)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=r(a(3)),l=n(a(4)),u=!1,p="data-ps-",g="ps-style",f="ps-script",m=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.root=t,this.options=a,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new d.default("",{autoFix:a.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();l.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,a=void 0,n=void 0,r=[];(t=this.parser.readToken())&&!(a=l.isScript(t))&&!(n=l.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);r.length>0&&this._writeStaticTokens(r),a&&this._handleScriptToken(t),n&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,a=[],n=[],r=[],o=e.length,i=0;i<o;i++){var s=e[i],c=s.toString();if(a.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var d=t++;n.push(c.replace(/(\/?>)/," "+p+"id="+d+" $1")),s.attrs.id!==f&&s.attrs.id!==g&&r.push("atomicTag"===s.type?"":"<"+s.tagName+" "+p+"proxyof="+d+(s.unary?" />":">"))}}else n.push(c),r.push("endTag"===s.type?c:"")}return{tokens:e,raw:a.join(""),actual:n.join(""),proxy:r.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];l.existy(e=t.shift());){var a=1===e.nodeType;if(!a||!i(e,"proxyof")){a&&(this.actuals[i(e,"id")]=e,s(e,"id"));var n=e.parentNode&&i(e.parentNode,"proxyof");n&&this.actuals[n].appendChild(e)}t.unshift.apply(t,l.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,a=this.parser.clear();a&&this.writeQueue.unshift(a),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,g),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),l.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var a=this.doc.getElementById(t);a&&a.parentNode.replaceChild(e,a)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var a=this._buildScript(e),n=this._shouldRelease(a),r=this.options.afterAsync;e.src&&(a.src=e.src,this._scriptLoadHandler(a,n?r:function(){t(),r()}));try{this._insertCursor(a,f),a.src&&!n||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return l.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function a(){e=e.onload=e.onreadystatechange=e.onerror=null}function n(){a(),null!=t&&t(),t=null}function r(e){a(),i(e),null!=t&&t(),t=null}function o(e,t){var a=e["on"+t];null!=a&&(e["_on"+t]=a)}var i=this.options.error;o(e,"load"),o(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){r({msg:"onload handler failed "+t+" @ "+e.src})}n()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void r({msg:"onerror handler failed "+t+" @ "+e.src})}r({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&n()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=m},function(e){var t;t=function(){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=n(a(1));e.exports=r.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=r(a(2)),s=r(a(3)),c=n(a(6)),d=a(5),l={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.stream=a;var r=!1,s={};for(var d in i)i.hasOwnProperty(d)&&(n.autoFix&&(s[d+"Fix"]=!0),r=r||s[d+"Fix"]);r?(this._readToken=(0,c.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in l)if(l.hasOwnProperty(e)&&l[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var p in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=(0,d.escapeQuotes)(e[a],null));return t},u.supports=i,i)i.hasOwnProperty(p)&&(u.browserHasFlaw=u.browserHasFlaw||!i[p]&&p)},function(e,t){"use strict";t.__esModule=!0;var a=!1,n=!1,r=window.document.createElement("div");try{var o="<P><I></P></I>";r.innerHTML=o,t.tagSoup=a=r.innerHTML!==o}catch(e){t.tagSoup=a=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=n=2===r.childNodes.length}catch(e){t.selfClose=n=!1}r=null,t.tagSoup=a,t.selfClose=n},function(e,t,a){"use strict";function n(e){var t=e.indexOf("-->");if(t>=0)return new d.CommentToken(e.substr(4,t-1),t+3)}function r(e){var t=e.indexOf("<");return new d.CharsToken(t>=0?t:e.length)}function o(e){var t,a,n;if(-1!==e.indexOf(">")){var r=e.match(l.startTag);if(r){var o=(t={},a={},n=r[2],r[2].replace(l.attr,(function(e,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",a[arguments[5]]=!0):t[r]=arguments[2]||arguments[3]||arguments[4]||l.fillAttr.test(r)&&r||"":t[r]="",n=n.replace(e,"")})),{v:new d.StartTagToken(r[1],r[0].length,t,a,!!r[3],n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===o?"undefined":c(o)))return o.v}}}function i(e){var t=o(e);if(t){var a=e.slice(t.length);if(a.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var n=a.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(n)return new d.AtomicTagToken(t.tagName,n[0].length+t.length,t.attrs,t.booleanAttrs,n[1])}}}function s(e){var t=e.match(l.endTag);if(t)return new d.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=n,t.chars=r,t.startTag=o,t.atomicTag=i,t.endTag=s;var d=a(4),l={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var r=a(5),o=(t.Token=function e(t,a){n(this,e),this.type=t,this.length=a,this.text=""},t.CommentToken=function(){function e(t,a){n(this,e),this.type="comment",this.length=a||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){n(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,a,r,o,i){n(this,e),this.type=t,this.length=r,this.text="",this.tagName=a,this.attrs=o,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="<"+e.tagName;for(var n in e.attrs)if(e.attrs.hasOwnProperty(n)){a+=" "+n;var o=e.attrs[n];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[n]||(a+='="'+(0,r.escapeQuotes)(o)+'"')}return e.rest&&(a+=" "+e.rest),e.unary&&!e.html5Unary?a+="/>":a+=">",null!=t&&(a+=t+"</"+e.tagName+">"),a},e}());t.StartTagToken=function(){function e(t,a,r,o,i,s){n(this,e),this.type="startTag",this.length=a,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=o,this.html5Unary=!1,this.unary=i,this.rest=s}return e.prototype.toString=function(){return o.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,a,r,o,i){n(this,e),this.type="atomicTag",this.length=a,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1,this.content=i}return e.prototype.toString=function(){return o.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,a){n(this,e),this.type="endTag",this.length=a,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=a},function(e,t){"use strict";function a(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function n(e,t){var n=e.stream,r=a(t());return e.stream=n,r}function r(e,t){var a=t.pop();e.prepend("</"+a.tagName+">")}function o(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,a=0;t=this[a];a++)if(t.tagName===e)return!0;return!1},e}function i(e,t,i){function s(){var t=n(e,i);t&&l[t.type]&&l[t.type](t)}var d=o(),l={startTag:function(a){var n=a.tagName;"TR"===n.toUpperCase()&&d.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&c.test(n)&&d.containsTagName(n)?d.lastTagNameEq(n)?r(e,d):(e.prepend("</"+a.tagName+">"),s()):a.unary||d.push(a)},endTag:function(a){d.last()?t.tagSoupFix&&!d.lastTagNameEq(a.tagName)?r(e,d):d.pop():t.tagSoupFix&&(i(),s())}};return function(){return s(),a(i())}}t.__esModule=!0,t.default=i;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function a(e){return null!=e}function n(e){return"function"==typeof e}function r(e,t,a){var n=void 0,r=e&&e.length||0;for(n=0;n<r;n++)t.call(a,e[n],n)}function o(e,t,a){for(var n in e)e.hasOwnProperty(n)&&t.call(a,n,e[n])}function i(e,t){return e=e||{},o(t,(function(t,n){a(e[t])||(e[t]=n)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(n){var t=(a=[],r(e,(function(e){a.push(e)})),{v:a});if("object"===(void 0===t?"undefined":p(t)))return t.v}var a}function c(e){return e[e.length-1]}function d(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function l(e){return d(e,"script")}function u(e){return d(e,"style")}t.__esModule=!0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=a,t.isFunction=n,t.each=r,t.eachKey=o,t.defaults=i,t.toArray=s,t.last=c,t.isTag=d,t.isScript=l,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof t?t.postscribe=n():a.postscribe=n()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document").createElement("div");e.exports=function(e){return n.innerHTML=e,n.textContent||n.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),r=function(e){for(var t=n.querySelectorAll("script"),a=0;a<t.length;a++){var r=t[a];if(e.test(r.src))return r}},o=function(){return r(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:o,byRegexPattern:r}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:n.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),r=0;e.exports=function(e,t){var a="_runScript"+ ++r,o=new n((function(t,r){_satellite[a]=function(o){delete _satellite[a],new n((function(t){t(o.call(e.event.element,e.event,e.event.target,n))})).then(t,r)}}));return{code:'<script>_satellite["'+a+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:o}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-promise"),o=0,i={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=i[e];t&&(delete i[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=i[e];t&&(delete i[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},d=function(e){return e.settings.isExternal};e.exports=function(e,t){var a;return d(e)&&(t=n.replaceTokens(t,e.event)),s(t)?(a=new r((function(e,t){i[String(o)]={resolve:e,reject:t}})),t=c(t,o),o+=1):a=r.resolve(),{code:t,promise:a}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-load-script"),r=a("@adobe/reactor-promise"),o=a("../../helpers/findPageScript").byRegexPattern,i={},s={},c=function(e){return s[e]||(s[e]=n(e)),s[e]};_satellite.__registerScript=function(e,t){var a;if(document.currentScript)a=document.currentScript.getAttribute("src");else{var n=new RegExp(".*"+e+".*");a=o(n).getAttribute("src")}i[a]=t},e.exports=function(e){return i[e]?r.resolve(i[e]):new r((function(t){c(e).then((function(){t(i[e])}),(function(){t()}))}))}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},a=function(e){return"string"==typeof e||e instanceof String},n=function(e){return t(e)?String(e):e},r=function(e){return a(e)?Number(e):e};e.exports={isNumber:t,isString:a,castToStringIfNumber:n,castToNumberIfString:r}}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(e,t,a){var n=null;return function(){var r=a||this,o=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,o)}),t)}}}},"core/src/lib/events/helpers/once.js":{script:function(e){"use strict";e.exports=function(e,t){var a;return function(){return e&&(a=e.apply(t||this,arguments),e=null),a}}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),r=a("@adobe/reactor-document"),o=-1!==n.navigator.appVersion.indexOf("MSIE 10"),i="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",d=[c,s,i],l=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};d.forEach((function(e){u[e]=[]}));var p=function(e,t){d.slice(0,f(e)+1).forEach((function(e){m(t,e)}))},g=function(){return"complete"===r.readyState?i:"interactive"===r.readyState?o?null:s:void 0},f=function(e){return d.indexOf(e)},m=function(e,t){u[t].forEach((function(t){y(e,t)})),u[t]=[]},y=function(e,t){var a=t.trigger,n=t.syntheticEventFn;a(n?n(e):null)};n._satellite=n._satellite||{},n._satellite.pageBottom=p.bind(null,c),r.addEventListener("DOMContentLoaded",p.bind(null,s),!0),n.addEventListener("load",p.bind(null,i),!0),n.setTimeout((function(){var e=g();e&&p(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:l.bind(null,r)})},registerWindowLoadedTrigger:function(e){u[i].push({trigger:e,syntheticEventFn:l.bind(null,n)})}}}}}}},company:{orgId:"114744A66135CF9B0A495FEB@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"Shop",settings:{domains:["realmadrid.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!0},id:"PRd00c2d3bc659435ea644fa108ee138b3"},rules:[{id:"RL06d0b4dbb1384c56bec7981a74578687",name:"Event Listener | Home Page OR Product Lists OR Search | Custom Event RMTagManagerPageLoadTracked | productSelection event | [ACDL push productSelection] ",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerPageLoadTracked",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"product_list"==_satellite.getVar("dataLayer:webPageDetails:pageType")||"home"==_satellite.getVar("dataLayer:webPageDetails:pageType")||"search"==_satellite.getVar("dataLayer:webPageDetails:pageType")||"product_detail"==_satellite.getVar("dataLayer:webPageDetails:pageType")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC008812a70f42437aa1c75d97193f6206-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL07f55b0fd6fd46838df607f2667c1752",name:"Event Track | All Pages | ACDL productListAdd | Send productListAdd event | [Web SDK, Third-Party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"productListAdd"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:productListAdd%",type:"commerce.productListAdds",instanceName:"alloy",edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC920b8a7ba4dd47cbb69d59f8a5834875-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0883a681efc843188930906aa2969919",name:"Event Track | All Pages | ACDL paymentInfo | Send paymentInfo event | [Web SDK, Third-Party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"paymentInfo"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:paymentInfo%",type:"commerce.paymentInfo",instanceName:"alloy",edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC151174cb814e4cb4b14517b5deff40c1-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0ef2d520cde5429db3c6ff1c6d8a1426",name:"Event Listener | Checkout Page | GTM Event add_contact_info | Addresss Info | [ACDL push addressInfo]",events:[{modulePath:"adobegoogledatalayer/src/lib/events/gtmDlPushEvent.js",settings:{method:"specificEvent",eventKey:"add_contact_info"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCf5d5dec0725a448b91fcedf8f2dd2c8a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0f6fa971289e470fbf90b4fadd000829",name:"Event Listener | Cart Page | Custom Event RMTagManagerPageLoadTracked | Cart View Event | [ACDL push cartView]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerPageLoadTracked",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:webPageDetails:pageLevel2%",rightOperand:"cart"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC49f89e79b8db4e8bb069566748cd1894-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1a63a397ad5f4e678050112abc116d5b",name:"Page Load Track | All Pages | Direct Call pageLoad | Send pageView sequential event | [Web SDK]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageLoad"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:webPageDetails:pageLoadType%",rightOperand:"sequential"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:pageViews%",type:"web.webpagedetails.pageViews",instanceName:"alloy",renderDecisions:!0,edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC85e5ff7d4ca04177beb88c66a8821acf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL22602512ad494d789a71babfa68b97ac",name:"Event Track | All Pages | ACDL productListRemoval | Send productListRemoval event | [Web SDK, Third-Party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"productListRemoval"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:productListRemoval%",type:"commerce.productListRemovals",instanceName:"alloy",edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCeade6015bc7d44048e3a65af929b9308-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL22fd38e736464e0e9a47508a042dbde6",name:"02 | All Pages | ADCL pageLoad | Consents Control | [Direct Call pageLoad]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageLoad"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCbae7a662893842cc8057d717ea301ef0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL299f3d18adc0453189b111ab9ee0f8af",name:"Event Track | All Pages | ACDL cartView | Send cartView event | [Third-party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"cartView"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:user:gdprStatus%",rightOperand:1},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC855040630e7e44f89a6171c67339db93-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2cb1e35bb3ee4f4c89d5e945d8e72c16",name:"Event Track | All Pages | ACDL shippingInfo | Send shippingInfo event | [Web SDK, Third-Party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"shippingInfo"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:shippingInfoEvents%",type:"commerce.shippingInfo",instanceName:"alloy",edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC65fad421e72946c799d3da588f8d26b2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL307e930fd05945cb8fae9ca3a10f3f83",name:"Event Listener | TYP | Custom Event RMTagManagerPageLoadTracked | Purchase Event | [ACDL push purchase]",events:[{modulePath:"core/src/lib/events/customEvent.js",
settings:{type:"RMTagManagerPageLoadTracked",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"checkout"==_satellite.getVar("dataLayer:webPageDetails:pageLevel1")&&"confirmation"==_satellite.getVar("dataLayer:webPageDetails:pageLevel2")}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!1===RMTagManager.trackedPurchase}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC0233aafee4944e17a2bc19db667d2b48-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3808cf4dbf894c8d80e0b6ad733f7d8f",name:"Page Load Track | All Pages | ACDL pageLoad | Send SPA pageView event | [Web SDK]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageLoad"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:webPageDetails:pageLoadType%",rightOperand:"spa"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:pageViews%",type:"web.webpagedetails.pageViews",instanceName:"alloy",renderDecisions:!0,edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCd6ad0e6e93ee443aa122ced6d25edeb6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL48eebeca1038492fa4d1a0ce22c8e868",name:"Page Load Track | All Pages | Direct Call consentsUpdated | Send pageView sequential event | [ContentSquare, Third-party tags]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"consentsUpdated"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:user:gdprStatus%",rightOperand:1},timeout:2e3}],actions:[{modulePath:"contentsquare/src/lib/actions/uxaInstallation.js",settings:{setPathInput:"",setQueryInput:"",setPathCheckbox:!1,setQueryCheckbox:!1},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCa66536367fe7461da9c7f352f6329591-source.min.js",language:"javascript",isExternal:!0},timeout:2e4,delayNext:!0}]},{id:"RL4b48aaf4e7844413bcc5cba0d4c93e7b",name:"Event Listener | All Pages | GTM Event remove_from_cart | Remove from Cart | [ACDL push productListRemoval]",events:[{modulePath:"adobegoogledatalayer/src/lib/events/gtmDlPushEvent.js",settings:{method:"specificEvent",eventKey:"remove_from_cart"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC45dbaffae3924e549a13ed7dfa64e558-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL523c17c80bce4301a3d058ce2ba05e3f",name:"03 |  All Pages | Web SDK Send event complete | Adobe Target ContentSquare integration | [Custom Code]",events:[{modulePath:"adobe-alloy/dist/lib/events/sendEventComplete/index.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCda79201c0b92473fac99333d854509fa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6127bd449eac450190d9550c68b4d1eb",name:"Page Load Listener | All Pages | History Change | SPA Page View | [ACDL push pageLoad]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return-1===location.pathname.indexOf("/auth")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC2741c2e2f0e4451898affb6f0fa02c67-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6241f735728c44bf804bed06cbcc649b",name:"04 | Event Track | All Pages | Direct Call consentBannerShow | Send consentsBannerShow event | [Web SDK]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"consentBannerShow"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:consentBannerShow%",type:"web.webInteraction.consentTracking.consentBannerShow",instanceName:"alloy",personalization:{defaultPersonalizationEnabled:!1},edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}}}]},{id:"RL675e897a2b2d46fa92aeeac47402928b",name:"Event Listener | Checkout Page | GTM Event add_payment_info | PaymentInfo Info | [ACDL push paymentInfo]",events:[{modulePath:"adobegoogledatalayer/src/lib/events/gtmDlPushEvent.js",settings:{method:"specificEvent",eventKey:"add_payment_info"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC4f43a755f29c4a218ea1dddf586c8cfd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6ba39fd1890743b99b5df5d35863dbd2",name:"Event Track | All Pages | ACDL shippingInfo | Send shippingInfo event | [Contentsquare]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"shippingInfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:user:gdprStatus%",rightOperand:1},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCd7b5dcf63230418ba22f6c678e239fd9-source.min.js",language:"javascript",isExternal:!0},timeout:2e4,delayNext:!0}]},{id:"RL82807f58affd46a88375aacedbd0fe44",name:"Event Listener | All Pages | GTM Event add_to_cart | Add to Cart | [ACDL push productListAdd]",events:[{modulePath:"adobegoogledatalayer/src/lib/events/gtmDlPushEvent.js",settings:{method:"specificEvent",eventKey:"add_to_cart"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCaa57d2c710b64de6bc508e96e67cb483-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL89764c5d2c344486b739e5df7e3f7389",name:"Event Track | All Pages | ACDL purchase | Send purchase event | [Web SDK, Third-Party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"purchase"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:purchaseEvents%",type:"commerce.purchases",instanceName:"alloy",edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC831afdc617d449d49cf8f5b529773754-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8b994586927447a490bfc3a4718c1276",name:"01 | All Pages | Page Top | RMTagManager Lib | [Custom Event RMTagManagerLoaded]",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:2}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,
source:'window.RMTagManager = {\n\tversion: "launch-shop-3.0.2",\n\tenvironment: _satellite.environment.stage,\n\tdependencesDelay: 0,\n\ttrackedPV: false,\n\ttrackedItem: false,\n\ttrackedCheckout: false,\n\ttrackedPurchase: false,\n\ttoolsLoaded: false,\n\tadobeUserID: "",\n    eventID: "",\n\tinit: function () {\n\t\tfor (var tool in this.tools)\n\t\t\tif (typeof this.tools[tool].init == "function")\n\t\t\t\tthis.tools[tool].init();\n\n\t\t//Nos sincronizamos con OneTrust\n\t\tRMTagManager.dataLayer.waitForDependences(function(){\n\t\t\t_satellite.logger.info("Dependences completed in time: <" + RMTagManager.dependencesDelay + ">");\n\t\t\twindow.dispatchEvent(new Event("RMTagManagerLoaded"));\n\t\t});\n\n\t},\n\ttrackPV: function(){\n\t\tfor(var tool in this.tools){\n\t\t\tif(typeof this.tools[tool].trackPV == "function"){\n\t\t\t\tthis.tools[tool].trackPV();\n\t\t\t}\n\t\t}\n\t},\n\ttrackAsyncPV: function(){\n\t\tfor(var tool in this.tools)\n\t\t\tif(typeof this.tools[tool].trackAsyncPV == "function")\n\t\t\t\tthis.tools[tool].trackAsyncPV();\n\t},\n\ttrackEvent: function(eventName, data){\n\t\tfor(var tool in this.tools){\n\t\t\tif(typeof this.tools[tool].trackEvent == "function"){\n\t\t\t\tthis.tools[tool].trackEvent(eventName, data);\n\t\t\t}\n\t\t}\n\t},\n\tdataLayer: {\n\t\t/**\n\t\t* Funci\xf3n que autocalcula todos los valores del dataLayer a trav\xe9s del dataLayer de GTM\n\t\t* @param url string url completa de la p\xe1gina actual\n\t\t* @param loadType tipo de carga de la p\xe1gina spa o sequential\n \t\t* @return object objeto con todos los valores del Data Layer autocalculados\n \t\t**/\n\t\tgetDataLayerInfo: function(url, loadType){\n \n            //URL info\n\t\t\tvar urlInfo = this.getUrlInfo(location.href);\n            var cleanURL = window.location.href.split(\'?\')[0].split(\'#\')[0]; // Elimina cualquier par\xe1metro de la URL\n            var canonicalURL = RMTagManager.dataLayer.getCanonicalURL();\n\n         \t//User info\n         \tvar userInfo = RMTagManager.dataLayer.getUserInfo();\n\n         \t//Referrer info\n         \tif(loadType === "spa"){\n         \t\tvar referrerInfo = RMTagManager.dataLayer.getReferrerInfo(loadType);\n         \t}else{\n         \t\tvar referrerURL = typeof asyncPV != "undefined" && asyncPV === true ? _satellite.getVar("dataLayer:webPageDetails:pageURL") : document.referrer;\n\t\t\t\tvar referrerInfo = this.getUrlInfo(referrerURL);\n         \t}\n\n\t\t\tvar dataLayerInfo = {\n\t\t\t\t"pageSection": "shop",\n\t\t\t\t"pageType": "",\n\t\t\t\t"pageLevel1": "",\n\t\t\t\t"pageLevel2": "",\n\t\t\t\t"pageLevel3": "",\n\t\t\t\t"pageLevel4": "",\n\t\t\t\t"funnelType": "",\n\t\t\t\t"funnelSeat": "",\n\t\t\t\t"funnelPlace": "",\n\t\t\t\t"promotionID": "",\n\t\t\t\t"pageName": "shop",\n\t\t\t\t"viewName": urlInfo.viewName,\n\t\t\t\t"cms": "broadleaf",\n\t\t\t\t"pageLang": document.documentElement.lang,\n\t\t\t\t"mediaLang": document.documentElement.lang,\n\t\t\t\t"country": "EU",\n\t\t\t\t"siteEnviroment": "",\n\t\t\t\t"pagePath": urlInfo.pagePath,\n\t\t\t\t"pageDomain": urlInfo.pageDomain,\n\t\t\t\t"pageTopDomain": urlInfo.pageTopDomain,\n\t\t\t\t"pageURL": urlInfo.pageURL,\n\t\t\t\t"pageAnchor": urlInfo.pageAnchor,\n\t\t\t\t"topDomain": urlInfo.topDomain,\n\t\t\t\t"previousPagePath": referrerInfo.hasOwnProperty("previousPagePath") ? referrerInfo.previousPagePath : document.referrer.replace(/http.?:\\/\\/[^\\/]*/, "").replace(/[\\?#].*?$/g, ""),\n\t\t\t\t"previousPageURL": referrerInfo.hasOwnProperty("previousPageURL") ? referrerInfo.previousPageURL : document.referrer,\n\t\t\t\t"previousPageName": referrerInfo.hasOwnProperty("previousName") ? referrerInfo.previousName : "",\n\t\t\t\t"referrer": referrerInfo.pageURL,\n\t\t\t\t"idpID": userInfo.hasOwnProperty("idpID") ? userInfo.idpID : "",\n\t\t\t\t"userLoginStatus": userInfo.hasOwnProperty("userLoginStatus") ? userInfo.userLoginStatus : "",\n\t\t\t\t"userLoyaltyStatus": userInfo.hasOwnProperty("userLoyaltyStatus") ? userInfo.userLoyaltyStatus : "",\n\t\t\t\t"userAge": userInfo.hasOwnProperty("userLoginStatus") ? userInfo.userAge : "",\n\t\t\t\t"userType": userInfo.hasOwnProperty("userType") ? userInfo.userType : "",\n\t\t\t\t"userGender": userInfo.hasOwnProperty("userLoginStatus") ? userInfo.userGender : "",\n\t\t\t\t"userCategory": userInfo.hasOwnProperty("userCategory") ? userInfo.userCategory : "",\n\t\t\t\t"hashedEmail": userInfo.hasOwnProperty("hashedEmail") ? userInfo.hashedEmail : "",\n\t\t\t\t"externalID": userInfo.hasOwnProperty("externalID") ? userInfo.externalID : "",\n\t\t\t\t"hashedPhone": userInfo.hasOwnProperty("hashedPhone") ? userInfo.hashedPhone : "",\n\t\t\t\t"currentCartTotal": userInfo.hasOwnProperty("currentCartTotal") ? userInfo.currentCartTotal : "",\n\t\t\t\t"currentCart": userInfo.hasOwnProperty("currentCart") ? userInfo.currentCart : "",\n\t\t\t\t"currency": "EUR",\n                "canonicalURL": canonicalURL, //Solo para p\xe1ginas sequenciales\n                "canonicalURLValid": canonicalURL ? (canonicalURL === cleanURL ? "1" : "0") : "not-set", //Solo para p\xe1ginas sequenciales\n                "userAgent": (navigator && navigator.userAgent) ? navigator.userAgent : ""\n\t\t\t}\n\n\t\t\t//Autocalculo para Entradas.com\n\t\t\tvar categoriesCalculated = false;\n\n\t\t\tvar pagePathFormated = decodeURIComponent(dataLayerInfo.pagePath.split("?")[0].toLocaleLowerCase());\n\t\t\tvar regExpSections = /\\/([^\\/]*)\\/?([^\\/]*)?\\/?([^\\/]*)?\\/?([^\\/]*)?\\/?([^\\/]*)?\\/?([^\\/]*)?\\/?(.*)?/ig.exec(pagePathFormated);\n\n\t\t\t//Levels formateados\n\t\t\tvar formatedLevel1 = "";\n\t\t\tvar formatedLevel2 = "";\n\t\t\tvar formatedLevel3 = "";\n\t\t\tvar formatedLevel4 = "";\n\n\t\t\tif(/^([A-Za-z]{2}-[A-Za-z]{2})$/.test(regExpSections[1])){ //Con country en la url\n\t\t\t\tformatedLevel1 = regExpSections[2] !== undefined  ? RMTagManager.utils.formatDataLayerParam(regExpSections[2]) : "";\n\t\t\t\tformatedLevel2 = regExpSections[3] !== undefined  ? RMTagManager.utils.formatDataLayerParam(regExpSections[3]) : "";\n\t\t\t\tformatedLevel3 = regExpSections[4] !== undefined  ? RMTagManager.utils.formatDataLayerParam(regExpSections[4]) : "";\n\t\t\t\tformatedLevel4 = regExpSections[5] !== undefined  ? RMTagManager.utils.formatDataLayerParam(regExpSections[5]) : "";\n\t\t\t\t\n\t\t\t} else { //sin country en la url\n\t\t\t\tformatedLevel1 = regExpSections[1] !== undefined  ? RMTagManager.utils.formatDataLayerParam(regExpSections[1]) : "";\n\t\t\t\tformatedLevel2 = regExpSections[2] !== undefined  ? RMTagManager.utils.formatDataLayerParam(regExpSections[2]) : "";\n\t\t\t\tformatedLevel3 = regExpSections[3] !== undefined  ? RMTagManager.utils.formatDataLayerParam(regExpSections[3]) : "";\n\t\t\t\tformatedLevel4 = regExpSections[4] !== undefined  ? RMTagManager.utils.formatDataLayerParam(regExpSections[4]) : "";\n\t\t\t}\n\t\t\t\n\t\t\t//Home\n\t\t\tif(formatedLevel1 == ""){\n\t\t\t\tdataLayerInfo.pageLevel1 = "home";\n\t\t\t\tdataLayerInfo.pageType = "home";\n\t\t\t\tcategoriesCalculated = true;\n\t\t\t}\n\n\t\t\t//Product List\n\t\t\tif(\tformatedLevel1 == "jerseys_kits" || \n\t\t\t\tformatedLevel1 == "content"  || \n\t\t\t\tformatedLevel1 == "players" || \n\t\t\t\tformatedLevel1.indexOf("training") > -1 || \n\t\t\t\tformatedLevel1.indexOf("adidas") > -1 || \n\t\t\t\tformatedLevel1 == "collections" ||\n\t\t\t\tformatedLevel1 == "fashion" ||\n\t\t\t\tformatedLevel1 == "accessories" ||\n                formatedLevel1 == "gifts" ||\n\t\t\t\t/face_masks|socks_gloves_accessories|home_and_office|electronics|fanworld|souveniers|fanworld_gifts_executive_gifts|adidas_training_accessories/.test(formatedLevel1) ||\n\t\t\t\tformatedLevel1 == "sale"\n\t\t\t\t){\n\n\n\t\t\t\t//PL: Jerseys\n\t\t\t\tif((formatedLevel1 == "content" && formatedLevel2 == "jerseys_kits") || (formatedLevel1 == "jerseys_kits")){\n\t\t\t\t\tdataLayerInfo.pageLevel1 = "jerseys_kits";\n\t\t\t\t\tdataLayerInfo.pageLevel2 = formatedLevel1 == "content" ? formatedLevel3 : formatedLevel2;\n\t\t\t\t\tdataLayerInfo.pageLevel3 = formatedLevel1 == "content" ? formatedLevel4 : formatedLevel3;\n\t\t\t\t}\n\n\t\t\t\t//PL: Players\n\t\t\t\tif((formatedLevel1 == "content" && formatedLevel2 == "players") || (formatedLevel1 == "players")){\n\t\t\t\t\tdataLayerInfo.pageLevel1 = "players";\n\t\t\t\t\tdataLayerInfo.pageLevel2 = formatedLevel1 == "content" ? formatedLevel3 : formatedLevel2;\n\t\t\t\t\tdataLayerInfo.pageLevel3 = formatedLevel1 == "content" ? formatedLevel4 : formatedLevel3;\n\t\t\t\t}\n\n\t\t\t\t//PL: Training\n\t\t\t\tif(formatedLevel1.indexOf("training") > -1 || formatedLevel1.indexOf("adidas") > -1){\n\t\t\t\t\tdataLayerInfo.pageLevel1 = "training";\n\t\t\t\t\tdataLayerInfo.pageLevel2 = formatedLevel1 == "training" ? formatedLevel2 : formatedLevel1;\n\t\t\t\t\tdataLayerInfo.pageLevel3 = formatedLevel1 == "training" ? formatedLevel3 : formatedLevel2;\n\t\t\t\t}\n\n\t\t\t\t//PL: Fashion\n\t\t\t\tif(formatedLevel1 == "fashion" || formatedLevel1 == "collections"){\n\t\t\t\t\tdataLayerInfo.pageLevel1 = "fashion";\n\t\t\t\t\tdataLayerInfo.pageLevel2 = formatedLevel1 == "collections" ? formatedLevel1 : formatedLevel2;\n\t\t\t\t\tdataLayerInfo.pageLevel3 = formatedLevel1 == "collections" ? formatedLevel2 : formatedLevel3;\n\t\t\t\t}\n\n\t\t\t\t//PL: Accessories\n\t\t\t\tif((formatedLevel1 == "accessories") || (formatedLevel1 == "gifts") ||\n\t\t\t\t(/face_masks|socks_gloves_accessories|home_and_office|electronics|fanworld|souveniers|fanworld_gifts_executive_gifts|adidas_training_accessories/.test(formatedLevel1))){\n\t\t\t\t\tdataLayerInfo.pageLevel1 = "accessories";\n\n\t\t\t\t\tif(/face_masks|socks_gloves_accessories|home_and_office|electronics|fanworld|souveniers|fanworld_gifts_executive_gifts|adidas_training_accessories/.test(formatedLevel1)){\n\t\t\t\t\t\tdataLayerInfo.pageLevel2 = formatedLevel1;\n\t\t\t\t\t\tdataLayerInfo.pageLevel3 = formatedLevel2;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t/*if(/hats|wallets|jewelery|bags|drinkware|toys|pet_merch|scarves|collectibles|gloves/.test(formatedLevel2)){\n\t\t\t\t\t\tdataLayerInfo.pageLevel2 = formatedLevel2;\n\t\t\t\t\t\tdataLayerInfo.pageLevel3 = formatedLevel3;\n\t\t\t\t\t}*/\n\n\t\t\t\t\tif(/accessories/.test(formatedLevel2)){\n\t\t\t\t\t\tdataLayerInfo.pageLevel2 = formatedLevel3;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n                //PL: Gift Guide\n\t\t\t\tif(formatedLevel1 == "content" && formatedLevel2 == "gifting"){\n\t\t\t\t\tdataLayerInfo.pageLevel1 = "gift_guide";\n\t\t\t\t}\n\n\t\t\t\t//PL: Sale\n\t\t\t\tif(formatedLevel1 == "sale"){\n\t\t\t\t\tdataLayerInfo.pageLevel1 = "sale";\n\t\t\t\t}\n\t\t\t\n\n\t\t\t\tdataLayerInfo.pageType = "product_list";\n\t\t\t\tcategoriesCalculated = true;\n\t\t\t}\n\n\t\t\t//Product Detail\n\t\t\tif (formatedLevel1 == "product") {\n\t\t\t\tdataLayerInfo.pageLevel1 = formatedLevel2.split("_")[0]; //id_product, preguntar por esto\n\t\t\t\tdataLayerInfo.pageType = "product_detail";\n\t\t\t\tcategoriesCalculated = true;\n\t\t\t}\n\n\t\t\t//Search\n\t\t\tif (formatedLevel1 == "search") {\n\t\t\t\tdataLayerInfo.pageLevel1 = "search";\n\t\t\t\tdataLayerInfo.pageType = "search";\n\t\t\t\tcategoriesCalculated = true;\n\t\t\t}\n\n\t\t\t//Info\n\t\t\tif(formatedLevel1 == "content" && /how_to_order|returns_and_refunds|track_my_order/.test(formatedLevel2)){\n\t\t\t\tdataLayerInfo.pageLevel1 = "info";\n\t\t\t\tdataLayerInfo.pageLevel2 = formatedLevel2;\n\t\t\t\tdataLayerInfo.pageType = "info";\n\t\t\t\tcategoriesCalculated = true;\n\t\t\t}\n\n\t\t\t//Legal\n\t\t\tif(formatedLevel1 == "content" && /privacy_policy|cookie_policy|terms_and_conditions/.test(formatedLevel2)){\n\t\t\t\tdataLayerInfo.pageLevel1 = "legal";\n\t\t\t\tdataLayerInfo.pageLevel2 = formatedLevel2;\n\t\t\t\tdataLayerInfo.pageType = "legal";\n\t\t\t\tcategoriesCalculated = true;\n\t\t\t}\n\n\t\t\t//Help\n\t\t\tif(formatedLevel1 == "content" && /contact_us|support|accessibility/.test(formatedLevel2)){\n\t\t\t\tdataLayerInfo.pageLevel1 = "help";\n\t\t\t\tdataLayerInfo.pageLevel2 = formatedLevel2;\n\t\t\t\tdataLayerInfo.pageType = "help";\n\t\t\t\tcategoriesCalculated = true;\n\t\t\t}\n\n\t\t\t//Checkout\n\t\t\tif(pagePathFormated.indexOf("/checkout") > -1 && pagePathFormated.indexOf("/checkout/confirmation") == -1){\n\t\t\t\tdataLayerInfo.pageLevel1 = "checkout";\n\t\t\t\tdataLayerInfo.pageLevel2 = "";\n\t\t\t\tdataLayerInfo.pageType = "checkout";\n\t\t\t\tcategoriesCalculated = true;\n\t\t\t}\n\n\n\t\t\t//Thankyou Page\n\t\t\tif(pagePathFormated.indexOf("/checkout/confirmation") > -1){\n\t\t\t\tdataLayerInfo.pageLevel1 = "checkout";\n\t\t\t\tdataLayerInfo.pageLevel2 = "confirmation";\n\t\t\t\tdataLayerInfo.pageType = "checkout";\n\t\t\t\tcategoriesCalculated = true;\n\t\t\t}\n\n\t\t\t//Profile Area\n\t\t\tif(formatedLevel1 == "account"){\n\t\t\t\tdataLayerInfo.pageLevel1 = "profile_area";\n\t\t\t\tdataLayerInfo.pageType = "profile_area";\n\t\t\t\tcategoriesCalculated = true;\n\t\t\t}\n\n\n\t\t\t//C\xe1lculo de secciones por defecto\n\t\t\tif(!categoriesCalculated){\n\n                //P\xe1ginas 404\n                const spans404 = document.querySelectorAll(\'nav span\');\n                let is404 = Array.from(spans404).some(span => span.textContent.includes("404"));\n\n                if (is404) {\n                    dataLayerInfo.pageLevel1 = "error_404";\n                    dataLayerInfo.pageType = "error";\n                } else {\n                    //Resto de p\xe1ginas\n                    dataLayerInfo.pageLevel1 = formatedLevel1;\n                    dataLayerInfo.pageLevel2 = formatedLevel2;\n                    dataLayerInfo.pageLevel3 = formatedLevel3;\n                    dataLayerInfo.pageLevel4 = formatedLevel4;\n                }\n\t\t\t}\n\n\t\t\t//PageLang, Country y Currency\n\t\t\tconst langMatch = regExpSections[1].match(/([a-z]{2}-[a-z]{2})/i);\n\t\t\tlet pageLang = "", country = "", currency = "";\n\n\t\t\tif(langMatch){\n\t\t\t\tconst codes = langMatch[1].split("-");\n\t\t\t\tlet langCode = codes[0].toLocaleLowerCase();\n        \t\tlet countryCode = codes[1].toLocaleLowerCase();\n\n\t\t\t\tif(/es|fr|de|pt/.test(countryCode)){\n\t\t\t\t\tcountry = "EU";\n\t\t\t\t\tcurrency = "EUR";\n\t\t\t\t}else if(/us|mx|ca/.test(countryCode)){\n\t\t\t\t\tcountry = "US";\n\t\t\t\t\tcurrency = "USD";\n\t\t\t\t}else if(/gb/.test(countryCode)){\n\t\t\t\t\tcountry = "UK";\n\t\t\t\t\tcurrency = "GBP";\n\t\t\t\t}else if(/au/.test(countryCode)){\n\t\t\t\t\tcountry = "AU";\n\t\t\t\t\tcurrency = "AUD";\n\t\t\t\t}else if(/kr/.test(countryCode)){\n\t\t\t\t\tcountry = "KR";\n\t\t\t\t\tcurrency = "KRW";\n\t\t\t\t}else if(/jp/.test(countryCode)){\n\t\t\t\t\tcountry = "JP";\n\t\t\t\t\tcurrency = "JPY";\n\t\t\t\t}else if(/cn/.test(countryCode)){\n\t\t\t\t\tcountry = "CN";\n\t\t\t\t\tcurrency = "CNY";\n\t\t\t\t}\n\n\t\t\t\tpageLang = langCode;\n\t\t\t\t\n\t\t\t}\n\n\t\t\tdataLayerInfo.pageLang = (dataLayerInfo.pageLang !== "" && dataLayerInfo.pageLang.toLocaleLowerCase() == "default") ? "es" : (pageLang != "" ? pageLang : "es");\n\t\t\tdataLayerInfo.country = country != "" ? country : "EU";\n\t\t\tdataLayerInfo.currency = currency != "" ? currency : "EUR";\n\n\t\t\t//PageName\n\t\t\tvar pageLevelsList = [dataLayerInfo.pageSection, dataLayerInfo.pageLevel1, dataLayerInfo.pageLevel2, dataLayerInfo.pageLevel3, dataLayerInfo.pageLevel4];\n\t\t\tvar pageName = [];\n\n\t\t\tfor(const level of pageLevelsList)\n\t\t\t\tif(level !== "")\n\t\t\t\t\tpageName.push(level);\n\n\t\t\tdataLayerInfo.pageName = pageName.join(":");\t\n\n\n\t\t\treturn dataLayerInfo;\n\t\t},\n\t\t/**\n        * Funci\xf3n que actualiza los valores espec\xedficos del objeto adobeDataLayer con los datos proporcionados,\n        * @param {object} data - Objeto que contiene los datos a actualizar en el dataLayer.\n        * @param asyncPV boolean que indica si la p\xe1gina carg\xf3 de forma secuencial o SPA\n        * @returns {object} - Objeto actualizado con los valores proporcionados o los valores\n        *                    almacenados en Launch en caso de que los datos no est\xe9n presentes.\n        */\n        updateDataLayerInfo: function (data, asyncPV) {\n\n        \tvar pageLoadType = typeof asyncPV == "undefined" || asyncPV === "sequential" ? "sequential" : "spa";\n\n        \t//Marcado de p\xe1gina vista\n\t\t\tadobeDataLayer.push({\n\t\t\t\t"event": "pageLoad",\n\t\t\t\t"webPageDetails":{\n\t\t\t\t\t"pageName": data.hasOwnProperty("pageName") ? data.pageName : (location.host + location.href.replace(/http.?:\\/\\/[^\\/]*/, "").replace(/[\\?].*?$/g, "")),\n\t\t\t\t\t"pageChannel": "web",\n\t\t\t\t\t"pageURL": location.href,\n\t\t\t\t\t"pageMoment": data.hasOwnProperty("pageMoment") ? data.pageMoment : "",\n\t\t\t\t\t"pageSection": data.hasOwnProperty("pageSection") ? data.pageSection : "",\n\t\t\t\t\t"pageLevel1": data.hasOwnProperty("pageLevel1") ? data.pageLevel1 : "",\n\t\t\t\t\t"pageLevel2": data.hasOwnProperty("pageLevel2") ? data.pageLevel2 : "",\n\t\t\t\t\t"pageLevel3": data.hasOwnProperty("pageLevel3") ? data.pageLevel3 : "",\n\t\t\t\t\t"pageLevel4": data.hasOwnProperty("pageLevel4") ? data.pageLevel4 : "",\n\t\t\t\t\t"pageType": data.hasOwnProperty("pageType") ? data.pageType : "",\n\t\t\t\t\t"pagePath": data.hasOwnProperty("pagePath") ? data.pagePath : location.pathname,\n\t\t\t\t\t"pageTopDomain": data.hasOwnProperty("pageTopDomain") ? data.pageTopDomain : location.host.substr(location.host.lastIndexOf(".")),\n\t\t\t\t\t"pageDomain": data.hasOwnProperty("pageDomain") ? data.pageDomain : location.hostname,\n\t\t\t\t\t"pageAnchor": data.hasOwnProperty("pageAnchor") ? data.pageAnchor : location.hash,\n\t\t\t\t\t"pageTitle": document.title,\n\t\t\t\t\t"pageLoadType": pageLoadType,\n\t\t\t\t\t"currency": data.hasOwnProperty("currency") ? data.currency : "EUR",\n\t\t\t\t\t"cms": data.hasOwnProperty("cms") ? data.cms : "",\n\t\t\t\t\t"pageLang": data.hasOwnProperty("pageLang") ? data.pageLang : "",\n\t\t\t\t\t"newsName": data.hasOwnProperty("newsName") ? data.newsName : "",\n\t\t\t\t\t"newsTitle": data.hasOwnProperty("newsTitle") ? data.newsTitle : "",\n\t\t\t\t\t"newsUrl": data.hasOwnProperty("newsUrl") ? data.newsUrl : "",\n\t\t\t\t\t"newsAuthor": data.hasOwnProperty("newsAuthor") ? data.newsAuthor : "",\n\t\t\t\t\t"newsCategory": data.hasOwnProperty("newsCategory") ? data.newsCategory : "",\n\t\t\t\t\t"newsType": data.hasOwnProperty("newsType") ? data.newsType : "",\n\t\t\t\t\t"country": data.hasOwnProperty("country") ? data.country : "",\n\t\t\t\t\t"matchTournament": data.hasOwnProperty("matchTournament") ? data.matchTournament : "",\n\t\t\t\t\t"matchTitle": data.hasOwnProperty("matchTitle") ? data.matchTitle : "",\n\t\t\t\t\t"canonicalURL": data.hasOwnProperty("canonicalURL") ? data.canonicalURL : _satellite.getVar("dataLayer:webPageDetails:canonicalURL"),\n\t\t\t\t\t"canonicalURLValid": data.hasOwnProperty("canonicalURLValid") ? data.canonicalURLValid : _satellite.getVar("dataLayer:webPageDetails:canonicalURLValid"),\n\t\t\t\t\t"userAgent": data.hasOwnProperty("userAgent") ? data.userAgent : ""\n\t\t\t\t},\n\t\t\t\t"webReferrer":{\n\t\t\t\t\t"previousPagePath": data.hasOwnProperty("previousPagePath") ? data.previousPagePath : location.href.replace(/http.?:\\/\\/[^\\/]*/, "").replace(/[\\?#].*?$/g, ""),\n\t\t\t\t\t"previousName": "",\n\t\t\t\t\t"previousPageURL": data.hasOwnProperty("previousPageURL") ? data.previousPageURL : document.referrer,\n\t\t\t\t\t"referrer": data.hasOwnProperty("previousPageURL") ? data.previousPageURL : document.referrer,\n\t\t\t\t},\n\t\t\t\t"user":{\n\t\t\t\t\t"userLoginStatus": data.hasOwnProperty("userLoginStatus") ? data.userLoginStatus : "",\n\t\t\t\t\t"userLoyaltyStatus": data.hasOwnProperty("userLoyaltyStatus") ? data.userLoyaltyStatus : "",\n\t\t\t\t\t"userAge": data.hasOwnProperty("userLoginStatus") ? data.userAge : "",\n\t\t\t\t\t"userGender": data.hasOwnProperty("userLoginStatus") ? data.userGender : "",\n\t\t\t\t\t"userCategory": data.hasOwnProperty("userCategory") ? data.userCategory : "",\n\t\t\t\t\t"hashedEmail": data.hasOwnProperty("hashedEmail") ? data.hashedEmail : "",\n\t\t\t\t\t"hashedPhone": data.hasOwnProperty("hashedPhone") ? data.hashedPhone : "",\n\t\t\t\t\t"externalID": data.hasOwnProperty("externalID") ? data.externalID : "",\n\t\t\t\t\t"currentCartTotal": data.hasOwnProperty("currentCartTotal") ? data.currentCartTotal : "",\n\t\t\t\t\t"currentCart": data.hasOwnProperty("currentCart") ? data.currentCart : []\n\t\t\t\t},\n\t\t\t\t"campaign":{\n\t\t\t\t\t"campaignID": _satellite.getVar("queryParam:utm_campaign"),\n\t\t\t\t\t"campaignSource": _satellite.getVar("queryParam:utm_source"),\n\t\t\t\t\t"campaignMedium": _satellite.getVar("queryParam:utm_medium"),\n\t\t\t\t\t"campaignContent": _satellite.getVar("queryParam:utm_content"),\n\t\t\t\t\t"intCampaign": _satellite.getVar("queryParam:intcid")\n\t\t\t\t},\n\t\t\t\t"identification":{\n\t\t\t\t\t"idpID": data.hasOwnProperty("idpID") ? data.idpID : ""\n\t\t\t\t}\n\t\t\t});\n        },\n\t\t/**\n\t\t* Funci\xf3n auxiliar usada desde getDataLayerInfo para autocalcular la informaci\xf3n de la sesi\xf3n de usuario a trav\xe9s de la cookie "usuario"\n\t\t* @return object datos del usuario, en caso de no tener sesi\xf3n devuelve los valores por defecto\n\t\t**/\n\t\tgetUserInfo: function(){\n\t\t  \n\t\t\tvar userInfo = {\n\t\t\t\t"userLoginStatus": "not_authenticated",\n\t\t\t\t"userLoyaltyStatus": "",\n\t\t\t\t"userAge": "",\n\t\t\t\t"userType": "",\n\t\t\t\t"idpID": "",\n\t\t\t\t"userGender": "",\n\t\t\t\t"hashedEmail": "",\n\t\t\t\t"externalID": "",\n\t\t\t\t"hashedPhone": "",\n\t\t\t\t"currentCartTotal": "",\n\t\t\t\t"currentCart": []\n\t\t\t}\n\n\t\t\t//Recuperamos los datos de usuario del Data Layer de Google\n\t\t\tvar userDataFound = false;\n\t\t\tvar userData = {};\n\n\t\t\tvar lsData = JSON.parse(RMTagManager.utils.localStorage.getItem("blTokenCache", false));\n\n            if (lsData !== null && Array.isArray(lsData) && typeof lsData[0] !== "undefined") {\n\n\t\t\t\tfor(var i = 0; i<lsData[0].length; i++){\n\t\t\t\t\tif(lsData[0][i].hasOwnProperty("entry")){\n\t\t\t\t\t\tuserData = lsData[0][1];\n\t\t\t\t\t\tuserDataFound = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (userDataFound) {\n\n\t\t\t\t\t//idpID\n\t\t\t\t\tuserInfo.idpID = RMTagManager.utils.existsObjectProperty(userData, ["entry", "accessToken", "external_id"]) ? userData.entry.accessToken.external_id : "";\n\n\t\t\t\t\t//userLoginStatus\n\t\t\t\t\tuserInfo.userLoginStatus = userInfo.idpID !== "" ? "authenticated" : "not_authenticated";\n\n\t\t\t\t\t//hashedEmail\n\t\t\t\t\tuserInfo.hashedEmail = RMTagManager.utils.existsObjectProperty(userData, ["entry", "accessToken", "email_address"]) ? RMTagManager.utils.sha256(userData.entry.accessToken.email_address) : "";\n\n\t\t\t\t\t//userLoyaltyStatus\n                    var access_token = RMTagManager.utils.existsObjectProperty(userData, ["entry", "accessToken", "access_token"]) ? RMTagManager.utils.parseJwt(userData.entry.accessToken.access_token) : {};\n                    var fanType = access_token.hasOwnProperty("fanType") ? access_token.fanType : "";\n\t\t\t\t\tuserInfo.userLoyaltyStatus = access_token.hasOwnProperty("tier") ? access_token.tier : "";\n\n                    if (userInfo.userLoyaltyStatus == "socio") {\n                        userInfo.userLoyaltyStatus = "member";\n                    } else if (userInfo.userLoyaltyStatus == "madridista_free" && fanType == "employee") {\n                        userInfo.userLoyaltyStatus = "employee";\n                    }\n\n\t\t\t\t}\n            }\n\n            //adobeUserID\n\t\t\tthis.getUserECID();\n\n\t\t\treturn userInfo;\t\t \n\t\t},\n        /**\n\t\t* Funci\xf3n para la sincronizaci\xf3n con el objeto de OneTrust\n\t\t* Si las dependencias est\xe1n ya cargadas, ejecutamos el callback inmediatamente, si no es as\xed arrancamos un interval cada 100 ms para esperarlos, esperamos un m\xe1ximo de 5 segundos.\n\t\t* @param callback function funci\xf3n a ejecutar cuando la sesi\xf3n es recuperada\n\t\t**/\n\t\twaitForDependences: function(callback){\n\n            if(typeof callback != "function")\n\t\t\t\treturn false;\n\n\t\t\t//Si OneTrust ya est\xe1 activo ejecutamos inmediatamente el callback\n            if(RMTagManager.consents.isLoaded() === true){\n            \tcallback.call();\n            //Si a\xfan no est\xe1, arrancamos un interval de un m\xe1ximo de 5 segundos para esperarlos\n            }else{\n            \tvar intervalLimit = 50000;\n\t\t\t    var intervalCounter = 0;\n\t\t\t    var intervalIncrement = 100;\n\n\t\t\t    var intervalID = setInterval(function(){\n\n\t\t\t    \tRMTagManager.dependencesDelay += 100;\n\t\t\t        \n\t\t\t        var sessionFound = RMTagManager.consents.isLoaded() === true;\n\t                    \n\t\t\t        if(sessionFound){\n\t\t\t        \tcallback.call();\n\t                    clearInterval(intervalID);\n\t\t\t        }else{\n\t\t\t            \n\t\t\t            intervalCounter += intervalIncrement;\n\n\t\t\t\t\t\tif(intervalCounter > intervalLimit){\n\t\t\t\t            clearInterval(intervalID);\n\t\t                    callback.call();\n\t\t                }\n\t\t\t        }\n\t\t\t        \n\t\t\t    }, intervalIncrement);\n            }\t\t    \n        },\n\t\t/**\n\t\t* Funci\xf3n que extrae informaci\xf3n de una URL pasada por par\xe1metro\n\t\t* Devolver\xe1 los valores: pageURL (URL completa), pageAnchor (Ancla), pagePath (path), pageDomain (dominio completo), topDomain (dominio principal .com)\n\t\t* @param url URL completa\n\t\t* @return object con la informaci\xf3n extra\xedda\n\t\t**/\n        getUrlInfo: function(url){\n          \n\t\t\tvar urlInfo = {\n\t\t\t\t"pagePath": "",\n\t\t\t\t"pageTopDomain": "",\n\t\t\t\t"pageDomain": "",\n\t\t\t\t"pageURL": "",\n\t\t\t\t"pageAnchor": "",\n\t\t\t\t"viewName": ""\n\t\t\t};\n\n\t\t\tif(typeof url == "undefined" || url == "")\n\t\t\t\treturn urlInfo;\n\n\t\t\tvar domain = /http.?:\\/\\/([^\\/]*)/.exec(url);\n\n\t\t\t//URLs incorrectas\n\t\t\tif(!domain)\n\t\t\t\treturn urlInfo;\n\n\t\t\turlInfo.pageURL = url;\n\t\t\turlInfo.pagePath = url.replace(/http.?:\\/\\/[^\\/]*/, "").replace(/[\\?#].*?$/g, "");\n\t\t\turlInfo.pageDomain = domain != null ? domain[1] : location.host;\n\t\t\turlInfo.pageTopDomain = domain != null ? domain[1].substr(location.host.lastIndexOf(".")) : location.host.substr(location.host.lastIndexOf("."));\n\t\t\turlInfo.pageAnchor = (url.indexOf("#") != -1) ? url.substr(url.indexOf("#") + 1).replace(/[\\?].*?$/g, "") : "";\n\t\t\turlInfo.viewName = urlInfo.pagePath;\n\t\t\t\n\t\t\treturn urlInfo;\n        },\n        /**\n        * Funci\xf3n para obtener la URL canonical de la p\xe1gina.\n        * Itera sobre los elementos <link> del documento y busca el que tiene el atributo \'rel\' con el valor \'canonical\'.\n        * Si encuentra un enlace con el atributo \'rel\' igual a \'canonical\', devuelve su URL.\n        * Si no se encuentra ninguna URL canonical, devuelve null.\n        * @return {string|null} La URL canonical de la p\xe1gina o null si no se encuentra.\n        */\n        getCanonicalURL: function () {\n            var canonicalLink = document.querySelector("link[rel=\'canonical\']");\n            if (canonicalLink) {\n                return canonicalLink.getAttribute(\'href\');\n            }\n            return null; // Si no se encuentra ninguna URL canonical\n        },\n        /**\n        * Funci\xf3n que calcula un identificador \xfanico de evento.\n        * Se calcula concatenando un timestamp, un random y el ECID del usuario mediante "_" y codificandolo a sha256.\n        * @return eventID string\n        **/\n        getEventID: function(){\n\n        \t// Valor de prueba para adobeUserID\n\t\t\tvar adobeUserID = RMTagManager.adobeUserID;\n\n\t\t\t// Obtener el timestamp actual en milisegundos\n\t\t\tvar timestamp = Date.now().toString();\n\n\t\t\t// Generar un n\xfamero aleatorio de 8 d\xedgitos\n\t\t\tvar randomNum = Math.floor(10000000 + Math.random() * 90000000).toString();\n\n\t\t\t// Concatenar timestamp, n\xfamero aleatorio y adobeUserID\n\t\t\tvar concatenatedString = timestamp + "_" + randomNum + (adobeUserID != "" ? ("_" + adobeUserID) : "");\n\n\t\t\t// Hashear la cadena concatenada utilizando la funci\xf3n encoder\n\t\t\tvar eventID = RMTagManager.utils.sha256(concatenatedString);\n\n\t\t\tRMTagManager.eventID = eventID;\n\n\t\t\treturn eventID;\n        },\n        /**\n        * Funci\xf3n que recupera el ECID (identificador de Adobe) haciendo uso del objeto alloy\n        * Funci\xf3n as\xedncrona, el valor se recupera mediante Promise.\n        * Lo dejamos en una property del obketo RMTagManager\n        **/\n        getUserECID: function(){\n\n        \tif(typeof alloy != "undefined"){\n        \t \t\n        \t \talloy("getIdentity").then(function(result) {\n        \t \t\tRMTagManager.adobeUserID = result.identity.ECID;\n        \t \t});\n\n        \t}\n        },\n\t\t/**\n \t\t* Funci\xf3n para calcular el array de productos para productListItems a partir del listado de GTM proporcionado por par\xe1metro\n \t\t* @param gtmProducts array de productos extra\xeddo del dataLayer de Google\n \t\t* @param event el tipo de evento que puede alterar la inclusi\xf3n de ciertos datos\n \t\t* @return array listado de productos para productListItems con formato para Adobe\n \t\t**/\n\t\tgetProductListItems: function (gtmProducts, event) {\n\t\t\tconst processProduct = (product) => {\n\n\t\t\t\t// Precio unitario\n\t\t\t\tvar priceUnit = 0;\n\t\t\t\tif (product.hasOwnProperty("value")) {\n\t\t\t\t\tpriceUnit = parseFloat(product.value);\n\t\t\t\t} else if (product.hasOwnProperty("price")) {\n\t\t\t\t\tpriceUnit = parseFloat(product.price);\n\t\t\t\t}\n\n\t\t\t\t// Cantidad, valor por defecto es 1\n\t\t\t\tconst quantity = product.hasOwnProperty("quantity") ? parseInt(product.quantity) : 1;\n\t\t\t\t// SKU del producto, ajustado para eliminar los \xfaltimos dos caracteres (talla) Excepto en productView\n\t\t\t\tconst productID = product.hasOwnProperty("item_variant") ? (event == "productView" ? product.item_variant.toUpperCase() : product.item_variant.slice(0, -2).toUpperCase()) : "";\n\t\t\t\t// ID de la lista de productos, tomado directamente del producto si disponible\n\t\t\t\tconst productItemListID = product.hasOwnProperty("productID") ? product.productID : "";\n\t\t\t\t// C\xe1lculo del precio total, considerando la cantidad\n\t\t\t\tconst priceTotal = quantity > 1 ? (priceUnit * quantity) : priceUnit;\n\t\t\t\t// C\xf3digo de la moneda, predeterminado a EUR si no est\xe1 especificado\n\t\t\t\tconst currencyCode = (product.hasOwnProperty("currency") && event !== "purchase") ? product.currency : _satellite.getVar("dataLayer:webPageDetails:currency");\n\t\t\t\t// Nombre del producto\n\t\t\t\tconst productName = product.hasOwnProperty("item_name") ? product.item_name : "";\n\t\t\t\t// Marca del producto\n\t\t\t\tconst productBrand = product.hasOwnProperty("brand") ? RMTagManager.utils.formatDataLayerParam(product.brand) : "";\n\t\t\t\t// Categor\xeda del producto\n\t\t\t\tconst productCategory = product.hasOwnProperty("category") ? RMTagManager.utils.formatDataLayerParam(product.category) : "";\n\t\t\t\t// Valor de la promoci\xf3n del producto, si aplica\n\t\t\t\tconst productPromotionValue = product.hasOwnProperty("discount") ? parseFloat(product.discount) : "";\n\t\t\t\t// Variables de personalizaci\xf3n del producto\n\t\t\t\tconst personalizationVars = product.hasOwnProperty("personalizationVars") ? product.personalizationVars : {};\n\n                //Calculamos la talla solo en equipaciones\n\n                // Extraer los dos \xfaltimos caracteres de item_variant\n                const sizeKey = product.hasOwnProperty("item_variant") ? product.item_variant.slice(-2) : "";\n\n                const jerseySizes = {\n                    "00": "XXS",\n                    "01": "XS",\n                    "02": "S",\n                    "03": "M",\n                    "04": "L",\n                    "05": "XL",\n                    "06": "2XL",\n                    "07": "3XL"\n                }\n\n                const jerseyYouthSizes = {\n                    "11": "128",\n                    "12": "140",\n                    "13": "152",\n                    "14": "164",\n                    "15": "176"\n                }\n\n                const jerseyInfantSizes = {\n                    "05": "86",\n                    "06": "92",\n                    "07": "98",\n                    "08": "104",\n                    "09": "110",\n                    "10": "116",\n                    "11": "128"\n                }\n\n                const sockSizes = {\n                    "00": "KIDS_XXL",\n                    "01": "XS",\n                    "02": "S",\n                    "03": "M",\n                    "04": "L",\n                    "05": "XL",\n                    "06": "2XL",\n                    "07": "3XL"\n                }\n\n                const lcProductName = productName.toLowerCase();\n\n                const getProductSize = (sizeKey) => {\n                    if (/jersey|kit|shorts|mens|womens/.test(lcProductName) && !/youth/.test(lcProductName) && !/infant/.test(lcProductName)) {\n                        // Equipaci\xf3n adultos\n                        return jerseySizes[sizeKey];\n                    } else if (/jersey|kit/.test(lcProductName) && /youth/.test(lcProductName)) {\n                        // Equipaci\xf3n ni\xf1os\n                        return jerseyYouthSizes[sizeKey];\n                    } else if (/jersey|kit/.test(lcProductName) && /infant/.test(lcProductName)) {\n                        // Equipaci\xf3n infantil\n                        return jerseyInfantSizes[sizeKey];\n                    } else if (/socks/.test(lcProductName)) {\n                        // Medias\n                        return sockSizes[sizeKey];\n                    } else if (/scarf|bag/.test(lcProductName)) {\n                        // Accesorios\n                        return "U";\n                    } else {\n                        return ""; // Si no coincide con ninguna categor\xeda\n                    }\n                };\n        \n                const productSize = getProductSize(sizeKey);\n\n\n\t\t\t\tlet productInfo = {\n\t\t\t\t\tSKU: productID,\n\t\t\t\t\t_id: productID,\n\t\t\t\t\tname: productName,\n\t\t\t\t\tpriceTotal: priceTotal,\n\t\t\t\t\tcurrencyCode: currencyCode,\n\t\t\t\t\t_realmadrid: {\n\t\t\t\t\t\tproductBrand: productBrand,\n\t\t\t\t\t\t//productSize: personalizationVars.hasOwnProperty("productSize") ? personalizationVars.productSize : "",\n                        productSize: productSize,\n\t\t\t\t\t\tproductPersonalization: personalizationVars.hasOwnProperty("productPersonalization") ? personalizationVars.productPersonalization : "",\n\t\t\t\t\t\tproductBadge: personalizationVars.hasOwnProperty("productBadge") ? personalizationVars.productBadge : "",\n\t\t\t\t\t\tproductCategory: productCategory,\n\t\t\t\t\t\tproductPromotionID: "",\n\t\t\t\t\t\tproductPromotionValue: productPromotionValue,\n\t\t\t\t\t\tproductItemListID: productItemListID,\n\t\t\t\t\t\tproductItemListName: productItemListID,\n\t\t\t\t\t\tSKU: productID,\n\t\t\t\t\t\t_id: productID,\n\t\t\t\t\t\tname: productName,\n\t\t\t\t\t\tpriceTotal: priceTotal,\n\t\t\t\t\t\tprice: priceUnit,\n\t\t\t\t\t\tcurrencyCode: currencyCode\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Excluir quantity para eventos espec\xedficos, solo si el evento est\xe1 definido y coincide\n\t\t\t\tif (event !== "productView" & event !== "productSelection") {\n\t\t\t\t\tproductInfo.quantity = quantity;\n\t\t\t\t\tproductInfo._realmadrid.quantity = quantity;\n\t\t\t\t}\n\n\t\t\t\treturn productInfo;\n\t\t\t};\n\n\t\t\tif (Array.isArray(gtmProducts)) {\n\t\t\t\treturn gtmProducts.map(processProduct);\n\t\t\t} else if (typeof gtmProducts === \'object\') {\n\t\t\t\treturn [processProduct(gtmProducts)];\n\t\t\t} else {\n\t\t\t\t_satellite.logger.error(\'El par\xe1metro gtmProducts no es un objeto ni un array v\xe1lido.\');\n\t\t\t\treturn [];\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n que setea en el sessionStorage las listas de selecci\xf3n calculadas en el evento de selectedItem\n\t\t* @param productID string ID del producto a almacenar su la lista del sessionStorage\n\t\t* @param productItemListID string nombre de la lista donde se seleccion\xf3 el producto\n\t\t**/\n\t\tsetProductItemListID: function(productID, productItemListID){\n\n\t\t\tvar itemName = "adb_selectItem";\n\t\t\t\t\n\t\t\tvar ssSelectedItem = RMTagManager.utils.localStorage.getItem(itemName, true);\n\t\t\tvar ssSelectedItemJSON = (ssSelectedItem != null) ? RMTagManager.utils.parseJSON(ssSelectedItem) : {};\n\t\t\tssSelectedItemJSON[productID] = productItemListID != "" ? productItemListID : "direct";\n\n\t\t\t//Seteamos en sessionStorage\n\t\t\tRMTagManager.utils.localStorage.setItem(itemName, RMTagManager.utils.stringifyJSON(ssSelectedItemJSON), true);\n\t\t},\n\t\t/**\n        * Funci\xf3n para calcular las variables de personalizaci\xf3n de producto a partir del dato extra\xeddo desde el dataLayer de Google\n        * @param variant string con la personalizaci\xf3n extra\xedda del dataLayer de Google\n        * @return object con las diferentes variables de personalizaci\xf3n en formato Adobe\n        **/\n\t\tgetPersonalizationVars: function(personalization){\n\n\t\t\treturn {\n\t\t\t\tproductSize: variantSlice,\n\t\t\t\tproductBadge:  "", \n\t\t\t\tproductPersonalization: ""\n\t\t\t}\n\t\t},\n        /**\n\t\t* Funci\xf3n que calcula los valores de la URL anterior\n\t\t* Depender\xe1 de si la p\xe1gina cargada lo ha hecho de forma secuencial o por SPA\n\t\t* Si lo ha hecho de forma secuencial se extraer\xe1 la informaci\xf3n del document.referrer\n\t\t* Si lo ha hecho por SPA se extraer\xe1 del propio Data Layer, se recoge la \xfaltima URL marcada\n\t\t* @param pageLoadType string con el tipo de carga de p\xe1gina: "sequential" (por defecto) o "spa"\n\t\t* @return object con la informaci\xf3n sobre la URL previa: previousPagePath, previousPageURL y previousPageName (solo para SPA)\n\t\t**/\n\t\tgetReferrerInfo: function (pageLoadType) {\n\n\t\t\tvar previousPageURL = "";\n\t\t\tvar referrerInfo = {};\n\t\t\tvar previousName = "";\n\t\t\tvar previousPagePath = "";\n\n\t\t\tvar referrer = document.referrer;\n\t\t\tvar referrerDomain = RMTagManager.dataLayer.getUrlInfo(referrer).baseDomain;\n\t\t\tvar currentDomain = RMTagManager.dataLayer.getUrlInfo(location.href).baseDomain;\n\n\t\t\t//Secuencial, se toma el document.referrer\n\t\t\tif ((typeof pageLoadType == "undefined" || pageLoadType === "sequential") && !RMTagManager.trackedPV) {\n\n\t\t\t\tpreviousPageURL = referrer;\n\n\t\t\t\tif (!referrer) {\n\t\t\t\t\t// Referer desconocido o directo (El usuario ingres\xf3 directamente la URL o la p\xe1gina est\xe1 en marcadores)\n\t\t\t\t\tpreviousPagePath = "";\n\t\t\t\t\tpreviousName = "";\n\n\t\t\t\t} else if (referrerDomain == currentDomain) {\n\t\t\t\t\t// Referer interno o subdominio\n\t\t\t\t\tpreviousPagePath = RMTagManager.dataLayer.getUrlInfo(previousPageURL).pagePath;\n\t\t\t\t\tpreviousName = RMTagManager.utils.getCookie(\'currentPageName\') !== null ? RMTagManager.utils.getCookie(\'currentPageName\') : "";\n\n\t\t\t\t} else {\n\t\t\t\t\t// Desde una p\xe1gina web externa desconocida\n\t\t\t\t\tpreviousPagePath = "";\n\t\t\t\t\tpreviousName = "";\n\t\t\t\t}\n\n\t\t\t\t//SPA, se toma la \xfaltima URL medida del Data Layer\n\t\t\t} else {\n\n\t\t\t\tpreviousPageURL = RMTagManager.utils.getCookie(\'currentPageURL\') !== null ? RMTagManager.utils.getCookie(\'currentPageURL\') : "";\n\t\t\t\tpreviousPagePath = RMTagManager.dataLayer.getUrlInfo(previousPageURL).pagePath;\n\t\t\t\tpreviousName = RMTagManager.utils.getCookie(\'currentPageName\') !== null ? RMTagManager.utils.getCookie(\'currentPageName\') : "";\n\t\t\t}\n\n\n\t\t\treferrerInfo = {\n\t\t\t\tpreviousPagePath: previousPagePath,\n\t\t\t\tpreviousName: previousName,\n\t\t\t\tpreviousPageURL: previousPageURL\n\t\t\t};\n\n\t\t\treturn referrerInfo;\n\t\t}\n\t},\n\t/**\n\t* Objeto para toda la gesti\xf3n de consentimientos y la sincronizaci\xf3n con OneTrust\n\t**/\n\tconsents: {\n\t\tstatus: "pending",\n\t\tvendor: "onetrust_externo_shop",\n\t\tapplies: _satellite.getVar("oneTrust:applies"),\n\t\tcookieBannerShowTracked: false,\n\t\tloaded: false,\n\t\t/**\n\t\t* Funci\xf3n que sincroniza con el banner de consentimientos y su carga.\n\t\t* Si ya ha cargado procedemos a hacer el setup y decidir la medici\xf3n\n\t\t* En caso contrario esperamos al evento de sicronizaci\xf3n que se hace cuando el CMP est\xe1 totalmente cargado.\n\t\t**/\n\t\tinit: function(){\n\n\t\t\tthis.loaded = this.isLoaded();\n\n\t\t\t// Si OneTrust debe cargar y ha cargado entonces medimos la p\xe1gina\n\t\t\tif(this.applies && this.loaded){\n\t\t\t\tthis.setup();\n\t\t\t//Sino, estamos en STG y marcamos a todo el mundo\n\t\t\t}else{\n\t\t\t\tthis.trackPage();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n que sincroniza con los consentimientos, en caso de que ya hayan sido dados, se pasa a marcar la p\xe1gina\n\t\t* En caso contrario se marca el evento de banner mostrado.\n\t\t* En ambos casos se a\xf1ade el listener para detectar los cambios de estado de los consentimientos.\n\t\t* @return boolean en caso de no haber cargado el CMP, void en caso contrario\n\t\t**/\n\t\tsetup: function(){\n\n\t\t\tif(!this.loaded)\n\t\t\t\treturn false;\n\n\t\t\t//Verificamos si los consentimientos ya se han aceptado o rechazado previamente\n\t\t\tif(this.isConsentsGiven()){\n\t\t\t\tthis.status = "consentsGiven";\n\t\t\t\tthis.updateDataLayerPreferences();\n\t\t\t\tthis.trackPage();\n\t\t\t//Si no es as\xed lanzamos el evento de aviso de cookies mostrado\n\t\t\t}else{\n\t\t\t\tthis.status = "pending";\n\t\t\t\tthis.updateDataLayerPreferences();\n\t\t\t\t//Si ya hab\xedamos marcado en esta p\xe1gina el aviso de cookies es que es un cambio SPA, con lo que no volvemos a medirlo\n\t\t\t\tif(!this.cookieBannerShowTracked)\n\t\t\t\t\tthis.trackConsentBannerShow();\n\n\t\t\t\tthis.trackPage();\n\t\t\t}\n\n\t\t\tthis.addUpdateConsentsListener();\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n que lee los consentimientos de los pr\xf3positos de OneTrust y los devuelve en formato string\n\t\t* Si no los encuentra en OptanonActiveGroups los busca en la cookie OptanonConsent\n\t\t* El formato siempre es: "analytics:[0|1]|social:[0|1]|personalization:[0|1]|strictlycookies:[0|1]"\n\t\t* Si no se encuentran los consentimientos, se devolver\xe1 cadena vac\xeda\n\t\t* @return string con los consentimientos formateados\n\t\t**/\n\t\tgetUserPreferences: function(){\n\n\t\t\tvar oneTrustPreferences = "not_set";\n\n\t\t\tif(this.status == "pending")\n\t\t\t\treturn oneTrustPreferences;\n\n\t\t\tif(typeof OptanonActiveGroups !== "undefined"){\n\n\t\t\t\t_satellite.logger.info("OneTrust consents readed from OptanonActiveGroups");\n\t\t\t\n\t\t\t\toneTrustPreferences = "analytics:" + (OptanonActiveGroups.indexOf("C0002") !== -1 ? "1" : "0");\n\t\t\t\toneTrustPreferences += "|social:" + (OptanonActiveGroups.indexOf("C0005") !== -1 ? "1" : "0");\n\t\t\t\toneTrustPreferences += "|personalization:" + (OptanonActiveGroups.indexOf("C0004") !== -1 ? "1" : "0");\n\t\t\t\toneTrustPreferences += "|strictlycookies:" + (OptanonActiveGroups.indexOf("C0001") !== -1 ? "1" : "0");\n\n\t\t\t//Si los consentimientos ya est\xe1n fijados v\xeda cookie, los recogemos directamente y no esperamos\n\t\t\t}else if(RMTagManager.utils.getCookie("OptanonConsent") != null){\n\n\t\t    \t_satellite.logger.info("OneTrust consents readed from cookie");\n\n\t\t    \tvar cookieConsents = decodeURIComponent(RMTagManager.utils.getCookie("OptanonConsent"));\n\t\t    \tvar consentsRegExp = /groups\\=([^\\&]*)\\&?/ig.exec(cookieConsents);\n\n\t\t    \tif(consentsRegExp != null){\n\t\t    \t\tcookieConsents = consentsRegExp[1];\n\n\t\t    \t\toneTrustPreferences = "analytics:" + (cookieConsents.indexOf("C0002:1") !== -1 ? "1" : "0");\n\t\t\t\t\toneTrustPreferences += "|social:" + (cookieConsents.indexOf("C0005:1") !== -1 ? "1" : "0");\n\t\t\t\t\toneTrustPreferences += "|personalization:" + (cookieConsents.indexOf("C0004:1") !== -1 ? "1" : "0");\n\t\t\t\t\toneTrustPreferences += "|strictlycookies:" + (cookieConsents.indexOf("C0001:1") !== -1 ? "1" : "0");\n\t\t    \t}\n\n\t\t\t}\t\n\n\t\t\treturn oneTrustPreferences;\n\t\t},\n\t\tgetGDPRStatus: function(preferences){\n\n\t\t\tif(typeof preferences != "string")\n\t\t\t\treturn "not_set";\n\n\t\t\t//GDPR Status\n            return preferences.indexOf("analytics:1") != -1 ? "1" : (preferences.indexOf("analytics:0") != -1 ? "0" : "not_set");\n\t\t},\n\t\tupdateDataLayerPreferences: function(){\n\n\t\t\tvar consentsPreferences = this.getUserPreferences();\n\t\t\tvar gdprStatus = this.getGDPRStatus(consentsPreferences);\n\t\t\tvar idpID = (gdprStatus != "1" && _satellite.getVar("dataLayer:identification:idpID") != "") ? "no_consents" : _satellite.getVar("dataLayer:identification:idpID");\n\n\t\t\t// Actualizamos consents\n\t\t\tadobeDataLayer.push({\n\t\t\t\t"event": this.status == "pending" ? "consentsPending" : "consentsReaded",\n\t\t\t\t"user": {\n\t\t\t\t\t"userOneTrustPreferences": consentsPreferences,\n\t\t\t\t\t"gdprStatus": gdprStatus\n\t\t\t\t},\n\t\t\t\t"identification": {\n\t\t\t\t\t"idpID": idpID\n\t\t\t\t},\n\t\t\t\t"consents": {\n\t\t\t\t\t"consentManagerVendor": this.vendor,\n\t\t\t\t\t"consentsUpdated": consentsPreferences\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n que chequea que OneTrust est\xe1 cargado o lo estar\xe1 en p\xe1gina\n\t\t* Para ello comprueba los objetos OneTrust, OptanonWrapper y OptanonActiveConsents, en caso de que alguno exista significa que OneTrust estar\xe1 en p\xe1gina\n\t\t* @return boolean true en el caso de que OneTrust est\xe9 activo, false en caso contrario\n\t\t**/\n        isLoaded: function(){\n\n        \tvar oneTrustEnabled = false;\n\n        \tif(typeof window.OptanonWrapper !== "undefined"){\n\n            \tif(typeof window.OneTrust != "undefined" && typeof window.OptanonActiveGroups != "undefined")\n            \t\toneTrustEnabled = true;            \t\n\n        \t}else{\n        \t\toneTrustEnabled = false;\n        \t}\n\n            return oneTrustEnabled;\n        },\n        /**\n\t\t* Funci\xf3n que chequea si los consentimientos ya han sido otorgados previamente o si, por el contrario, el banner saltar\xe1 en esta p\xe1gina\n\t\t* Para ello se hace uso del m\xe9todo OneTrust.IsAlertBoxClosedAndValid que devolver\xe1 true si los consentimentos ya est\xe1n dados o false en caso contrario\n\t\t* @return boolean true en el caso de que OneTrust est\xe9 activo, false en caso contrario\n\t\t**/\n\t\tisConsentsGiven: function(){\n        \t\n        \tif(!this.loaded)\n        \t\treturn false;\n\n\t\t\treturn OneTrust.IsAlertBoxClosedAndValid();\n        },\n        /**\n        * Funci\xf3n para medir la p\xe1gina, se hace de forma directa junto con el aviso de cookieBannerShow ya que el CMP no es bloqueante y la p\xe1gina est\xe1 siendo visualizada\n        **/\n        trackPage: function(){\n\t\t\t// Realizamos el tracking despu\xe9s de que se hayan actualizado los consentimientos\n\t\t\t_satellite.track("pageLoad");\n        },\n        /**\n        * Funci\xf3n para medir el evento de aviso de cookies mostrado.\n        * Se actualiza el Data Layer con los valores "not_set" en las variables de consentimientos.\n        **/\n\t\ttrackConsentBannerShow: function(){\n\n\t\t\tthis.status = "pending";\n\n\t\t\t// Actualizamos consents\n\t\t\tadobeDataLayer.push({\n\t\t\t\t"event": "consentBannerShow"\n\t\t\t});\n\n\t\t\t// Realizamos el tracking despu\xe9s de que se hayan actualizado los consentimientos\n\t\t\t_satellite.track("consentBannerShow");\n\n\t\t\tthis.cookieBannerShowTracked = true;\n\t\t},\n\t\t/**\n        * Funci\xf3n para medir el evento de consentimientos actualizados.\n        * Se actualiza el Data Layer con los nuevos valores de aceptaci\xf3n antes de medir la p\xe1gina.\n        * Adem\xe1s, se aprovecha para eliminar aquellos campos que identifiquen personalmente al usuario en caso de rechazo.\n        **/\n\t\ttrackConsentsUpdated: function(){\n\n\t\t\tvar consentsPreferences = this.getUserPreferences();\n\t\t\tvar gdprStatus = this.getGDPRStatus(consentsPreferences);\n\t\t\tvar idpID = (gdprStatus != "1" && _satellite.getVar("dataLayer:identification:idpID") != "") ? "no_consents" : _satellite.getVar("dataLayer:identification:idpID");\n\n\t\t\t// Actualizamos consents\n\t\t\tadobeDataLayer.push({\n\t\t\t\t"event": "consentsUpdated",\n\t\t\t\t"user": {\n\t\t\t\t\t"userOneTrustPreferences": consentsPreferences,\n\t\t\t\t\t"gdprStatus": gdprStatus\n\t\t\t\t},\n\t\t\t\t"identification": {\n\t\t\t\t\t"idpID": idpID\n\t\t\t\t},\n\t\t\t\t"consents": {\n\t\t\t\t\t"consentManagerVendor": this.vendor,\n\t\t\t\t\t"consentsUpdated": consentsPreferences\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Realizamos el tracking despu\xe9s de que se hayan actualizado los consentimientos\n\t\t\t_satellite.track("consentsUpdated");\n\t\t},\n\t\t/**\n        * Funci\xf3n que se sincroniza con el CMP de consentimientos para detectar cualquier cambio en los mismos.\n        * Cuando se cambian los consentimientos mediremos un evento de consentsUpdated\n        **/\n\t\taddUpdateConsentsListener: function(){\n\n\t\t\tif(!this.loaded)\n\t\t\t\treturn false;\n\n\t\t\t// Detectamos posibles updates\n\t\t\tOneTrust.OnConsentChanged(function () {\n\t\t\t\tRMTagManager.consents.status = "consentsGiven";\n\t\t\t\tRMTagManager.consents.trackConsentsUpdated();\n\t\t\t});\n\t\t}\n\t},\n\tlisteners: {\n\t\tclickListener:function () {\n\t\t\tvar pageLevel2 = _satellite.getVar("dataLayer:webPageDetails:pageLevel2");\n\t\t\tvar pageLevel3 = _satellite.getVar("dataLayer:webPageDetails:pageLevel3");\n\t\t\tvar pageLevel4 = _satellite.getVar("dataLayer:webPageDetails:pageLevel4");\n\t\t\tvar pageType = _satellite.getVar("dataLayer:webPageDetails:pageType");\n\n\t\t\tif(pageType == "home"){\n\t\t\t\t//Home\n\t\t\t\tvar viewMatchesBtns = document.querySelectorAll("#teams > tbody > tr > td > a");\n\n\t\t\t\tif (viewMatchesBtns.length > 0) {\n\t\t\t\t\tviewMatchesBtns.forEach((btn) => {\n\t\t\t\t\t\tif (!btn.hasOwnProperty("adb_listenerAdded")) {\n\t\t\t\t\t\t\tbtn.addEventListener("click", function () {\n\t\t\t\t\t\t\t\tadobeDataLayer.push({\n\t\t\t\t\t\t\t\t\t"event": "buttonClick",\n\t\t\t\t\t\t\t\t\t"buttonClick": {\n\t\t\t\t\t\t\t\t\t\t"buttonName": "view_matches"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbtn.adb_listenerAdded = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t}\n\t},\n\tutils: {\n\t\t/**\n\t\t* M\xe9todo para el env\xedo de informaci\xf3n mediante petici\xf3n de pixel, utiliza la funcionalidad navigator.sendBeacon de los navegadores, es compatible para navegadores antiguois\n\t\t* @param url string URL de petici\xf3n del pixel, sin par\xe1metros\n\t\t* @param data objeto con los par\xe1metros a enviar en la petici\xf3n\n\t\t* @param useSendBeacon boolean [opcional] activa o desactiva el uso de navigator.sendBeacon, por defecto es true\n\t\t* @param randomParam string [opcional] indica si se debe a\xf1adir un par\xe1metro random para evitar el cache, el valor pasado ser\xe1 la key del par\xe1metro\n\t\t* @param encoded boolean [opcional] que nos indica si los valores deben ir codificados para URL o no, por defecto ir\xe1n codificados\n\t\t* @return boolean que indica si el env\xedo de los datos es correcto\n\t\t*/\n\t\tsendBeacon: function(url, data, useSendBeacon, randomParam, encoded){\n\n\t\t\tif(typeof url != "string" || typeof data != "object")\n\t\t\t\treturn false;\n\n\t\t\tvar beaconSent = false;\n\n\t\t\ttry{\n\t\t\t\t//Utilizamos la funci\xf3n sendBeacon de navigator, aunque no es soportada por todos los navegadores\n\t\t\t\tif(typeof navigator != "undefined" && typeof navigator.sendBeacon == "function" && (typeof useSendBeacon == "undefined" || useSendBeacon === true)){\n\t\t\t\t\tbeaconSent = navigator.sendBeacon(url, JSON.stringify(data));\n\t\t\t\t//Si el navegador no es compatible con la nueva funci\xf3n de navigator formamos el pixel a mano con un elemento img\n\t\t\t\t}else{\n\t\t\t\t\tvar imgBeacon = new Image(1, 1);\n\n\t\t\t\t\t//Pasamos los datos pasados a string para formar el pixel, los metemos en un array y hacemos un join con &\n\t\t\t\t\tvar dataString = [];\n\t\t\t\t\tfor(var param in data){\n\t\t\t\t\t\tif(typeof encoded != "undefined" && encoded === false)\n\t\t\t\t\t\t\tdataString.push(param + "=" + data[param]);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tdataString.push(param + "=" + encodeURIComponent(data[param]));\n\t\t\t\t\t}\n\n\t\t\t\t\t//El random para el descacheo se define por par\xe1metro, si viene cogemos el valor que se indica, si no, no podemos nada\n\t\t\t\t\tvar randomParamPixel = "";\n\t\t\t\t\tif(typeof randomParam == "string")\n\t\t\t\t\t\t randomParamPixel = randomParam + "=" + String(Math.random()).substr(2, 9);\n\n\t\t\t\t\t//Formamos la petici\xf3n: eliminamos posibles ? en el src\n\t\t\t\t\timgBeacon.src = url.replace(/\\?/ig, "") + "?" + dataString.join("&") + (dataString.length > 0 && randomParamPixel != "" ? "&" : "") + randomParamPixel;\n\t\t\t\t\tbeaconSent = true;\n\t\t\t\t}\n\t\t\t}catch(e){\n\t\t\t\t_satellite.logger.info("Error in sendBeacon: " + e, "error");\n\t\t\t\tbeaconSent = false;\n\t\t\t}\n\n\t\t\treturn beaconSent;\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n para capitalizar las palabras de un texto pasado por par\xe1metro. Ejemplo: "rodrigo valc\xe1rcel" -> "Rodrigo Valc\xe1rcel"\n\t\t* @param text string con el texto a capitalizar\n\t\t* @return string con el texto capitalizado\n\t\t**/\n\t\tcapitalizeText: function(text){\n\n\t\t\ttext = text.trim();\n\n\t\t\tvar textArray = text.split(" ");\n\t\t\tvar textArrayCap = [];\n\n\t\t\tfor(var i = 0, j = textArray.length; i < j; i++)\n\t\t\t    textArrayCap[i] = textArray[i].charAt(0).toUpperCase() + (textArray[i].substr(1));\n\t\t\t\n\t\t\treturn textArrayCap.join(" ");\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n para copiar objetos por valor no por referencia (duplicar)\n\t\t* @param objetoOrigen par\xe1metro con el objeto de Origen a copiar.\n\t\t* return retornamos el objeto duplicado.\n\t\t**/\n\t\tcopyObject: function(objectOrigin){\n\t\t\t\n\t\t\tif(typeof objectOrigin != "object")\n\t\t\t\treturn false;\n\n\t\t\tvar objectResult = {};\n\n\t\t\t//Recorremos los valores del objecto inicial y los copiamos al nuevo, uno por uno\n\t\t\tfor(var param in objectOrigin)\n\t\t\t\tobjectResult[param] = objectOrigin[param];\t\t\t\n\n\t\t\treturn objectResult;\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n par extraer un par\xe1metro de una URL pasada como atributo de la funci\xf3n\n\t\t* @param e string Nombre del par\xe1metro a extraer de la URL\n\t\t* @param r string URL de la que se extraer\xe1 el par\xe1metro, si no es pasada se calcular\xe1 de location.href\n\t\t* @return string valor del par\xe1metro solicitado, si no se encontr\xf3 devolver\xe1 cadena vac\xeda\n\t\t**/\n\t    getQueryParam: function(e, r){\n  \t\t\tvar l="";if(e=void 0===e||""==e?-1:e,r=void 0===r||""==r?window.location.href:r,-1==e){if(l=[],-1!=r.indexOf("?")){var i=r.substr(r.indexOf("?")+1).replace(/\\?/g,"&");i=i.split("&");for(var n=0;n<i.length;n++)if(-1!=i[n].indexOf("=")){var a=i[n].split("=");l[a[0]]=a[1].replace(/#(.*)/g,"")}else l[a]=""}}else{l="",e=e.replace(/[\\[]/,"\\\\[").replace(/[\\]]/,"\\\\]");var c=new RegExp("[\\\\?&]"+e+"=([^&#]*)").exec(r);l=null==c?"":decodeURIComponent(c[1].replace(/\\+/g," ").replace(/#(.*)/g,""))}return l;\n\t    },\n\t    /**\n\t\t* Objeto para la gesti\xf3n segura del localStorage. Especialmente importante en modos inc\xf3gnito.\n\t\t*/\n\t\tlocalStorage: {\n\t\t\t/**\n\t\t\t* M\xe9todo para el uso seguro del m\xe9todo getItem del localStorage.\n\t\t\t* @param item nombre del item a leer del localStorage\n\t\t\t* @param session booleano true indica que en lugar de localStorage se quiere hacer uso de sessionStorage\n\t\t\t* @return boolean que indica si la lectura del item se hizo de forma correcta (true) o incorrecta (false)\n\t\t\t*/\n\t\t\tgetItem: function(item, session){\n\t\t\t\tvar _item = false;\n\t\t\t\ttry{\n\t\t\t\t\tif(typeof session != "undefined" && session === true && typeof sessionStorage != "undefined" && typeof sessionStorage.setItem == "function")\n\t\t\t\t\t\t_item = sessionStorage.getItem(item);\n\t\t\t\t\telse if(typeof localStorage != "undefined" && typeof localStorage.getItem == "function")\n\t\t\t\t\t\t_item = localStorage.getItem(item);\n\t\t\t\t}catch(e){\n\t\t\t\t\t_item = false;\n\t\t\t\t\t_satellite.logger.info("Error in getItem in localStorage", "error");\n\t\t\t\t}\n\t\t\t\treturn _item;\t\t\t\n\t\t\t},\n\t\t\t/**\n\t\t\t* M\xe9todo para el uso seguro del m\xe9todo removeItem del localStorage.\n\t\t\t* @param item nombre del item a eliminar del localStorage\n\t\t\t* @param session booleano true indica que en lugar de localStorage se quiere hacer uso de sessionStorage\n\t\t\t* @return boolean que indica si la eliminaci\xf3n del item se hizo de forma correcta (true) o incorrecta (false)\n\t\t\t*/\n\t\t\tremoveItem: function(item, session){\n\t\t\t\tvar _item = false;\n\t\t\t\ttry{\n\t\t\t\t\tif(typeof session != "undefined" && session === true && typeof sessionStorage != "undefined" && typeof sessionStorage.setItem == "function"){\n\t\t\t\t\t\tsessionStorage.removeItem(item);\n\t\t\t\t\t\t_item = true;\n\t\t\t\t\t}else if(typeof localStorage != "undefined" && typeof localStorage.removeItem == "function"){\n\t\t\t\t\t\tlocalStorage.removeItem(item);\n\t\t\t\t\t\t_item = true;\n\t\t\t\t\t}\n\t\t\t\t}catch(e){\n\t\t\t\t\t_item = false;\n\t\t\t\t\t_satellite.logger.info("Error in removeItem in localStorage", "error");\n\t\t\t\t}\t\n\t\t\t\treturn _item;\n\t\t\t},\n\t\t\t/**\n\t\t\t* M\xe9todo para el uso seguro del m\xe9todo setItem del localStorage.\n\t\t\t* @param item nombre del item a setear del localStorage\n\t\t\t* @param value valor del item a setear\n\t\t\t* @param session booleano true indica que en lugar de localStorage se quiere hacer uso de sessionStorage\n\t\t\t* @return boolean que indica si el seteo se hizo de forma correcta (true) o incorrecta (false)\n\t\t\t*/\n\t\t\tsetItem: function(item, value, session){\n\t\t\t\tvar _item = false;\n\t\t\t\ttry{\n\t\t\t\t\tif(typeof session != "undefined" && session === true && typeof sessionStorage != "undefined" && typeof sessionStorage.setItem == "function"){\n\t\t\t\t\t\tsessionStorage.setItem(item, value);\n\t\t\t\t\t\t_item = true;\n\t\t\t\t\t}else if(typeof localStorage != "undefined" && typeof localStorage.setItem == "function"){\n\t\t\t\t\t\tlocalStorage.setItem(item, value);\n\t\t\t\t\t\t_item = true;\n\t\t\t\t\t}\n\t\t\t\t}catch(e){\n\t\t\t\t\t_item = false;\n\t\t\t\t\t_satellite.logger.info("Error in setItem in localStorage", "error");\n\t\t\t\t}\t\n\t\t\t\treturn _item;\n\t\t\t}\n\t\t},\n\t    /**\n\t\t* Funci\xf3n para formatear fechas, a\xf1ade un 0 a la izquierda en caso de tener un \xfanico digito el valor pasado por par\xe1metro\n\t\t* @param date fecha a formatear\n\t\t* @return date fecha formateada\n\t\t*/\n\t\tformatDate: function(date){\n\t\t\tif(date < 10)\n\t\t\t\treturn "0" + date; \n\t\t\treturn date;\n\t\t},\n        /**\n \t\t* Funci\xf3n para decodificar y parsear un JWT (JSON Web Token) desde su formato encriptado.\n \t\t* Extrae la carga \xfatil del token y la devuelve en formato JSON.\n \t\t* @param token string Token JWT codificado que se va a decodificar.\n \t\t* @return object Devuelve un objeto JSON que representa la carga \xfatil decodificada del token.\n \t\t*/\n\t\tparseJwt: function (token) {\n\t\t\t// Divide el token en partes y obtiene la carga \xfatil codificada en Base64 URL\n\t\t\tvar base64Url = token.split(\'.\')[1];\n\n\t\t\t// Reemplaza los caracteres espec\xedficos de Base64 URL por los de Base64 est\xe1ndar\n\t\t\tvar base64 = base64Url.replace(/-/g, \'+\').replace(/_/g, \'/\');\n\n\t\t\t// Decodifica la cadena en Base64 y convierte cada car\xe1cter en su valor hexadecimal correspondiente\n\t\t\tvar jsonPayload = decodeURIComponent(window.atob(base64).split(\'\').map(function (c) {\n\t\t\t\treturn \'%\' + (\'00\' + c.charCodeAt(0).toString(16)).slice(-2);\n\t\t\t}).join(\'\'));\n\n\t\t\t// Convierte la cadena JSON decodificada en un objeto JavaScript\n\t\t\treturn JSON.parse(jsonPayload);\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n que permite la carga de scripts en el head fijando un callback pasado por par\xe1metro\n\t\t* @param src string con el src del script a cargar\n\t\t* @param callback funci\xf3n a ejecutar como callback\n\t\t**/\n\t\tloadScript: function(src, callback, args){\n\t\t\tvar ss = document.createElement(\'script\');\n\t\t\tss.type = \'text/javascript\';\n\t\t\tss.async = true;\n\n\t\t\tvar head = document.getElementsByTagName(\'head\')[0];\n\t\t\tif(ss.addEventListener)\n\t\t\t\tss.addEventListener(\'load\', function(){\n\t\t\t\t\tcallback(args);\n\t\t\t\t}, false);\n\t\t\telse{\n\t\t\t\tif(ss.onload)\n\t\t\t\t\tss.onload = function(){\n\t\t\t\t\t\tcallback(args);\n\t\t\t\t\t};\n\t\t\t\telse{\n\t\t\t\t\tif(document.all){\n\t\t\t\t\t\ts.onreadystatechange = function() {\n\t\t\t\t\t\t\tvar state = s.readyState;\n\t\t\t\t\t\t\tif(state === \'loaded\' || state === \'complete\'){\n\t\t\t\t\t\t\t\tcallback(args);\n\t\t\t\t\t\t\t\ts.onreadystatechange = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tss.src = src;\n\t\t\thead.appendChild(ss);\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n que comprueba la existencia de una o varias propiedades dentro de un objeto\n\t\t* @param obj object objeto de datos ra\xedz donde se har\xe1 la comprobaci\xf3n\n\t\t* @param propiedades array lista de subpropiedades a evaluar, ordenadas desde la m\xe1s externa a la m\xe1s interna\n\t\t* @return boolean true si todas las subpropiedades existen, false en caso contrario\n\t\t**/\n\t\texistsObjectProperty: function(obj, propiedades){\n\n\t\t\tif(typeof obj != "object")\n\t\t\t\treturn false;\n\t\t\t\n\t\t\tvar currentObj = obj;\n\n\t\t\tfor(var i = 0; i < propiedades.length; i++){\n\n\t\t\t\tvar propiedad = propiedades[i];\n\n\t\t\t\tif(currentObj.hasOwnProperty(propiedad) && typeof currentObj[propiedad] != "undefined")\n\t\t\t\t\tcurrentObj = currentObj[propiedad];\n\t\t\t\telse\n\t\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\t\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n para codificar un texto pasado por par\xe1metro mediante SHA256\n\t\t* @param text string Texto a encriptar\n\t\t* @return string texto encriptado\n\t\t**/\n\t    sha256: function(text){\n\t    \t\n\t    \t//Encriptador\n\t    \tvar sha256=function r(o){function f(r,o){return r>>>o|r<<32-o}for(var t,n,a=Math.pow,c=a(2,32),e="length",i="",h=[],u=8*o[e],v=r.h=r.h||[],l=r.k=r.k||[],s=l[e],g={},k=2;s<64;k++)if(!g[k]){for(t=0;t<313;t+=k)g[t]=k;v[s]=a(k,.5)*c|0,l[s++]=a(k,1/3)*c|0}for(o+="\x80";o[e]%64-56;)o+="\\0";for(t=0;t<o[e];t++){if((n=o.charCodeAt(t))>>8)return;h[t>>2]|=n<<(3-t)%4*8}for(h[h[e]]=u/c|0,h[h[e]]=u,n=0;n<h[e];){var d=h.slice(n,n+=16),p=v;for(v=v.slice(0,8),t=0;t<64;t++){var w=d[t-15],A=d[t-2],C=v[0],M=v[4],A=v[7]+(f(M,6)^f(M,11)^f(M,25))+(M&v[5]^~M&v[6])+l[t]+(d[t]=t<16?d[t]:d[t-16]+(f(w,7)^f(w,18)^w>>>3)+d[t-7]+(f(A,17)^f(A,19)^A>>>10)|0);(v=[A+((f(C,2)^f(C,13)^f(C,22))+(C&v[1]^C&v[2]^v[1]&v[2]))|0].concat(v))[4]=v[4]+A|0}for(t=0;t<8;t++)v[t]=v[t]+p[t]|0}for(t=0;t<8;t++)for(n=3;n+1;n--){var S=v[t]>>8*n&255;i+=(S<16?0:"")+S.toString(16)}return i};\n\n\t    \treturn sha256(text);\n\t    },\n\t\t/**\n\t\t* Funci\xf3n para formatear un campo del Data Layer pasado por par\xe1metro. Lo pasamos al formato establecido en el SDR, susituyendo caracteres no deseados o elimin\xe1ndolos\n\t\t* @param field string con el valor de campo a formatear\n\t\t* @return string con el texto del campo formateado\n\t\t**/\n\t\tformatDataLayerParam: function(field){\n\n\t\t\tvar fieldFormatted = field;\n\n\t\t\t//trim\n\t\t\tfieldFormatted = fieldFormatted.trim();\n\t\t\t\n\t\t\t//toLowerCase\n\t\t\tfieldFormatted = fieldFormatted.toLowerCase();\n\t\t\t\n\t\t\t//Espacios por _\n\t\t\tfieldFormatted = fieldFormatted.replace(/ /ig, "_");\n\t\t\t\n\t\t\t//Guiones medios por _\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\-/ig, "_");\n\n\t\t\t//Dos puntos eliminados\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\:/ig, "");\n\n\t\t\t//Barras por _\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\//ig, "_");\n\n\t\t\t//Barras invertidas eliminadas\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\\\/ig, "");\n\n\t\t\t//Puntos, comas y comillas eliminadas\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\"/ig, "");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\\'/ig, "");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\\u201d/ig, "");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\,/ig, "");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\\./ig, "");\n\t\t\t\n\t\t\t//Tildes\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xe1/ig, "a");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xe9/ig, "e");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xed/ig, "i");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xf3/ig, "o");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xfa/ig, "u");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\u0107/ig, "c");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xe0/ig, "a");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xe8/ig, "e");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xec/ig, "i");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xf2/ig, "o");\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xf9/ig, "u");\n\n\t\t\t//Caracteres alfabeto espa\xf1ol\n\t\t\tfieldFormatted = fieldFormatted.replace(/\xf1/ig, "n");\n\n\t\t\t//Otros\n\t\t\tfieldFormatted = fieldFormatted.replace(/agenda&.*\\/?/ig, "agenda");\n\n\t\t\treturn fieldFormatted;\n\t\t},\n\t\t/**\n\t\t* Funci\xf3n para la sincronizaci\xf3n de elementos en p\xe1gina, usada para fijar listeners\n\t\t* @param elementSelector string con el selector CSS del elemento a esperar\n\t\t* @param callback function funci\xf3n a ejecutar cuando el elemento existe\n\t\t* @param limit number <opcional> milisegundos m\xe1ximos a esperar al elemento, por defecto 5000\n\t\t* @param increment number <opcional> milisegundos de cada ciclo del interval, por defecto ser\xe1n 100\n\t\t* @param finallyCallback function <opcional> funci\xf3n a ejecutar si se llega al l\xedmite de espera\n\t\t**/\n\t\twaitForElement: function(elementSelector, callback, limit, increment, finallyCallback){\n\n\t\t\tif(typeof elementSelector != "string" || typeof callback != "function")\n\t\t\t\treturn false;\n\n\t\t    var intervalLimit = typeof limit == "number" ? limit : 5000;\n\t\t    var intervalCounter = 0;\n\t\t    var intervalIncrement = (typeof increment == "number" && increment < intervalLimit) ? increment : 100;\n\n\t\t    var intervalID = setInterval(function(){\n\t\t        \n\t\t        if(document.querySelector(elementSelector) != null){\n\t\t            callback.call();\n\t\t            clearInterval(intervalID);\n\t\t        }else{\n\t\t            intervalCounter += intervalIncrement;\n\t\t        }\n\n\t\t        if(intervalCounter > intervalLimit){\n\t\t            clearInterval(intervalID);\n\n\t\t            if(typeof finallyCallback == "function")\n\t\t            \tfinallyCallback.call();\n\t\t        }\n\t\t        \n\t\t    }, intervalIncrement);\n\t\t},\n\t\t/**\n\t\t * Funci\xf3n para el parseo de JSON de forma segura, con control de excepciones\n\t\t * @param _json string a parsear a JSON\n\t\t * @return object con el string parseado o objeto vac\xedo en caso de error \n\t\t **/\n\t\tparseJSON: function(_json){\n\t\t\ttry{\n\t\t\t\treturn JSON.parse(_json.replace(/\\\'/g,"\\""));\n\t\t\t}catch(e){\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Funci\xf3n para el parseo de JSON de forma segura, con control de excepciones\n\t\t * @param _json string a parsear a JSON\n\t\t * @return object con el string parseado o objeto vac\xedo en caso de error \n\t\t **/\n\t\tstringifyJSON: function(_json){\n\t\t\ttry{\n\t\t\t\treturn JSON.stringify(_json);\n\t\t\t}catch(e){\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n        /**\n\t\t* M\xe9todo para establecer una cookie en el navegador del usuario.\n\t\t* @param name string Nombre de la cookie\n\t\t* @param value string Valor de la cookie\n\t\t* @param days number [opcional] N\xfamero de d\xedas antes de que expire la cookie. Si no se especifica, la cookie se convertir\xe1 en una cookie de sesi\xf3n.\n\t\t* @return void\n\t\t*/\n\t\tsetCookie: function (name, value, days) {\n\t\t\tvar expires = "";\n\t\t\tif (days) {\n\t\t\t\tvar date = new Date();\n\t\t\t\tdate.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n\t\t\t\texpires = "; expires=" + date.toUTCString();\n\t\t\t}\n\t\t\t// Establece el dominio de la cookie para compartir entre subdominios\n\t\t\tvar domain = "; domain=." + document.location.hostname.split(\'.\').slice(-2).join(\'.\');\n\t\t\tdocument.cookie = name + "=" + (value || "") + expires + domain + "; path=/";\n\t\t},\n\t\t/**\n\t\t* M\xe9todo para consultar una cookie dentro de document.cookie\n\t\t* @param name string nombre de la cookie a buscar\n\t\t* @return string valor de la cookie buscada, null en caso de no encontrarse\n\t\t**/\n\t\tgetCookie: function(name){\n\t\t\tvar nameEQ = name + "=";\n\t\t\tvar ca = document.cookie.split(\';\');\n\t\t\tfor(var i = 0, j = ca.length; i < j; i++) {\n\t\t\t\tvar c = ca[i];\n\t\t\t\twhile(c.charAt(0)==\' \') c = c.substring(1,c.length);\n\t\t\t\tif (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t},\n\ttools: {\n        //GAds\n\t\tgAds: {\n            trackedPV: false,\n            vars: {\n                adw4ID: "AW-621197841",\n                libSRC: "https://www.googletagmanager.com/gtag/js?id=",\n                baseDataLayer: {},\n                libLoaded: false\n            },\n            init: function(){\n            },\n            trackPV: function(){\n\n            \t// En la primera carga, cargamos la librer\xeda\n                if(!this.vars.libLoaded){\n                    this.loadLib();\n                }else{\n                \t// Aseg\xfarate de que esta l\xednea use la propiedad correcta de este objeto\n\t                gtag(\'config\', this.vars.adw4ID);\n\t        \n\t                // gtag event page_view\n\t                // Considera si necesitas enviar par\xe1metros adicionales con el evento page_view\n\t                gtag(\'event\', \'page_view\');\n\t        \n\t                this.trackedPV = true;\n                }\n\n            },\n            trackAsyncPV: function(){\n                this.trackPV();\n            },\n            trackEvent: function(eventName, data){\n\n                if(this.vars.libLoaded == false)\n\t\t    \t\treturn false;\n\n                //Order Info\n                if (eventName == "purchase") {\n                    //GADS conversion\n                    gtag("event", "conversion", {\n                        "send_to": RMTagManager.tools.gAds.vars.adw4ID + "/vUpfCIvzoP0CEMLSgZgB",\n                        "value": _satellite.getVar("dataLayer:orderInfo:priceTotal"),\n                        "currency": _satellite.getVar("dataLayer:webPageDetails:currency"),\n                        "transaction_id": _satellite.getVar("dataLayer:orderInfo:purchaseID")\n                    });\n\n                    return true;\n                }\n\t\t    \t\n            },\n            loadLib: function(){\n                var scriptGTAG = document.createElement(\'script\');\n                scriptGTAG.src = this.vars.libSRC + this.vars.adw4ID; \n                scriptGTAG.async = true;\n        \n                scriptGTAG.addEventListener(\'load\', function(){\n                    // Actualiza esta l\xednea para reflejar el cambio a solo Google Ads\n                    RMTagManager.tools.gAds.vars.libLoaded = true;\n        \n                    window.dataLayer = window.dataLayer || [];\n                    \n                    window.gtag = function(){\n                        dataLayer.push(arguments);\n                    }\n        \n                    gtag(\'js\', new Date());\n\n                    // Aseg\xfarate de que esta l\xednea use la propiedad correcta de este objeto\n\t                gtag(\'config\', RMTagManager.tools.gAds.vars.adw4ID);\n\t        \n\t                // gtag event page_view\n\t                // Considera si necesitas enviar par\xe1metros adicionales con el evento page_view\n\t                gtag(\'event\', \'page_view\');\n\t        \n\t                RMTagManager.tools.gAds.trackedPV = true;\n        \n                }, false);\n        \n                document.head.appendChild(scriptGTAG);  \n            }\n        },\n\t\t//Meta\n        meta: {\n            trackedPV: false,\n            vars: {\n                metaID: "1166490870370427",\n                pixelSrc: "https://www.facebook.com/tr"\n            },\n            init: function () {\n                // Inicializaci\xf3n si es necesaria\n            },\n            trackPV: function () {\n\n                var loadType = _satellite.getVar("dataLayer:webPageDetails:pageLoadType");\n\n                if ((loadType == "sequential" && !this.trackedPV) || loadType == "spa") {\n\n                    //PageView\n                    this.sendCustomEvent("PageView", {}, this.vars.metaID);\n                    this.trackedPV = true;\n\n                }\n\n            },\n            trackAsyncPV: function () {\n\n                this.trackPV();\n\n            },\n            trackEvent: function (eventName, data) {\n\n                if (eventName == "purchase") {\n\t\t\t\t\t// Purchase\n                    var eventData = {\n                        priceTotal: data.hasOwnProperty("priceTotal") ? data.priceTotal : 0,\n                        currencyCode: data.hasOwnProperty("currencyCode") ? data.currencyCode : "EUR"\n                    }\n\n                    this.sendCustomEvent("Purchase", eventData, this.vars.metaID);\n\n                } else if (eventName === "checkout") {\n\t\t\t\t\t//InitiateCheckout\n\t\t\t\t\tthis.sendCustomEvent("InitiateCheckout", {}, this.vars.metaID);\n\n\t\t\t\t} else if (eventName === "productListAdd") {\n\t\t\t\t\t//AddToCart\n\t\t\t\t\tthis.sendCustomEvent("AddToCart", {currencyCode: data.hasOwnProperty("currencyCode") ? data.currencyCode : "EUR"}, this.vars.metaID);\n\t\t\t\t}\n\n            },\n            createDataObject: function (eventType, data, id) {\n                var dataObject = {\n                    "id": id,\n                    "ev": eventType,\n                    "noscript": "1"\n                };\n\n                if (eventType === "Purchase" && data) {\n                    dataObject["cd[value]"] = data.hasOwnProperty("priceTotal") ? data.priceTotal.toString() : "0";\n                    dataObject["cd[currency]"] = data.hasOwnProperty("currencyCode") && data.currencyCode !== undefined ? data.currencyCode : "EUR";\n                    //dataObject["cd[content]"] = JSON.stringify(this.formatProductList(data.hasOwnProperty("productListItems") ? data.productListItems : [])).replace(/\\"/ig, "");\n\n                } else if (eventType === "AddToCart") {\n\t\t\t\t\tdataObject["cd[currency]"] = data.hasOwnProperty("currencyCode") && data.currencyCode !== undefined ? data.currencyCode : "EUR";\n\t\t\t\t}\n\n                return dataObject;\n            },\n            formatProductList: function (productList) {\n                return productList.map(element => {\n                    return {\n                        content_name: element.hasOwnProperty("_realmadrid") && element._realmadrid.hasOwnProperty("productPersonalization") ? element._realmadrid.productPersonalization : ""\n                    };\n                });\n            },\n            sendCustomEvent: function (eventType, data, id) {\n                var dataObject = this.createDataObject(eventType, data, this.vars.metaID);\n                RMTagManager.utils.sendBeacon(this.vars.pixelSrc, dataObject, false);\n            },\n            isEmpty: function (obj) {\n                for (var prop in obj) {\n                    if (obj.hasOwnProperty(prop)) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n        },\n\t\t//TikTok\n\t\ttiktok: {\n\t\t    trackedPV: false,\n\t\t\tvars: {\n\t\t\t\ttagID: "CI48THRC77U8RIVTFE3G",\n\t\t\t\tlibLoaded: false,\n\t\t\t\tmapEvents: {\n\t\t    \t\t"checkout": "InitiateCheckout",\n\t\t    \t\t"productListAdd": "AddToCart",\n\t\t    \t\t"purchase": "CompletePayment",\n\t\t    \t\t"productView": "ViewContent"\n\t\t    \t}\n\t\t\t},\n\t\t\tinit: function(){\n\t\t\t},\n\t\t\ttrackPV: function(){\n\n\t\t\t\t//En la primera carga, cargamos la librer\xeda\n\t\t\t\tif (this.vars.libLoaded == false){\n\t\t\t\t\tthis.loadLib();\n\t\t\t\t}else if (this.vars.libLoaded == true && typeof ttq != "undefined") {\n\t\t\t\t\t//El tag ya est\xe1 cargado, simplemente volvemos a marcar\n\t\t\t\t\tttq.page();\n\t\t\t\t\tthis.trackedPV = true;\n\t\t\t\t}\n\n\t\t\t},\n\t\t\ttrackEvent: function(eventName, data){\n\n\t\t\t\tif(this.vars.libLoaded == false)\n\t\t    \t\treturn false;\n\n\t\t    \tif(this.vars.mapEvents.hasOwnProperty(eventName)){\n\n\t\t    \t\tvar eventData = {\n\t\t    \t\t\t"contents": this.formatProductListItems(_satellite.getVar("dataLayer:productListItems")),\n\t\t    \t\t\t"currency": _satellite.getVar("dataLayer:webPageDetails:currency"),\n\t\t    \t\t\t"value": this.getPriceTotal(eventName)\n\t\t    \t\t};\n\t\t    \t\t\n\t\t\t\t\t//Order Info\n\t\t\t\t\tif(eventName == "purchase"){\n\t\t\t\t\t\t//Identity\n\t\t\t\t\t\tthis.setIdentity();\n\t\t\t\t\t}\n\n\t\t\t\t\tttq.track(this.vars.mapEvents[eventName], eventData, {event_id: RMTagManager.eventID});\n\n\t\t\t\t\treturn true;\n\n\t\t    \t}\n\n\t\t    \treturn false;\n\t\t    },\n\t\t    loadLib: function(){\n\t\t    \t//Part1\n\t\t\t\t!function (w, d, t) {\n\t\t\t\t  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};\n\n\t\t\t\t  \tRMTagManager.tools.tiktok.vars.libLoaded = true;\n\n\t\t\t\t  \t//Load\n\t\t  \t\t\tttq.load(RMTagManager.tools.tiktok.vars.tagID);\n\n\t\t\t\t\tRMTagManager.tools.tiktok.trackedPV = true;\n\t\t\t\t  \n\t\t\t\t}(window, document, \'ttq\');\n\t\t    },\n\t\t    setIdentity: function(){\n\n\t\t    \t//Identity\n\t\t\t\tif(_satellite.getVar("dataLayer:user:hashedEmail") != ""){\n\n\t\t\t\t\t// add this before event code to all pages where PII data postback is expected and appropriate \n\t\t\t\t\tttq.identify({\n\t\t\t\t\t\t"email": _satellite.getVar("dataLayer:user:hashedEmail"),\n\t\t\t\t\t\t"phone_number": _satellite.getVar("dataLayer:user:hashedPhone"), \n\t\t\t\t\t\t"external_id": _satellite.getVar("dataLayer:user:externalID")\n\t\t\t\t\t});\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t    },\n\t\t    getPriceTotal: function(eventName){\n\n\t\t    \tvar value = 0;\n\n\t\t    \tif(eventName == "purchase")\n\t\t    \t\tvalue = _satellite.getVar("dataLayer:orderInfo:priceTotal");\n\n\t\t    \treturn value;\n\t\t    },\n\t\t\tformatProductListItems: function(items){\n\n\t\t\t\tvar tiktokItems = [];\n\n\t\t\t\tfor(var i = 0, j = items.length; i < j; i++){\n\t\t\t\t    tiktokItems[i] = {\t        \n\t\t\t            content_id: items[i].hasOwnProperty("SKU") ? items[i].SKU : undefined,\n\t\t\t            content_name: items[i].hasOwnProperty("name") ? items[i].name : undefined,\n\t\t\t            content_type: items[i].hasOwnProperty("_realmadrid") && items[i]._realmadrid.hasOwnProperty("productCategory") ? items[i]._realmadrid.productCategory.replaceAll("_", "/") : undefined,\n\t\t\t            price: items[i].hasOwnProperty("priceTotal") ? items[i].priceTotal : undefined,\n\t\t\t            quantity: items[i].hasOwnProperty("quantity") ? items[i].quantity : undefined\n\t\t\t\t    }\n\t\t\t\t}\n\n\t\t\t\treturn tiktokItems;\n\t\t\t}\n\t\t},\n        //doubleclick\n\t\tdoubleclick:{\n\t\t\ttrackedPV: false,\n\t\t    vars: {\n\t\t\t\t"a": String(Math.floor(Math.random() * 10000000000000000)),\n\t\t\t\t"xsp": "318794050",\n\t\t\t\t"qty": "1",\n\t\t\t\t"ord": "",\n\t\t        "host": "https://pubads.g.doubleclick.net/activity"\n\t\t    },\n\t\t\ttrackPV: function(){\n\n\t\t\t},\n\t\t\ttrackEvent: function(eventName, data){\n\n\t\t\t\t//P\xe1gina de confirmaci\xf3n\n\t\t        if(eventName == "purchase"){\n\n\t\t\t\t\tvar transactionID = data.hasOwnProperty("purchaseID") ? data.purchaseID : "";\n\t\t\t\t\tvar transactionTotal = data.hasOwnProperty("priceTotal").toString() ? data.priceTotal : "";\n\t\t\t\t\tvar url = this.vars.host + ";xsp=" + this.vars.xsp + ";qty=" + this.vars.qty + ";cost=" + transactionTotal + ";ord=" + transactionID;\n\n\t\t\t\t\tRMTagManager.utils.sendBeacon(url, {}, false, this.vars.a, false);\n\t\t\t\t\t\n\t\t        }\n\t\t\t}\n\t\t}\n\t}\n}\n\nRMTagManager.init();',
language:"javascript"}}]},{id:"RL8d1fdd52e3d74e8680a4c9df1d786104",name:"Event Listener | All Pages | Custom Event RMTagManagerPageLoadTracked | Search Suggested Event | [ACDL push siteSearch] ",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerPageLoadTracked",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return""!=RMTagManager.utils.getQueryParam("q")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC66d5115463874dd69d6deb1c6c4503e8-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL901cd9d0bb194bf2bac9adc4ee247aa9",name:"Page Load Track | All Pages | Direct Call pageLoad | Send pageView sequential event | [ContentSquare, Third-party tags]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageLoad"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:user:gdprStatus%",rightOperand:1},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:webPageDetails:pageLoadType%",rightOperand:"sequential"},timeout:2e3}],actions:[{modulePath:"contentsquare/src/lib/actions/uxaInstallation.js",settings:{setPathInput:"",setQueryInput:"",setPathCheckbox:!1,setQueryCheckbox:!1},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCf50922cf8fc84acab98631a245c87452-source.min.js",language:"javascript",isExternal:!0},timeout:2e4,delayNext:!0}]},{id:"RL928fdc4d891f4da1a03a9a0f7fc23243",name:"Event Listener | Checkout Page | Custom Event RMTagManagerPageLoadTracked | Checkout Event | [ACDL push checkout]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerPageLoadTracked",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"checkout"==_satellite.getVar("dataLayer:webPageDetails:pageLevel1")&&""==_satellite.getVar("dataLayer:webPageDetails:pageLevel2")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCec0fed36af6c45fb91fc6ca50970454f-source.min.js",language:"javascript",isExternal:!0},timeout:2e4,delayNext:!0}]},{id:"RL9a208cc965d4449d8c74db81462e8c4e",name:"Event Listener | All Pages | Custom Event RMTagManagerPageLoadTracked | Exit Links | [ADCL push linkClick]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerPageLoadTracked",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCa6d9763e60b3419dac6aa522b98cbdf4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa392b3e3a520490ea7a9a13c5fafc941",name:"Event Listener | Checkout Page | Custom Event RMTagManagerPageLoadTracked | Shipping Info Event | [ACDL push shippingInfo]",events:[{modulePath:"adobegoogledatalayer/src/lib/events/gtmDlPushEvent.js",settings:{method:"specificEvent",eventKey:"add_shipping_info"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"checkout"==_satellite.getVar("dataLayer:webPageDetails:pageLevel1")&&""==_satellite.getVar("dataLayer:webPageDetails:pageLevel2")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC40cf7b4640c247a6aef47bfc27bfc85f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa4a91a4ce316410bae0690f3b76ed367",name:"Event Track | All Pages | ACDL checkout | Send checkout event | [Web SDK, Third-Party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"checkout"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:checkoutEvents%",type:"commerce.checkouts",instanceName:"alloy",edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCff598cc2904845c1bbe44666d17b098b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc0c76a42ecac414e94db0d785e303ba2",name:"Event Track | All Pages | ACDL linkClick | Send linkClick event | [Web SDK, Third-Party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"linkClick"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:linkEvents%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCf76af25286684fb58cd60b428f752c9b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc91b6a0f1c354452aac073f13d9740e7",name:"Event Track | All Pages | ACDL productSelection | Send productSelection event | [Web SDK, Third-Party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"productSelection"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:productSelection%",type:"commerce.productSelection",instanceName:"alloy",edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC2b70803f06f045aabf12230e32f44704-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd8f94564b6b6480f8a96a837481941ac",name:"Event Listener | Product Pages | GTM Event view_item OR Custom Event RMTagManagerPageLoadTracked | Product View | [ACDL push productView] ",events:[{modulePath:"adobegoogledatalayer/src/lib/events/gtmDlPushEvent.js",settings:{method:"specificEvent",eventKey:"view_item"},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerPageLoadTracked",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!1===RMTagManager.trackedItem}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC9d42ef7c727d490f9402ba856add9815-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdd018d0d1ed145af83a3f4096615a105",name:"Page Load Listener | All Pages | Custom Event RMTagManagerLoaded | Sequential Page View | [ACDL push pageLoad]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"RMTagManagerLoaded",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"undefined"==typeof adobeDataLayerInPage}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return-1===location.pathname.indexOf("/auth")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC9e6dde09878445b8a286cf6aeebac9c0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLde11a63753bd4f2d86edb1f16153924b",name:"Event Track | All Pages | ACDL productView | Send productViews event | [Web SDK, Third-Party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"productView"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:productViews%",type:"commerce.productViews",instanceName:"alloy",edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC792a9c7b91f9461db92609f2cdd44bf5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe05c86f417ff4376bfb853daeac37488",name:"Page Load Track | All Pages | ACDL pageLoad | Send SPA pageView event | [ContentSquare, Third-party tags] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageLoad"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:user:gdprStatus%",rightOperand:1},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:webPageDetails:pageLoadType%",rightOperand:"spa"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC9f891732a49f4ac3a967e482e84d4179-source.min.js",language:"javascript",isExternal:!0},timeout:2e4,delayNext:!0},{modulePath:"contentsquare/src/lib/actions/artificialPageviewInstallation.js",settings:{query:""},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC500cbcef5cb54229afc6c756b764aa7d-source.min.js",language:"javascript",isExternal:!0},timeout:2e4,delayNext:!0}]},{id:"RLe0c417c043314c5caf5173149303af1b",name:"Event Track | All Pages | ACDL siteSearch | Send siteSearch event | [Web SDK, Third-Party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"siteSearch"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:siteSearchEvents%",type:"web.webInteraction.siteSearch",instanceName:"alloy",edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RC5e3e2dc7091a40459f69e2522fd3273c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe4fd896eb0814ca09083d8f0d82e87f1",name:"05 | Event Track | All Pages | Direct Call consentsUpdated | Send consentsUpdated event | [Web SDK]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"consentsUpdated"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:consentsUpdated%",type:"web.webInteraction.consentTracking.consentsUpdated",instanceName:"alloy",personalization:{defaultPersonalizationEnabled:!1},edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}}}]},{id:"RLe947dcea7c6b4acfa865886940b0a6d9",name:"Event Track | All Pages | ACDL addressInfo | Send addressInfo event | [Web SDK, Third-Party tags]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"addressInfo"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%aep:xdm:addressInfo%",type:"commerce.productListAdds",instanceName:"alloy",edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%aep:datastreamID%"},production:{enabled:!0,datastreamId:"%aep:datastreamID%"},development:{enabled:!0,datastreamId:"%aep:datastreamID%"}}},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCa7ff779ef4434d13acb978f28b7595d7-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf9048a3e81094f5a90a9c7d09348a906",name:"Event Track | All Pages | ACDL purchase | Send purchase event | [ContentSquare]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"purchase"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:user:gdprStatus%",rightOperand:1},timeout:2e3}],actions:[{modulePath:"contentsquare/src/lib/actions/ecommerceTransactions.js",settings:{revenue:"%contentsquare:priceTotal%",currency:"%dataLayer:webPageDetails:currency%",transaction_id:"%dataLayer:orderInfo:purchaseID%"},timeout:2e4,delayNext:!0}]},{id:"RLfefb0c7b3e20446589696e060e3ba72e",name:"Event Track | All Pages | ACDL addressInfo | Send addressInfo event | [Contentsquare]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"addressInfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%dataLayer:user:gdprStatus%",rightOperand:1},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/ab05854e772b/0eb0da8ca2b4/7a54c50a9fc4/RCe4f1db9de6c04f408fbff70a9a4e8174-source.min.js",language:"javascript",isExternal:!0},timeout:2e4,delayNext:!0}]}]};var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){var a,n;return!1!==t(e)&&(void 0===(a=e.constructor)||!1!==t(n=a.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}function n(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function r(e){return e.substr(0,e.indexOf("["))}function o(e,t,a){if(e.length&&ut(t)){var i=e[0];if(1!==e.length){var s=e.slice(1);if(!n(i))return o(s,t[i],a);var c=t[i=r(i)];Array.isArray(c)&&c.forEach((function(e){return o(s,e,a)}))}else t.hasOwnProperty(i)&&"string"==typeof t[i]&&(t[i]=a(t[i]))}}if(window.atob){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=document,c=Object.assign,d=window,l=d,u=function(e,t,a,n){var r,o=Boolean(t&&Array.isArray(a)),i=Boolean(o&&e),s=document.createElement("a");if(o){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=l.location.protocol+e:s.href=e),s.hostname||c(),-1===a.indexOf(s.hostname)){var d=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw d.code="dynamic_host_not_allowed",d}}var u=function(){if(null!=r)return r;if(i){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),r=s.protocol+"//"+e}else r="";return r},p=function(e){return i&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},g={getTurbineHost:u,decorateWithDynamicHost:p,get isDynamicEnforced(){return o}};return l&&n.onDebugChanged((function(e){e?l.dynamicHostResolver=g:delete l.dynamicHostResolver})),g},p=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(a){t.push({rule:e,event:a})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},g="debug",f=function(e,t){var a=function(){return"true"===e.getItem(g)},n=function(t){e.setItem(g,t)},r=[],o=function(e){r.push(e)};return t.outputEnabled=a(),{onDebugChanged:o,getDebugEnabled:a,setDebugEnabled:function(e){a()!==e&&(n(e),t.outputEnabled=e,r.forEach((function(t){t(e)})))}}},m="Module did not export a function.",y=function(e,t,a){return function(n,r,o){o=o||[];var i=e.getModuleExports(n.modulePath);if("function"!=typeof i)throw new Error(m);var s=e.getModuleDefinition(n.modulePath),c=n.settings||{};!n.hasTransformedFilePaths&&s.filePaths&&(a(c,s.filePaths,n.modulePath),n.hasTransformedFilePaths=!0);var d=t(c,r);return i.bind(null,d).apply(null,o)}},v=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},h={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},b="\ud83d\ude80",w=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":b,L=!1,P=function(e){if(L&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(w),e!==h.DEBUG||window.console[e]||(e=h.INFO),window.console[e].apply(window.console,t)}},D=P.bind(null,h.LOG),T=P.bind(null,h.INFO),I=P.bind(null,h.DEBUG),C=P.bind(null,h.WARN),E=P.bind(null,h.ERROR),S=function(){var e=L;L=!0,P.apply(null,Array.prototype.concat(h.WARN,Array.prototype.slice.call(arguments))),e||(L=!1)},O={log:D,info:T,debug:I,warn:C,error:E,deprecation:S,get outputEnabled(){return L},set outputEnabled(e){L=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:D.bind(null,t),info:T.bind(null,t),debug:I.bind(null,t),warn:C.bind(null,t),error:E.bind(null,t)}}},k=d,_="com.adobe.reactor.",j=function(e,t){var a=_+(t||"");return{getItem:function(t){try{return k[e].getItem(a+t)}catch(e){return null}},setItem:function(t,n){try{return k[e].setItem(a+t,n),!0}catch(e){return!1}}}},x=j,R="dataElements.",A=x("sessionStorage",R),N=x("localStorage",R),M={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},V={},U=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},q=v,F=O,B={setValue:function(e,t,a){var n;switch(t){case M.PAGEVIEW:return void(V[e]=a);case M.SESSION:return void((n=U(a))&&A.setItem(e,n));case M.VISITOR:return void((n=U(a))&&N.setItem(e,n))}},getValue:function(e,t){var a;switch(t){case M.PAGEVIEW:return V.hasOwnProperty(e)?V[e]:null;case M.SESSION:return null===(a=A.getItem(e))?a:JSON.parse(a);case M.VISITOR:return null===(a=N.getItem(e))?a:JSON.parse(a)}}},z=function(e,t,a,n){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+a+(n?"\n"+n:"")},G=function(e,t,a,n,r){return function(o,i){var s=t(o);if(!s)return n?"":void 0;var c,d,l=s.storageDuration;try{c=e.getModuleExports(s.modulePath),d=e.getModuleDefinition(s.modulePath)}catch(e){return void F.error(z(s,o,e.message,e.stack))}if("function"==typeof c){var u,p=s.settings||{};!s.hasTransformedFilePaths&&d.filePaths&&(r(p,d.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{u=c(a(p,i),i)}catch(e){return void F.error(z(s,o,e.message,e.stack))}return l&&(null!=u?B.setValue(o,l,u):u=B.getValue(o,l)),null==u&&null!=s.defaultValue&&(u=s.defaultValue),"string"==typeof u&&(s.cleanText&&(u=q(u)),s.forceLowerCase&&(u=u.toLowerCase())),u}F.error(z(s,o,"Module did not export a function."))}},H=v,J={text:function(e){return e.textContent},cleanText:function(e){return H(e.textContent)}},W=function(e,t,a){for(var n,r=e,o=0,i=t.length;o<i;o++){if(null==r)return;var s=t[o];if(a&&"@"===s.charAt(0)){var c=s.slice(1);r=J[c](r)}else if(r.getAttribute&&(n=s.match(/^getAttribute\((.+)\)$/))){var d=n[1];r=r.getAttribute(d)}else r=r[s]}return r},K=function(e,t,a){return function(n,r){var o;if(t(n))o=a(n,r);else{var i=n.split("."),s=i.shift();"this"===s?r&&(o=W(r.element,i,!0)):"event"===s?r&&(o=W(r,i)):"target"===s?r&&(o=W(r.target,i)):o=W(e[s],i)}return o}},Q=function(e,t){return function(a){var n=a.split(".")[0];return Boolean(t(a)||"this"===n||"event"===n||"target"===n||e.hasOwnProperty(n))}},$=function(e,t,a){var n={exports:{}};return e.call(n.exports,n,n.exports,t,a),n.exports},X=$,Y=O,Z=function(){var e={},t=function(t){var a=e[t];if(!a)throw new Error("Module "+t+" not found.");return a},a=function(){Object.keys(e).forEach((function(e){try{n(e)}catch(a){var t="Error initializing module "+e+". "+a.message+(a.stack?"\n"+a.stack:"");Y.error(t)}}))},n=function(e){var a=t(e);return a.hasOwnProperty("exports")||(a.exports=X(a.definition.script,a.require,a.turbine)),a.exports};return{registerModule:function(t,a,n,r,o){var i={definition:a,extensionName:n,require:r,turbine:o};i.require=r,e[t]=i},hydrateCache:a,getModuleExports:n,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ee=O,te=!1,ae=function(e){return function(t,a){var n=e._monitors;n&&(te||(ee.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),te=!0),n.forEach((function(e){e[t]&&e[t](a)})))}},ne=O,re=function(e,t,a){var n,r,o,i,s=[],c=function(n,r,o){if(!e(r))return n;s.push(r);var i=t(r,o);return s.pop(),null==i&&a?"":i};return n=function(e,t){var a=/^%([^%]+)%$/.exec(e);return a?c(e,a[1],t):e.replace(/%(.+?)%/g,(function(e,a){return c(e,a,t)}))},r=function(e,t){for(var a={},n=Object.keys(e),r=0;r<n.length;r++){var o=n[r],s=e[o];a[o]=i(s,t)}return a},o=function(e,t){for(var a=[],n=0,r=e.length;n<r;n++)a.push(i(e[n],t));return a},i=function(e,t){return"string"==typeof e?n(e,t):Array.isArray(e)?o(e,t):"object"==typeof e&&null!==e?r(e,t):e},function(e,t){return s.length>10?(ne.error("Data element circular reference detected: "+s.join(" -> ")),e):i(e,t)}},oe=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var a in t)e[a]=t[a]}}},ie="undefined"!=typeof window&&window.Promise||void 0!==i&&i.Promise,se=ie,ce=function(e,t,a){return function(n,r,o,i){return i.then((function(){var i,s=n.delayNext;return new se((function(t,a){var r=e(n,o,[o]);if(!s)return t();var c=n.timeout,d=new se((function(e,t){i=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));se.race([r,d]).then(t,a)})).catch((function(e){return clearTimeout(i),e=t(e),a(n,r,e),se.reject(e)})).then((function(){clearTimeout(i)}))}))}},de=ie,le=function(e,t,a,n,r){return function(o,i,s,c){return c.then((function(){var c;return new de((function(t,a){var n=e(o,s,[s]),r=o.timeout,i=new de((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+r/1e3+" seconds to complete. "))}),r)}));de.race([n,i]).then(t,a)})).catch((function(e){return clearTimeout(c),e=t(e),n(o,i,e),de.reject(e)})).then((function(e){if(clearTimeout(c),!a(o,e))return r(o,i),de.reject()}))}))}},ue=ie.resolve(),pe=function(e,t,a){return function(n,r){return n.conditions&&n.conditions.forEach((function(t){ue=e(t,n,r,ue)})),n.actions&&n.actions.forEach((function(e){ue=t(e,n,r,ue)})),ue=(ue=ue.then((function(){a(n)}))).catch((function(){}))}},ge=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},fe=function(e,t,a,n){return function(r,o){var i;if(r.conditions)for(var s=0;s<r.conditions.length;s++){i=r.conditions[s];try{var c=e(i,o,[o]);if(ge(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(i,c))return a(i,r),!1}catch(e){return n(i,r,e),!1}}return!0}},me=function(e,t){return function(a,n){e(a,n)&&t(a,n)}},ye=function(e){return function(t){var a=e.getModuleDefinition(t.modulePath);return a&&a.displayName||t.modulePath}},ve=function(e){return function(t){var a=t.rule,n=t.event,r=e.getModuleDefinition(n.modulePath).name;return{$type:e.getModuleExtensionName(n.modulePath)+"."+r,$rule:{id:a.id,name:a.name}}}},he=function(e,t,a,n,r,o){return function(i,s){var c=s.rule,d=s.event;d.settings=d.settings||{};try{var l=r(s);t(d,null,[function(t){var n=a(l,t);i((function(){e(n,c)}))}])}catch(e){o.error(n(d,c,e))}}},be=function(e,t,a,n){return function(r,o,i){var s=t(r);a.error(e(s,o.name,i)),n("ruleActionFailed",{rule:o,action:r})}},we=function(e,t,a,n){return function(r,o,i){var s=t(r);a.error(e(s,o.name,i)),n("ruleConditionFailed",{rule:o,condition:r})}},Le=function(e,t,a){return function(n,r){var o=e(n);t.log('Condition "'+o+'" for rule "'+r.name+'" was not met.'),a("ruleConditionFailed",{rule:r,condition:n})}},Pe=function(e,t){return function(a){e.log('Rule "'+a.name+'" fired.'),t("ruleCompleted",{rule:a})}},De=function(e,t,a){return function(n,r){var o;if(n.actions)for(var i=0;i<n.actions.length;i++){o=n.actions[i];try{e(o,r,[r])}catch(e){return void t(o,n,e)}}a(n)}},Te=function(e,t,a,n){return function(r,o){n("ruleTriggered",{rule:o}),e?a(o,r):t(o,r)}},Ie=function(e,t,a){return'Failed to execute "'+e+'" for "'+t+'" rule. '+a.message+(a.stack?"\n"+a.stack:"")},Ce=function(e,t){return t&&!e.negate||!t&&e.negate},Ee=[],Se=!1,Oe=function(e){Se?e():Ee.push(e)},ke=function(e,t,a){e(t).forEach((function(e){a(Oe,e)})),Se=!0,Ee.forEach((function(e){e()})),Ee=[]},_e=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},je={};Object.defineProperty(je,"__esModule",{value:!0}),je.isPlainObject=a;var xe,Re=O,Ae=c,{isPlainObject:Ne}=je,Me=function(e,t){return Ne(t=t||{})?t=Ae({},t,e):Ae(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return Re.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ve=function(e,t){return function(a,n){var r=e[a];if(r){var o=r.modules;if(o)for(var i=Object.keys(o),s=0;s<i.length;s++){var c=i[s],d=o[c];if(d.shared&&d.name===n)return t.getModuleExports(c)}}}},Ue=function(e,t){return function(){return t?e(t):{}}},qe=function(e,t,a){return function(n){if(a){var r=n.split(".");r.splice(r.length-1||1,0,"min"),n=r.join(".")}return e(t)+n}},Fe=".js",Be=function(e){return e.substr(0,e.lastIndexOf("/"))},ze=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},Ge=function(e,t){ze(t,Fe)||(t+=Fe);var a=t.split("/"),n=Be(e).split("/");return a.forEach((function(e){e&&"."!==e&&(".."===e?n.length&&n.pop():n.push(e))})),n.join("/")},He={exports:{}};xe=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var n in a)t[n]=a[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(n){function r(){}function o(t,a,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var i=JSON.stringify(a);/^[\{\[]/.test(i)&&(a=i)}catch(e){}a=n.write?n.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+a+s}}function i(e,a){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],i=0;i<o.length;i++){var s=o[i].split("="),c=s.slice(1).join("=");a||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var d=t(s[0]);if(c=(n.read||n)(c,d)||t(c),a)try{c=JSON.parse(c)}catch(e){}if(r[d]=c,e===d)break}catch(e){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return i(e,!1)},r.getJSON=function(e){return i(e,!0)},r.remove=function(t,a){o(t,"",e(a,{expires:-1}))},r.defaults={},r.withConverter=a,r}return a((function(){}))},He.exports=xe();var Je=He.exports,We={get:Je.get,set:Je.set,remove:Je.remove},Ke=ie,Qe=function(e,t){return new Ke((function(a,n){t.onload=function(){a(t)},t.onerror=function(){n(new Error("Failed to load script "+e))}}))},$e=function(e){var t={};if(!e||"string"!=typeof e)return t;var a=e.trim().replace(/^[?#&]/,""),n=new URLSearchParams(a),r=n.keys();do{var o=r.next(),i=o.value;if(i){var s=n.getAll(i);1===s.length?t[i]=s[0]:t[i]=s}}while(!1===o.done);return t},Xe=function(e){var t="{{space}}",a=new URLSearchParams;return Object.keys(e).forEach((function(n){var r=e[n];"string"==typeof e[n]?r=r.replace(/ /g,t):["object","undefined"].includes(typeof r)&&!Array.isArray(r)&&(r=""),Array.isArray(r)?r.forEach((function(e){a.append(n,e)})):a.append(n,r)})),a.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")},Ye="@adobe/reactor-",Ze={cookie:We,document:s,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=Qe(e,t);return document.getElementsByTagName("head")[0].appendChild(t),a},"object-assign":c,promise:ie,"query-string":{parse:function(e){return $e(e)},stringify:function(e){return Xe(e)}},window:d},et=function(e){return function(t){if(0===t.indexOf(Ye)){var a=t.substr(Ye.length),n=Ze[a];if(n)return n}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},tt=Ve,at=Ue,nt=qe,rt=O,ot=Ge,it=et,st=function(e,t,a,n,r,o,i){var s=e.extensions,c=e.buildInfo,d=e.environment,l=e.property.settings;if(s){var u=tt(s,t);Object.keys(s).forEach((function(p){var g=s[p],f=g.settings;Array.isArray(g.filePaths)&&(f=o(f,g.filePaths));var m=at(n,f);if(g.modules){var y=rt.createPrefixedLogger(g.displayName),v=nt(i,g.hostedLibFilesBaseUrl,c.minified),h={buildInfo:c,environment:d,property:{name:e.property.name,id:e.property.id},getDataElementValue:r,getExtensionSettings:m,getHostedLibFileUrl:v,getSharedModule:u,logger:y,propertySettings:l,replaceTokens:n,onDebugChanged:a.onDebugChanged,get debugEnabled(){return a.getDebugEnabled()}};Object.keys(g.modules).forEach((function(e){var a=g.modules[e],n=it((function(a){var n=ot(e,a);return t.getModuleExports(n)}));t.registerModule(e,a,p,n,h)}))}})),t.hydrateCache()}return t},ct=We,dt=O,lt=function(e,t,a,n,r){var o=dt.createPrefixedLogger("Custom Script");e.track=function(e){dt.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=o,e.notify=function(e,t){switch(dt.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:o.info(e);break;case 4:o.warn(e);break;case 5:o.error(e);break;default:o.log(e)}},e.getVar=n,e.setVar=r,e.setCookie=function(e,t,a){var n="",r={};a&&(n=", { expires: "+a+" }",r.expires=a);var o='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+n+").";dt.deprecation(o),ct.set(e,t,r)},e.readCookie=function(e){return dt.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),ct.get(e)},e.removeCookie=function(e){dt.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),ct.remove(e)},e.cookie=ct,e.pageBottom=function(){},e.setDebug=a;var i=!1;Object.defineProperty(e,"_container",{get:function(){return i||(dt.warn("_satellite._container may change at any time and should only be used for debugging."),i=!0),t}})
},{isPlainObject:ut}=je,pt=s,gt=c,ft=u,mt=p,yt=f,vt=y,ht=G,bt=K,wt=Q,Lt=Z,Pt=ae,Dt=re,Tt=oe,It=ce,Ct=le,Et=pe,St=fe,Ot=me,kt=ye,_t=ve,jt=he,xt=be,Rt=we,At=Le,Nt=Pe,Mt=De,Vt=Te,Ut=Ie,qt=Ce,Ft=ke,Bt=_e,zt=Me,Gt=j,Ht=st,Jt=lt,Wt=function(e,t){return function(a,n,r){return e&&ut(a)&&Object.keys(a).length&&Array.isArray(n)&&n.length?(n.forEach((function(e){Boolean(null!=r&&/^core\/.*actions.*\/customCode\.js$/.test(r))&&"source"===e&&!a.isExternal||o(e.split("."),a,t)})),a):a}},Kt=O,Qt=window._satellite;if(Qt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var $t=Qt.container;delete Qt.container;var Xt=gt({},$t.buildInfo);Object.defineProperty(Xt,"environment",{get:function(){return Kt.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),$t.environment.stage}}),$t.buildInfo=Xt;var Yt,Zt=yt(Gt("localStorage"),Kt),ea="";pt.currentScript&&pt.currentScript.getAttribute("src")&&(ea=pt.currentScript.getAttribute("src"));try{Yt=ft(ea,Boolean($t.company.dynamicCdnEnabled),$t.company.cdnAllowList,Zt)}catch(e){throw Kt.warn("Please review the following error:"),e}var ta,aa=Wt(Yt.isDynamicEnforced,Yt.decorateWithDynamicHost),na=Lt(),ra=$t.property.settings.undefinedVarsReturnEmpty,oa=$t.property.settings.ruleComponentSequencingEnabled,ia=$t.dataElements||{},sa=function(e){return ia[e]},ca=function(){return ta.apply(null,arguments)},da=ht(na,sa,ca,ra,aa),la={},ua=Tt(la),pa=wt(la,sa),ga=bt(la,sa,da);ta=Dt(pa,ga,ra),Jt(Qt,$t,Zt.setDebugEnabled,ga,ua),Ht($t,na,Zt,ta,da,aa,Yt.decorateWithDynamicHost);var fa=Pt(Qt),ma=vt(na,ta,aa),ya=kt(na),va=At(ya,Kt,fa),ha=Rt(Ut,ya,Kt,fa),ba=xt(Ut,ya,Kt,fa),wa=Nt(Kt,fa),La=jt(Vt(oa,Ot(St(ma,qt,va,ha),Mt(ma,ba,wa)),Et(Ct(ma,Bt,qt,ha,va),It(ma,Bt,ba),wa),fa),ma,zt,Ut,_t(na),Kt);Ft(mt,$t.rules||[],La)}return e(Qt)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();